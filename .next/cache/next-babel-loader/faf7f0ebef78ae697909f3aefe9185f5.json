{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { PureComponent } from 'react';\nimport dynamic from 'next/dynamic';\nimport { Layout, BackTop } from 'antd';\nimport { connect } from 'react-redux';\nimport { Router } from 'next/router';\nimport { loadUIValue } from '@redux/ui/actions';\nimport './primary-layout.less';\nconst Header = dynamic(() => import('@components/common/layout/header'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('@components/common/layout/header')],\n    modules: ['@components/common/layout/header']\n  }\n});\nconst Footer = dynamic(() => import('@components/common/layout/footer'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('@components/common/layout/footer')],\n    modules: ['@components/common/layout/footer']\n  }\n});\nconst Loader = dynamic(() => import('@components/common/base/loader'), {\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('@components/common/base/loader')],\n    modules: ['@components/common/base/loader']\n  }\n});\n\nclass PrimaryLayout extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      routerChange: false\n    });\n  }\n\n  componentDidMount() {\n    const {\n      loadUIValue: handleLoadUI\n    } = this.props;\n    false && handleLoadUI();\n    false && this.handleStateChange();\n  }\n\n  handleStateChange() {\n    Router.events.on('routeChangeStart', async () => this.setState({\n      routerChange: true\n    }));\n    Router.events.on('routeChangeComplete', async () => this.setState({\n      routerChange: false\n    }));\n  }\n\n  render() {\n    const {\n      children,\n      ui\n    } = this.props;\n    const {\n      routerChange\n    } = this.state;\n    return __jsx(React.Fragment, null, __jsx(Layout, null, __jsx(\"div\", {\n      className: (ui === null || ui === void 0 ? void 0 : ui.theme) === 'dark' ? 'container dark' : 'container',\n      id: \"primaryLayout\"\n    }, __jsx(Header, null), __jsx(Layout.Content, {\n      className: \"content\",\n      style: {\n        position: 'relative'\n      }\n    }, routerChange && __jsx(Loader, null), children), __jsx(BackTop, {\n      className: \"backTop\"\n    }), __jsx(Footer, null))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  ui: _objectSpread({}, state.ui)\n});\n\nconst mapDispatchToProps = {\n  loadUIValue\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimaryLayout);","map":{"version":3,"sources":["c:/Users/Admin/Desktop/Work/foodiefans/foodiefans-main/user/src/layouts/primary-layout.tsx"],"names":["PureComponent","dynamic","Layout","BackTop","connect","Router","loadUIValue","Header","Footer","Loader","PrimaryLayout","routerChange","componentDidMount","handleLoadUI","props","handleStateChange","events","on","setState","render","children","ui","state","theme","position","mapStateToProps","mapDispatchToProps"],"mappings":";;;;;;;;;AAAA,SAASA,aAAT,QAA8B,OAA9B;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,MAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,MAAT,QAAuB,aAAvB;AAEA,SAASC,WAAT,QAA4B,mBAA5B;AACA,OAAO,uBAAP;AAEA,MAAMC,MAAM,GAAGN,OAAO,CAAC,MAAM,OAAO,kCAAP,CAAP;AAAA;AAAA,wCAAc,kCAAd;AAAA,cAAc,kCAAd;AAAA;AAAA,EAAtB;AACA,MAAMO,MAAM,GAAGP,OAAO,CAAC,MAAM,OAAO,kCAAP,CAAP;AAAA;AAAA,wCAAc,kCAAd;AAAA,cAAc,kCAAd;AAAA;AAAA,EAAtB;AACA,MAAMQ,MAAM,GAAGR,OAAO,CAAC,MAAM,OAAO,gCAAP,CAAP;AAAA;AAAA,wCAAc,gCAAd;AAAA,cAAc,gCAAd;AAAA;AAAA,EAAtB;;AAQA,MAAMS,aAAN,SAA4BV,aAA5B,CAAwD;AAAA;AAAA;;AAAA,mCAC9C;AACNW,MAAAA,YAAY,EAAE;AADR,KAD8C;AAAA;;AAKtDC,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAAEN,MAAAA,WAAW,EAAEO;AAAf,QAAgC,KAAKC,KAA3C;AACA,aAAmBD,YAAY,EAA/B;AACA,aAAmB,KAAKE,iBAAL,EAAnB;AACD;;AAEDA,EAAAA,iBAAiB,GAAG;AAClBV,IAAAA,MAAM,CAACW,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqC,YAAY,KAAKC,QAAL,CAAc;AAAEP,MAAAA,YAAY,EAAE;AAAhB,KAAd,CAAjD;AACAN,IAAAA,MAAM,CAACW,MAAP,CAAcC,EAAd,CAAiB,qBAAjB,EAAwC,YAAY,KAAKC,QAAL,CAAc;AAAEP,MAAAA,YAAY,EAAE;AAAhB,KAAd,CAApD;AACD;;AAEDQ,EAAAA,MAAM,GAAG;AACP,UAAM;AACJC,MAAAA,QADI;AACMC,MAAAA;AADN,QAEF,KAAKP,KAFT;AAGA,UAAM;AAAEH,MAAAA;AAAF,QAAmB,KAAKW,KAA9B;AACA,WACE,4BACE,MAAC,MAAD,QACE;AACE,MAAA,SAAS,EAAE,CAAAD,EAAE,SAAF,IAAAA,EAAE,WAAF,YAAAA,EAAE,CAAEE,KAAJ,MAAc,MAAd,GAAuB,gBAAvB,GAA0C,WADvD;AAEE,MAAA,EAAE,EAAC;AAFL,OAIE,MAAC,MAAD,OAJF,EAKE,MAAC,MAAD,CAAQ,OAAR;AACE,MAAA,SAAS,EAAC,SADZ;AAEE,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE;AAAZ;AAFT,OAIGb,YAAY,IAAI,MAAC,MAAD,OAJnB,EAKGS,QALH,CALF,EAYE,MAAC,OAAD;AAAS,MAAA,SAAS,EAAC;AAAnB,MAZF,EAaE,MAAC,MAAD,OAbF,CADF,CADF,CADF;AAqBD;;AA1CqD;;AA6CxD,MAAMK,eAAe,GAAIH,KAAD,KAAiB;AACvCD,EAAAA,EAAE,oBAAOC,KAAK,CAACD,EAAb;AADqC,CAAjB,CAAxB;;AAGA,MAAMK,kBAAkB,GAAG;AAAEpB,EAAAA;AAAF,CAA3B;AAEA,eAAeF,OAAO,CAACqB,eAAD,EAAkBC,kBAAlB,CAAP,CAA6ChB,aAA7C,CAAf","sourcesContent":["import { PureComponent } from 'react';\nimport dynamic from 'next/dynamic';\nimport { Layout, BackTop } from 'antd';\nimport { connect } from 'react-redux';\nimport { Router } from 'next/router';\nimport { IUIConfig } from 'src/interfaces/ui-config';\nimport { loadUIValue } from '@redux/ui/actions';\nimport './primary-layout.less';\n\nconst Header = dynamic(() => import('@components/common/layout/header'));\nconst Footer = dynamic(() => import('@components/common/layout/footer'));\nconst Loader = dynamic(() => import('@components/common/base/loader'));\n\ninterface DefaultProps {\n  loadUIValue: Function;\n  children: any;\n  ui: IUIConfig\n}\n\nclass PrimaryLayout extends PureComponent<DefaultProps> {\n  state = {\n    routerChange: false\n  };\n\n  componentDidMount() {\n    const { loadUIValue: handleLoadUI } = this.props;\n    process.browser && handleLoadUI();\n    process.browser && this.handleStateChange();\n  }\n\n  handleStateChange() {\n    Router.events.on('routeChangeStart', async () => this.setState({ routerChange: true }));\n    Router.events.on('routeChangeComplete', async () => this.setState({ routerChange: false }));\n  }\n\n  render() {\n    const {\n      children, ui\n    } = this.props;\n    const { routerChange } = this.state;\n    return (\n      <>\n        <Layout>\n          <div\n            className={ui?.theme === 'dark' ? 'container dark' : 'container'}\n            id=\"primaryLayout\"\n          >\n            <Header />\n            <Layout.Content\n              className=\"content\"\n              style={{ position: 'relative' }}\n            >\n              {routerChange && <Loader />}\n              {children}\n            </Layout.Content>\n            <BackTop className=\"backTop\" />\n            <Footer />\n          </div>\n        </Layout>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  ui: { ...state.ui }\n});\nconst mapDispatchToProps = { loadUIValue };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrimaryLayout);\n"]},"metadata":{},"sourceType":"module"}