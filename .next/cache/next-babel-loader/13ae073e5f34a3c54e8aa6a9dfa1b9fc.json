{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { PureComponent } from 'react';\nimport { Input, DatePicker } from 'antd';\nimport { AppstoreOutlined, MenuOutlined, SearchOutlined, CalendarOutlined } from '@ant-design/icons';\nimport { debounce } from 'lodash';\nimport './index.less';\nvar RangePicker = DatePicker.RangePicker;\nvar Search = Input.Search;\n\nvar SearchFeedBar = /*#__PURE__*/function (_PureComponent) {\n  _inherits(SearchFeedBar, _PureComponent);\n\n  var _super = _createSuper(SearchFeedBar);\n\n  function SearchFeedBar() {\n    var _this;\n\n    _classCallCheck(this, SearchFeedBar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      q: '',\n      isGrid: false,\n      showSearch: false,\n      showCalendar: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearch\", debounce( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        var handleSearch, value;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                handleSearch = _this.props.handleSearch;\n                value = e.target && e.target.value || '';\n                handleSearch({\n                  q: value\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), 500));\n\n    return _this;\n  }\n\n  _createClass(SearchFeedBar, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var prevTab = prevProps.tab;\n      var tab = this.props.tab;\n\n      if (prevTab !== tab) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          q: ''\n        });\n      }\n    }\n  }, {\n    key: \"handleViewGrid\",\n    value: function handleViewGrid(isGrid) {\n      var viewGrid = this.props.handleViewGrid;\n      this.setState({\n        isGrid: isGrid\n      });\n      viewGrid(isGrid);\n    }\n  }, {\n    key: \"searchDateRange\",\n    value: function searchDateRange(dates, dateStrings) {\n      if (!dateStrings.length) return;\n      var handleSearch = this.props.handleSearch;\n      handleSearch({\n        fromDate: dateStrings[0],\n        toDate: dateStrings[1]\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          q = _this$state.q,\n          isGrid = _this$state.isGrid,\n          showSearch = _this$state.showSearch,\n          showCalendar = _this$state.showCalendar;\n      var _this$props = this.props,\n          searching = _this$props.searching,\n          tab = _this$props.tab;\n      return __jsx(\"div\", {\n        className: \"search-post-bar\"\n      }, showCalendar && __jsx(RangePicker, {\n        onChange: this.searchDateRange.bind(this)\n      }), showSearch && __jsx(Search, {\n        placeholder: \"Enter keyword here...\",\n        onChange: function onChange(e) {\n          var _e$target;\n\n          e.persist();\n\n          _this2.setState({\n            q: (e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.value) || ''\n          });\n\n          _this2.onSearch(e);\n        },\n        value: q,\n        loading: searching,\n        allowClear: true,\n        enterButton: true\n      }), __jsx(\"div\", {\n        className: \"grid-btns\"\n      }, __jsx(\"a\", {\n        \"aria-hidden\": true,\n        className: showSearch ? 'active' : '',\n        onClick: function onClick() {\n          return _this2.setState({\n            showSearch: !showSearch,\n            showCalendar: false\n          });\n        }\n      }, __jsx(SearchOutlined, null)), __jsx(\"a\", {\n        \"aria-hidden\": true,\n        className: showCalendar ? 'active' : '',\n        onClick: function onClick() {\n          return _this2.setState({\n            showCalendar: !showCalendar,\n            showSearch: false\n          });\n        }\n      }, __jsx(CalendarOutlined, null)), tab === 'post' && __jsx(\"a\", {\n        \"aria-hidden\": true,\n        className: isGrid ? 'active' : '',\n        onClick: this.handleViewGrid.bind(this, true)\n      }, __jsx(AppstoreOutlined, null)), tab === 'post' && __jsx(\"a\", {\n        \"aria-hidden\": true,\n        className: !isGrid ? 'active' : '',\n        onClick: this.handleViewGrid.bind(this, false)\n      }, __jsx(MenuOutlined, null))));\n    }\n  }]);\n\n  return SearchFeedBar;\n}(PureComponent);\n\nexport { SearchFeedBar as default };","map":{"version":3,"sources":["c:/Users/Admin/Desktop/Work/foodiefans/foodiefans-main/user/src/components/post/search-bar.tsx"],"names":["PureComponent","Input","DatePicker","AppstoreOutlined","MenuOutlined","SearchOutlined","CalendarOutlined","debounce","RangePicker","Search","SearchFeedBar","q","isGrid","showSearch","showCalendar","e","handleSearch","props","value","target","prevProps","prevTab","tab","setState","viewGrid","handleViewGrid","dates","dateStrings","length","fromDate","toDate","state","searching","searchDateRange","bind","persist","onSearch"],"mappings":"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","sourcesContent":["import { PureComponent } from 'react';\nimport {\n  Input, DatePicker\n} from 'antd';\nimport {\n  AppstoreOutlined, MenuOutlined, SearchOutlined, CalendarOutlined\n} from '@ant-design/icons';\nimport { debounce } from 'lodash';\nimport './index.less';\n\nconst { RangePicker } = DatePicker;\n\nconst { Search } = Input;\ninterface IProps {\n  searching: boolean;\n  handleSearch: Function;\n  handleViewGrid?: Function;\n  tab: string;\n}\n\nexport default class SearchFeedBar extends PureComponent<IProps> {\n  state = {\n    q: '',\n    isGrid: false,\n    showSearch: false,\n    showCalendar: false\n  }\n\n  componentDidUpdate(prevProps) {\n    const { tab: prevTab } = prevProps;\n    const { tab } = this.props;\n    if (prevTab !== tab) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({ q: '' });\n    }\n  }\n\n  onSearch = debounce(async (e) => {\n    const { handleSearch } = this.props;\n    const value = (e.target && e.target.value) || '';\n    handleSearch({\n      q: value\n    });\n  }, 500)\n\n  handleViewGrid(isGrid: boolean) {\n    const { handleViewGrid: viewGrid } = this.props;\n    this.setState({ isGrid });\n    viewGrid(isGrid);\n  }\n\n  searchDateRange(dates: [any, any], dateStrings: [string, string]) {\n    if (!dateStrings.length) return;\n    const { handleSearch } = this.props;\n    handleSearch({\n      fromDate: dateStrings[0],\n      toDate: dateStrings[1]\n    });\n  }\n\n  render() {\n    const {\n      q, isGrid, showSearch, showCalendar\n    } = this.state;\n    const { searching, tab } = this.props;\n    return (\n      <div className=\"search-post-bar\">\n        {showCalendar && <RangePicker onChange={this.searchDateRange.bind(this)} />}\n        {showSearch && (\n        <Search\n          placeholder=\"Enter keyword here...\"\n          onChange={(e) => {\n            e.persist();\n            this.setState({ q: e?.target?.value || '' });\n            this.onSearch(e);\n          }}\n          value={q}\n          loading={searching}\n          allowClear\n          enterButton\n        />\n        )}\n        <div className=\"grid-btns\">\n          <a aria-hidden className={showSearch ? 'active' : ''} onClick={() => this.setState({ showSearch: !showSearch, showCalendar: false })}><SearchOutlined /></a>\n          <a aria-hidden className={showCalendar ? 'active' : ''} onClick={() => this.setState({ showCalendar: !showCalendar, showSearch: false })}><CalendarOutlined /></a>\n          {tab === 'post' && <a aria-hidden className={isGrid ? 'active' : ''} onClick={this.handleViewGrid.bind(this, true)}><AppstoreOutlined /></a>}\n          {tab === 'post' && <a aria-hidden className={!isGrid ? 'active' : ''} onClick={this.handleViewGrid.bind(this, false)}><MenuOutlined /></a>}\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}