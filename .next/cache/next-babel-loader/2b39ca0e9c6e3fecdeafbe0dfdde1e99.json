{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { PureComponent } from 'react';\nimport { HeartOutlined, CommentOutlined, LockOutlined, UnlockOutlined, FileImageOutlined, VideoCameraOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport Link from 'next/link';\nimport { videoDuration, shortenLargeNumber } from '@lib/index';\nimport './index.less';\nexport var FeedGridCard = /*#__PURE__*/function (_PureComponent) {\n  _inherits(FeedGridCard, _PureComponent);\n\n  var _super = _createSuper(FeedGridCard);\n\n  function FeedGridCard() {\n    _classCallCheck(this, FeedGridCard);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(FeedGridCard, [{\n    key: \"render\",\n    value: function render() {\n      var _feed$thumbnail, _images$, _feed$teaser, _feed$teaser2, _feed$thumbnail2, _feed$thumbnail3, _images$2, _images$3, _videos$, _videos$2, _videos$3;\n\n      var feed = this.props.feed;\n      var canView = !feed.isSale && feed.isSubscribed || feed.isSale && feed.isBought;\n      var images = feed.files && feed.files.filter(function (f) {\n        return f.type === 'feed-photo';\n      });\n      var videos = feed.files && feed.files.filter(function (f) {\n        return f.type === 'feed-video';\n      });\n      var thumbUrl = (canView ? (feed === null || feed === void 0 ? void 0 : (_feed$thumbnail = feed.thumbnail) === null || _feed$thumbnail === void 0 ? void 0 : _feed$thumbnail.url) || images && images[0] && ((_images$ = images[0]) === null || _images$ === void 0 ? void 0 : _images$.url) || (feed === null || feed === void 0 ? void 0 : feed.teaser) && (feed === null || feed === void 0 ? void 0 : (_feed$teaser = feed.teaser) === null || _feed$teaser === void 0 ? void 0 : _feed$teaser.thumbnails) && (feed === null || feed === void 0 ? void 0 : (_feed$teaser2 = feed.teaser) === null || _feed$teaser2 === void 0 ? void 0 : _feed$teaser2.thumbnails[0]) : (feed === null || feed === void 0 ? void 0 : (_feed$thumbnail2 = feed.thumbnail) === null || _feed$thumbnail2 === void 0 ? void 0 : _feed$thumbnail2.thumbnails) && (feed === null || feed === void 0 ? void 0 : (_feed$thumbnail3 = feed.thumbnail) === null || _feed$thumbnail3 === void 0 ? void 0 : _feed$thumbnail3.thumbnails[0]) || images && images[0] && ((_images$2 = images[0]) === null || _images$2 === void 0 ? void 0 : _images$2.thumbnails) && ((_images$3 = images[0]) === null || _images$3 === void 0 ? void 0 : _images$3.thumbnails[0]) || videos && videos[0] && ((_videos$ = videos[0]) === null || _videos$ === void 0 ? void 0 : _videos$.thumbnails) && ((_videos$2 = videos[0]) === null || _videos$2 === void 0 ? void 0 : _videos$2.thumbnails[0])) || '/static/leaf.jpg';\n      return __jsx(\"div\", {\n        className: \"feed-grid-card\",\n        key: feed._id\n      }, __jsx(Link, {\n        href: {\n          pathname: '/post',\n          query: {\n            id: feed.slug || feed._id\n          }\n        },\n        as: \"/post/\".concat(feed.slug || feed._id)\n      }, __jsx(\"div\", {\n        className: \"card-thumb\"\n      }, __jsx(\"div\", {\n        className: \"card-bg\",\n        style: {\n          backgroundImage: \"url(\".concat(thumbUrl, \")\"),\n          filter: !canView ? 'blur(20px)' : 'blur(0px)'\n        }\n      }), __jsx(\"div\", {\n        className: \"card-middle\"\n      }, canView ? __jsx(UnlockOutlined, null) : __jsx(LockOutlined, null), !feed.isSale && !feed.isSubscribed && __jsx(Button, {\n        type: \"link\"\n      }, \"Subscribe to unlock\"), feed.isSale && !feed.isBought && __jsx(Button, {\n        type: \"link\"\n      }, \"Pay now to unlock\")), __jsx(\"div\", {\n        className: \"card-bottom\"\n      }, __jsx(\"div\", {\n        className: \"stats\"\n      }, __jsx(\"a\", null, __jsx(HeartOutlined, null), ' ', feed.totalLike > 0 ? shortenLargeNumber(feed.totalLike) : 0), __jsx(\"a\", null, __jsx(CommentOutlined, null), ' ', feed.totalComment > 0 ? shortenLargeNumber(feed.totalComment) : 0)), feed.files && feed.files.length > 0 && __jsx(\"span\", {\n        className: \"count-media-item\"\n      }, images.length > 0 && __jsx(\"span\", null, images.length > 1 && images.length, ' ', __jsx(FileImageOutlined, null), ' '), videos.length > 0 && images.length > 0 && '|', videos.length > 0 && __jsx(\"span\", null, __jsx(VideoCameraOutlined, null), ' ', videos.length === 1 && videoDuration((_videos$3 = videos[0]) === null || _videos$3 === void 0 ? void 0 : _videos$3.duration)))))));\n    }\n  }]);\n\n  return FeedGridCard;\n}(PureComponent);","map":{"version":3,"sources":["c:/Users/Admin/Desktop/Work/foodiefans/foodiefans-main/user/src/components/post/grid-card.tsx"],"names":["PureComponent","HeartOutlined","CommentOutlined","LockOutlined","UnlockOutlined","FileImageOutlined","VideoCameraOutlined","Button","Link","videoDuration","shortenLargeNumber","FeedGridCard","feed","props","canView","isSale","isSubscribed","isBought","images","files","filter","f","type","videos","thumbUrl","thumbnail","url","teaser","thumbnails","_id","pathname","query","id","slug","backgroundImage","totalLike","totalComment","length","duration"],"mappings":"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","sourcesContent":["import { PureComponent } from 'react';\nimport {\n  HeartOutlined, CommentOutlined, LockOutlined, UnlockOutlined,\n  FileImageOutlined, VideoCameraOutlined\n} from '@ant-design/icons';\nimport { Button } from 'antd';\nimport Link from 'next/link';\nimport { videoDuration, shortenLargeNumber } from '@lib/index';\nimport { IFeed } from 'src/interfaces';\nimport './index.less';\n\ninterface IProps {\n  feed: IFeed;\n}\n\nexport class FeedGridCard extends PureComponent<IProps> {\n  render() {\n    const { feed } = this.props;\n    const canView = (!feed.isSale && feed.isSubscribed) || (feed.isSale && feed.isBought);\n    const images = feed.files && feed.files.filter((f) => f.type === 'feed-photo');\n    const videos = feed.files && feed.files.filter((f) => f.type === 'feed-video');\n    const thumbUrl = (canView ? ((feed?.thumbnail?.url) || (images && images[0] && images[0]?.url) || (feed?.teaser && feed?.teaser?.thumbnails && feed?.teaser?.thumbnails[0]))\n      : (feed?.thumbnail?.thumbnails && feed?.thumbnail?.thumbnails[0]) || (images && images[0] && images[0]?.thumbnails && images[0]?.thumbnails[0]) || (videos && videos[0] && videos[0]?.thumbnails && videos[0]?.thumbnails[0]))\n     || '/static/leaf.jpg';\n    return (\n      <div className=\"feed-grid-card\" key={feed._id}>\n        <Link\n          href={{ pathname: '/post', query: { id: feed.slug || feed._id } }}\n          as={`/post/${feed.slug || feed._id}`}\n        >\n          <div className=\"card-thumb\">\n            {/* eslint-disable-next-line no-nested-ternary */}\n            <div className=\"card-bg\" style={{ backgroundImage: `url(${thumbUrl})`, filter: !canView ? 'blur(20px)' : 'blur(0px)' }} />\n            <div className=\"card-middle\">\n              {canView ? <UnlockOutlined /> : <LockOutlined />}\n              {(!feed.isSale && !feed.isSubscribed) && <Button type=\"link\">Subscribe to unlock</Button>}\n              {(feed.isSale && !feed.isBought) && <Button type=\"link\">Pay now to unlock</Button>}\n            </div>\n            <div className=\"card-bottom\">\n              <div className=\"stats\">\n                <a>\n                  <HeartOutlined />\n                  {' '}\n                  {feed.totalLike > 0 ? shortenLargeNumber(feed.totalLike) : 0}\n                </a>\n                <a>\n                  <CommentOutlined />\n                  {' '}\n                  {feed.totalComment > 0 ? shortenLargeNumber(feed.totalComment) : 0}\n                </a>\n              </div>\n              {feed.files && feed.files.length > 0 && (\n                <span className=\"count-media-item\">\n                  {images.length > 0 && (\n                  <span>\n                    {images.length > 1 && images.length}\n                    {' '}\n                    <FileImageOutlined />\n                    {' '}\n                  </span>\n                  )}\n                  {videos.length > 0 && images.length > 0 && '|'}\n                  {videos.length > 0 && (\n                  <span>\n                    <VideoCameraOutlined />\n                    {' '}\n                    {videos.length === 1 && videoDuration(videos[0]?.duration)}\n                  </span>\n                  )}\n                </span>\n              )}\n            </div>\n          </div>\n        </Link>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}