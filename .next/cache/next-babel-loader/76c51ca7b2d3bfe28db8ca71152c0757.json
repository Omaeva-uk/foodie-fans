{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { PureComponent } from 'react';\nimport { Select, message, Avatar } from 'antd';\nimport { debounce } from 'lodash';\nimport { performerService } from '@services/performer.service';\nexport class SelectPerformerDropdown extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      loading: false,\n      data: []\n    });\n\n    _defineProperty(this, \"loadPerformers\", debounce(async q => {\n      try {\n        this.setState({\n          loading: true\n        });\n        const resp = await (await performerService.search({\n          q,\n          limit: 99\n        })).data;\n        this.setState({\n          data: resp.data,\n          loading: false\n        });\n      } catch (e) {\n        const err = await e;\n        message.error((err === null || err === void 0 ? void 0 : err.message) || 'Error occured');\n        this.setState({\n          loading: false\n        });\n      }\n    }, 500));\n  }\n\n  componentDidMount() {\n    this.loadPerformers('');\n  }\n\n  render() {\n    const {\n      style,\n      onSelect,\n      defaultValue,\n      disabled\n    } = this.props;\n    const {\n      data,\n      loading\n    } = this.state;\n    return __jsx(Select, {\n      showSearch: true,\n      defaultValue: defaultValue,\n      placeholder: \"Type to search model...\",\n      style: style,\n      onSearch: this.loadPerformers.bind(this),\n      onChange: val => onSelect(val),\n      loading: loading,\n      optionFilterProp: \"children\",\n      disabled: disabled\n    }, __jsx(Select.Option, {\n      value: \"\",\n      key: \"default\"\n    }, \"All Model\"), data && data.length > 0 && data.map(u => __jsx(Select.Option, {\n      value: u._id,\n      key: u._id,\n      style: {\n        textTransform: 'capitalize'\n      }\n    }, __jsx(Avatar, {\n      size: 30,\n      src: (u === null || u === void 0 ? void 0 : u.avatar) || '/static/no-avatar.png'\n    }), ' ', `${(u === null || u === void 0 ? void 0 : u.name) || (u === null || u === void 0 ? void 0 : u.username)}`)));\n  }\n\n}","map":{"version":3,"sources":["c:/Users/Admin/Desktop/Work/foodiefans/foodiefans-main/user/src/components/performer/common/select-performer-dropdown.tsx"],"names":["PureComponent","Select","message","Avatar","debounce","performerService","SelectPerformerDropdown","loading","data","q","setState","resp","search","limit","e","err","error","componentDidMount","loadPerformers","render","style","onSelect","defaultValue","disabled","props","state","bind","val","length","map","u","_id","textTransform","avatar","name","username"],"mappings":"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","sourcesContent":["import { PureComponent } from 'react';\nimport { Select, message, Avatar } from 'antd';\nimport { debounce } from 'lodash';\nimport { performerService } from '@services/performer.service';\n\ninterface IProps {\n  placeholder?: string;\n  style?: Record<string, string>;\n  onSelect: Function;\n  defaultValue?: string;\n  disabled?: boolean;\n}\n\nexport class SelectPerformerDropdown extends PureComponent<IProps> {\n  state = {\n    loading: false,\n    data: [] as any\n  };\n\n  loadPerformers = debounce(async (q) => {\n    try {\n      this.setState({ loading: true });\n      const resp = await (await performerService.search({ q, limit: 99 })).data;\n      this.setState({\n        data: resp.data,\n        loading: false\n      });\n    } catch (e) {\n      const err = await e;\n      message.error(err?.message || 'Error occured');\n      this.setState({ loading: false });\n    }\n  }, 500);\n\n  componentDidMount() {\n    this.loadPerformers('');\n  }\n\n  render() {\n    const {\n      style, onSelect, defaultValue, disabled\n    } = this.props;\n    const { data, loading } = this.state;\n    return (\n      <Select\n        showSearch\n        defaultValue={defaultValue}\n        placeholder=\"Type to search model...\"\n        style={style}\n        onSearch={this.loadPerformers.bind(this)}\n        onChange={(val) => onSelect(val)}\n        loading={loading}\n        optionFilterProp=\"children\"\n        disabled={disabled}\n      >\n        <Select.Option value=\"\" key=\"default\">\n          All Model\n        </Select.Option>\n        {data && data.length > 0 && data.map((u) => (\n          <Select.Option value={u._id} key={u._id} style={{ textTransform: 'capitalize' }}>\n            <Avatar size={30} src={u?.avatar || '/static/no-avatar.png'} />\n            {' '}\n            {`${u?.name || u?.username}`}\n          </Select.Option>\n        ))}\n      </Select>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}