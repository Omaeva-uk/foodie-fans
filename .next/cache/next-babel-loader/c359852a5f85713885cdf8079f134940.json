{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { PureComponent } from 'react';\nimport { blockService } from '@services/index';\nimport BlankLayout from './blank-layout';\nimport PrimaryLayout from './primary-layout';\nimport MaintenaceLayout from './maintenance-layout';\nimport GEOLayout from './geoBlocked-layout';\nimport PublicLayout from './public-layout';\nvar LayoutMap = {\n  geoBlock: GEOLayout,\n  maintenance: MaintenaceLayout,\n  primary: PrimaryLayout,\n  \"public\": PublicLayout,\n  blank: BlankLayout\n};\n\nvar BaseLayout = /*#__PURE__*/function (_PureComponent) {\n  _inherits(BaseLayout, _PureComponent);\n\n  var _super = _createSuper(BaseLayout);\n\n  function BaseLayout() {\n    var _this;\n\n    _classCallCheck(this, BaseLayout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      geoBlocked: false\n    });\n\n    return _this;\n  }\n\n  _createClass(BaseLayout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      false && document.addEventListener('contextmenu', function (event) {\n        return event.preventDefault();\n      });\n      this.clientCheckBlockByIp();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      false && document.removeEventListener('contextmenu', function (event) {\n        return event.preventDefault();\n      });\n    }\n  }, {\n    key: \"clientCheckBlockByIp\",\n    value: function () {\n      var _clientCheckBlockByIp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _checkBlock$data;\n\n        var checkBlock;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return blockService.checkCountryBlock();\n\n              case 2:\n                checkBlock = _context.sent;\n\n                if (checkBlock !== null && checkBlock !== void 0 && (_checkBlock$data = checkBlock.data) !== null && _checkBlock$data !== void 0 && _checkBlock$data.blocked) {\n                  this.setState({\n                    geoBlocked: true\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function clientCheckBlockByIp() {\n        return _clientCheckBlockByIp.apply(this, arguments);\n      }\n\n      return clientCheckBlockByIp;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          layout = _this$props.layout,\n          _this$props$maintenan = _this$props.maintenance,\n          maintenance = _this$props$maintenan === void 0 ? false : _this$props$maintenan;\n      var geoBlocked = this.state.geoBlocked; // eslint-disable-next-line no-nested-ternary\n\n      var Container = maintenance ? LayoutMap.maintenance : geoBlocked ? LayoutMap.geoBlock : layout && LayoutMap[layout] ? LayoutMap[layout] : LayoutMap.primary;\n      return __jsx(Container, null, children);\n    }\n  }]);\n\n  return BaseLayout;\n}(PureComponent);\n\nexport { BaseLayout as default };","map":{"version":3,"sources":["c:/Users/Admin/Desktop/Work/foodiefans/foodiefans-main/user/src/layouts/base-layout.tsx"],"names":["PureComponent","blockService","BlankLayout","PrimaryLayout","MaintenaceLayout","GEOLayout","PublicLayout","LayoutMap","geoBlock","maintenance","primary","blank","BaseLayout","geoBlocked","document","addEventListener","event","preventDefault","clientCheckBlockByIp","removeEventListener","checkCountryBlock","checkBlock","data","blocked","setState","props","children","layout","state","Container"],"mappings":";;;;;;;;;;;;;;;;AAAA,SAASA,aAAT,QAA8B,OAA9B;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,gBAAP,MAA6B,sBAA7B;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AAQA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,QAAQ,EAAEH,SADM;AAEhBI,EAAAA,WAAW,EAAEL,gBAFG;AAGhBM,EAAAA,OAAO,EAAEP,aAHO;AAIhB,YAAQG,YAJQ;AAKhBK,EAAAA,KAAK,EAAET;AALS,CAAlB;;IAQqBU,U;;;;;;;;;;;;;;;;4DACX;AACNC,MAAAA,UAAU,EAAE;AADN,K;;;;;;;WAIR,6BAAoB;AAClB,eAAyCC,QAAQ,CAACC,gBAAT,CAA0B,aAA1B,EAAyC,UAACC,KAAD;AAAA,eAAWA,KAAK,CAACC,cAAN,EAAX;AAAA,OAAzC,CAAzC;AACA,WAAKC,oBAAL;AACD;;;WAED,gCAAuB;AACrB,eAAyCJ,QAAQ,CAACK,mBAAT,CAA6B,aAA7B,EAA4C,UAACH,KAAD;AAAA,eAAWA,KAAK,CAACC,cAAN,EAAX;AAAA,OAA5C,CAAzC;AACD;;;;2FAED;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAC2BhB,YAAY,CAACmB,iBAAb,EAD3B;;AAAA;AACQC,gBAAAA,UADR;;AAEE,oBAAIA,UAAJ,aAAIA,UAAJ,mCAAIA,UAAU,CAAEC,IAAhB,6CAAI,iBAAkBC,OAAtB,EAA+B;AAC7B,uBAAKC,QAAL,CAAc;AAAEX,oBAAAA,UAAU,EAAE;AAAd,mBAAd;AACD;;AAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;WAOA,kBAAS;AACP,wBAEI,KAAKY,KAFT;AAAA,UACEC,QADF,eACEA,QADF;AAAA,UACYC,MADZ,eACYA,MADZ;AAAA,8CACoBlB,WADpB;AAAA,UACoBA,WADpB,sCACkC,KADlC;AAGA,UAAQI,UAAR,GAAuB,KAAKe,KAA5B,CAAQf,UAAR,CAJO,CAKP;;AACA,UAAMgB,SAAS,GAAGpB,WAAW,GAAGF,SAAS,CAACE,WAAb,GAA2BI,UAAU,GAAGN,SAAS,CAACC,QAAb,GAAwBmB,MAAM,IAAIpB,SAAS,CAACoB,MAAD,CAAnB,GAA8BpB,SAAS,CAACoB,MAAD,CAAvC,GAAkDpB,SAAS,CAACG,OAAtJ;AACA,aACE,MAAC,SAAD,QAAYgB,QAAZ,CADF;AAGD;;;;EA/BqC1B,a;;SAAnBY,U","sourcesContent":["import { PureComponent } from 'react';\nimport { blockService } from '@services/index';\nimport BlankLayout from './blank-layout';\nimport PrimaryLayout from './primary-layout';\nimport MaintenaceLayout from './maintenance-layout';\nimport GEOLayout from './geoBlocked-layout';\nimport PublicLayout from './public-layout';\n\ninterface DefaultProps {\n  children: any;\n  layout: string;\n  maintenance: boolean;\n}\n\nconst LayoutMap = {\n  geoBlock: GEOLayout,\n  maintenance: MaintenaceLayout,\n  primary: PrimaryLayout,\n  public: PublicLayout,\n  blank: BlankLayout\n};\n\nexport default class BaseLayout extends PureComponent<DefaultProps> {\n  state = {\n    geoBlocked: false\n  }\n\n  componentDidMount() {\n    process.env.NODE_ENV === 'production' && document.addEventListener('contextmenu', (event) => event.preventDefault());\n    this.clientCheckBlockByIp();\n  }\n\n  componentWillUnmount() {\n    process.env.NODE_ENV === 'production' && document.removeEventListener('contextmenu', (event) => event.preventDefault());\n  }\n\n  async clientCheckBlockByIp() {\n    const checkBlock = await blockService.checkCountryBlock();\n    if (checkBlock?.data?.blocked) {\n      this.setState({ geoBlocked: true });\n    }\n  }\n\n  render() {\n    const {\n      children, layout, maintenance = false\n    } = this.props;\n    const { geoBlocked } = this.state;\n    // eslint-disable-next-line no-nested-ternary\n    const Container = maintenance ? LayoutMap.maintenance : geoBlocked ? LayoutMap.geoBlock : layout && LayoutMap[layout] ? LayoutMap[layout] : LayoutMap.primary;\n    return (\n      <Container>{children}</Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}