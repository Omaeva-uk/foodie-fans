{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Layout, Tabs, Button, message, Modal, Image, Popover, Tooltip } from 'antd';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { getVideos, moreVideo } from '@redux/video/actions';\nimport { getFeeds, moreFeeds, removeFeedSuccess } from '@redux/feed/actions';\nimport { listProducts, moreProduct } from '@redux/product/actions';\nimport { moreGalleries, getGalleries } from '@redux/gallery/actions';\nimport { updateBalance } from '@redux/user/actions';\nimport { performerService, tokenTransctionService, feedService, reactionService, paymentService, utilsService, followService } from 'src/services';\nimport Head from 'next/head';\nimport { ArrowLeftOutlined, FireOutlined, EditOutlined, HeartOutlined, DollarOutlined, HeartFilled, UsergroupAddOutlined, VideoCameraOutlined, PictureOutlined, ShoppingOutlined, BookOutlined } from '@ant-design/icons';\nimport { TickIcon, ShareIcon, MessageIcon } from 'src/icons';\nimport { ScrollListProduct } from '@components/product/scroll-list-item';\nimport ScrollListFeed from '@components/post/scroll-list';\nimport { ScrollListVideo } from '@components/video/scroll-list-item';\nimport { ScrollListGallery } from '@components/gallery/scroll-list-gallery';\nimport { PerformerInfo } from '@components/performer/table-info';\nimport { ConfirmSubscriptionPerformerForm, TipPerformerForm } from '@components/performer';\nimport ShareButtons from '@components/performer/share-profile';\nimport SearchPostBar from '@components/post/search-bar';\nimport Loader from '@components/common/base/loader';\nimport { VideoPlayer } from '@components/common';\nimport { shortenLargeNumber } from '@lib/index';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport Error from 'next/error';\nimport '@components/performer/performer.less';\nvar TabPane = Tabs.TabPane;\nvar initialFilter = {\n  q: '',\n  fromDate: '',\n  toDate: ''\n};\n\nvar PerformerProfile = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PerformerProfile, _PureComponent);\n\n  var _super = _createSuper(PerformerProfile);\n\n  function PerformerProfile() {\n    var _this;\n\n    _classCallCheck(this, PerformerProfile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      itemPerPage: 12,\n      videoPage: 0,\n      productPage: 0,\n      feedPage: 0,\n      galleryPage: 0,\n      showWelcomVideo: false,\n      openTipModal: false,\n      submiting: false,\n      isBookMarked: false,\n      requesting: false,\n      openSubscriptionModal: false,\n      tab: 'post',\n      filter: initialFilter,\n      isGrid: false,\n      subscriptionType: 'monthly',\n      isFollowed: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFollow\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _this$props, performer, user, _this$state, isFollowed, requesting, tab, error;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$props = _this.props, performer = _this$props.performer, user = _this$props.user;\n              _this$state = _this.state, isFollowed = _this$state.isFollowed, requesting = _this$state.requesting, tab = _this$state.tab;\n\n              if (user._id) {\n                _context.next = 5;\n                break;\n              }\n\n              message.error('Please log in or register!');\n              return _context.abrupt(\"return\");\n\n            case 5:\n              if (!(requesting || user.isPerformer)) {\n                _context.next = 7;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 7:\n              _context.prev = 7;\n\n              _this.setState({\n                requesting: true\n              });\n\n              if (isFollowed) {\n                _context.next = 15;\n                break;\n              }\n\n              _context.next = 12;\n              return followService.create(performer === null || performer === void 0 ? void 0 : performer._id);\n\n            case 12:\n              _this.setState({\n                isFollowed: true,\n                requesting: false\n              });\n\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.next = 17;\n              return followService[\"delete\"](performer === null || performer === void 0 ? void 0 : performer._id);\n\n            case 17:\n              _this.setState({\n                isFollowed: false,\n                requesting: false\n              });\n\n            case 18:\n              if (tab === 'post') {\n                _this.loadItems();\n              }\n\n              _context.next = 28;\n              break;\n\n            case 21:\n              _context.prev = 21;\n              _context.t0 = _context[\"catch\"](7);\n              _context.next = 25;\n              return _context.t0;\n\n            case 25:\n              error = _context.sent;\n              message.error(error.message || 'Error occured, please try again later');\n\n              _this.setState({\n                requesting: false\n              });\n\n            case 28:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[7, 21]]);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleJoinStream\", function () {\n      var _this$props2 = _this.props,\n          user = _this$props2.user,\n          performer = _this$props2.performer;\n\n      if (!user._id) {\n        message.error('Please log in or register!');\n        return;\n      }\n\n      if (user.isPerformer) return;\n\n      if (!(performer !== null && performer !== void 0 && performer.isSubscribed)) {\n        message.error('Please subscribe to this model!');\n        return;\n      }\n\n      Router.push({\n        pathname: '/streaming/details',\n        query: {\n          performer: JSON.stringify(performer),\n          username: (performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)\n        }\n      }, \"/streaming/\".concat((performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)));\n    });\n\n    return _this;\n  }\n\n  _createClass(PerformerProfile, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var performer, notShownWelcomeVideos, showWelcomVideo;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                performer = this.props.performer;\n\n                if (performer) {\n                  notShownWelcomeVideos = localStorage.getItem('notShownWelcomeVideos');\n                  showWelcomVideo = !notShownWelcomeVideos || notShownWelcomeVideos && !notShownWelcomeVideos.includes(performer._id);\n                  this.setState({\n                    isBookMarked: performer.isBookMarked,\n                    showWelcomVideo: showWelcomVideo,\n                    isFollowed: !!performer.isFollowed\n                  });\n                  this.loadItems();\n                }\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }() // eslint-disable-next-line react/sort-comp\n\n  }, {\n    key: \"handleViewWelcomeVideo\",\n    value: function handleViewWelcomeVideo() {\n      var performer = this.props.performer;\n      var notShownWelcomeVideos = localStorage.getItem('notShownWelcomeVideos');\n\n      if (!(notShownWelcomeVideos !== null && notShownWelcomeVideos !== void 0 && notShownWelcomeVideos.includes(performer._id))) {\n        var Ids = JSON.parse(notShownWelcomeVideos || '[]');\n        var values = Array.isArray(Ids) ? Ids.concat([performer._id]) : [performer._id];\n        localStorage.setItem('notShownWelcomeVideos', JSON.stringify(values));\n      }\n\n      this.setState({\n        showWelcomVideo: false\n      });\n    }\n  }, {\n    key: \"handleDeleteFeed\",\n    value: function () {\n      var _handleDeleteFeed = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(feed) {\n        var _this$props3, user, handleRemoveFeed;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this$props3 = this.props, user = _this$props3.user, handleRemoveFeed = _this$props3.removeFeedSuccess;\n\n                if (!(user._id !== feed.fromSourceId)) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                message.error('Permission denied');\n                return _context3.abrupt(\"return\");\n\n              case 4:\n                if (window.confirm('All earnings are related to this post will be refunded. Are you sure to remove?')) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                _context3.prev = 6;\n                _context3.next = 9;\n                return feedService[\"delete\"](feed._id);\n\n              case 9:\n                message.success('Deleted post success');\n                handleRemoveFeed({\n                  feed: feed\n                });\n                _context3.next = 16;\n                break;\n\n              case 13:\n                _context3.prev = 13;\n                _context3.t0 = _context3[\"catch\"](6);\n                message.error('Something went wrong, please try again later');\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[6, 13]]);\n      }));\n\n      function handleDeleteFeed(_x) {\n        return _handleDeleteFeed.apply(this, arguments);\n      }\n\n      return handleDeleteFeed;\n    }()\n  }, {\n    key: \"handleBookmark\",\n    value: function () {\n      var _handleBookmark = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var _this$props4, performer, user, _this$state2, isBookMarked, requesting, error;\n\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this$props4 = this.props, performer = _this$props4.performer, user = _this$props4.user;\n                _this$state2 = this.state, isBookMarked = _this$state2.isBookMarked, requesting = _this$state2.requesting;\n\n                if (!(requesting || user.isPerformer)) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 4:\n                _context4.prev = 4;\n                _context4.next = 7;\n                return this.setState({\n                  requesting: true\n                });\n\n              case 7:\n                if (isBookMarked) {\n                  _context4.next = 13;\n                  break;\n                }\n\n                _context4.next = 10;\n                return reactionService.create({\n                  objectId: performer === null || performer === void 0 ? void 0 : performer._id,\n                  action: 'book_mark',\n                  objectType: 'performer'\n                });\n\n              case 10:\n                this.setState({\n                  isBookMarked: true,\n                  requesting: false\n                });\n                _context4.next = 16;\n                break;\n\n              case 13:\n                _context4.next = 15;\n                return reactionService[\"delete\"]({\n                  objectId: performer === null || performer === void 0 ? void 0 : performer._id,\n                  action: 'book_mark',\n                  objectType: 'performer'\n                });\n\n              case 15:\n                this.setState({\n                  isBookMarked: false,\n                  requesting: false\n                });\n\n              case 16:\n                _context4.next = 25;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](4);\n                _context4.next = 22;\n                return _context4.t0;\n\n              case 22:\n                error = _context4.sent;\n                message.error(error.message || 'Error occured, please try again later');\n                this.setState({\n                  requesting: false\n                });\n\n              case 25:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[4, 18]]);\n      }));\n\n      function handleBookmark() {\n        return _handleBookmark.apply(this, arguments);\n      }\n\n      return handleBookmark;\n    }()\n  }, {\n    key: \"handleFilterSearch\",\n    value: function () {\n      var _handleFilterSearch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(values) {\n        var filter;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                filter = this.state.filter;\n                _context5.next = 3;\n                return this.setState({\n                  filter: _objectSpread(_objectSpread({}, filter), values)\n                });\n\n              case 3:\n                this.loadItems();\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function handleFilterSearch(_x2) {\n        return _handleFilterSearch.apply(this, arguments);\n      }\n\n      return handleFilterSearch;\n    }()\n  }, {\n    key: \"loadItems\",\n    value: function () {\n      var _loadItems = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var _this$props5, performer, handleGetGalleries, handleGetVids, handleGetFeeds, handleGetProducts, _this$state3, itemPerPage, filter, tab, query;\n\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _this$props5 = this.props, performer = _this$props5.performer, handleGetGalleries = _this$props5.getGalleries, handleGetVids = _this$props5.getVideos, handleGetFeeds = _this$props5.getFeeds, handleGetProducts = _this$props5.listProducts;\n                _this$state3 = this.state, itemPerPage = _this$state3.itemPerPage, filter = _this$state3.filter, tab = _this$state3.tab;\n                query = {\n                  limit: itemPerPage,\n                  offset: 0,\n                  performerId: performer === null || performer === void 0 ? void 0 : performer._id,\n                  q: filter.q || '',\n                  fromDate: filter.fromDate || '',\n                  toDate: filter.toDate || ''\n                };\n                _context6.t0 = tab;\n                _context6.next = _context6.t0 === 'post' ? 6 : _context6.t0 === 'photo' ? 8 : _context6.t0 === 'video' ? 10 : _context6.t0 === 'store' ? 12 : 14;\n                break;\n\n              case 6:\n                this.setState({\n                  feedPage: 0\n                }, function () {\n                  return handleGetFeeds(_objectSpread({}, query));\n                });\n                return _context6.abrupt(\"break\", 15);\n\n              case 8:\n                this.setState({\n                  galleryPage: 0\n                }, function () {\n                  return handleGetGalleries(_objectSpread({}, query));\n                });\n                return _context6.abrupt(\"break\", 15);\n\n              case 10:\n                this.setState({\n                  videoPage: 0\n                }, function () {\n                  return handleGetVids(_objectSpread({}, query));\n                });\n                return _context6.abrupt(\"break\", 15);\n\n              case 12:\n                this.setState({\n                  productPage: 0\n                }, function () {\n                  return handleGetProducts(_objectSpread({}, query));\n                });\n                return _context6.abrupt(\"break\", 15);\n\n              case 14:\n                return _context6.abrupt(\"break\", 15);\n\n              case 15:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function loadItems() {\n        return _loadItems.apply(this, arguments);\n      }\n\n      return loadItems;\n    }()\n  }, {\n    key: \"subscribe\",\n    value: function () {\n      var _subscribe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n        var _this$props6, performer, user, settings, subscriptionType, resp, _resp$data, err;\n\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _this$props6 = this.props, performer = _this$props6.performer, user = _this$props6.user, settings = _this$props6.settings;\n                subscriptionType = this.state.subscriptionType;\n\n                if (user._id) {\n                  _context7.next = 6;\n                  break;\n                }\n\n                message.error('Please log in!');\n                Router.push('/');\n                return _context7.abrupt(\"return\");\n\n              case 6:\n                if (!(settings.paymentGateway === 'stripe' && !user.stripeCardIds.length)) {\n                  _context7.next = 10;\n                  break;\n                }\n\n                message.error('Please add a payment card');\n                Router.push('/user/cards');\n                return _context7.abrupt(\"return\");\n\n              case 10:\n                _context7.prev = 10;\n                this.setState({\n                  submiting: true\n                });\n                _context7.next = 14;\n                return paymentService.subscribePerformer({\n                  type: subscriptionType,\n                  performerId: performer._id,\n                  paymentGateway: settings.paymentGateway\n                });\n\n              case 14:\n                resp = _context7.sent;\n\n                if (settings.paymentGateway === 'ccbill') {\n                  window.location.href = resp === null || resp === void 0 ? void 0 : (_resp$data = resp.data) === null || _resp$data === void 0 ? void 0 : _resp$data.paymentUrl;\n                } else {\n                  this.setState({\n                    openSubscriptionModal: false\n                  });\n                }\n\n                _context7.next = 25;\n                break;\n\n              case 18:\n                _context7.prev = 18;\n                _context7.t0 = _context7[\"catch\"](10);\n                _context7.next = 22;\n                return _context7.t0;\n\n              case 22:\n                err = _context7.sent;\n                message.error(err.message || 'error occured, please try again later');\n                this.setState({\n                  openSubscriptionModal: false,\n                  submiting: false\n                });\n\n              case 25:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[10, 18]]);\n      }));\n\n      function subscribe() {\n        return _subscribe.apply(this, arguments);\n      }\n\n      return subscribe;\n    }()\n  }, {\n    key: \"sendTip\",\n    value: function () {\n      var _sendTip = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(price) {\n        var _this$props7, performer, user, handleUpdateBalance, err;\n\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _this$props7 = this.props, performer = _this$props7.performer, user = _this$props7.user, handleUpdateBalance = _this$props7.updateBalance;\n\n                if (!(user.balance < price)) {\n                  _context8.next = 5;\n                  break;\n                }\n\n                message.error('You have an insufficient wallet balance. Please top up.');\n                Router.push('/wallet');\n                return _context8.abrupt(\"return\");\n\n              case 5:\n                _context8.prev = 5;\n                _context8.next = 8;\n                return this.setState({\n                  requesting: true\n                });\n\n              case 8:\n                _context8.next = 10;\n                return tokenTransctionService.sendTip(performer === null || performer === void 0 ? void 0 : performer._id, {\n                  performerId: performer === null || performer === void 0 ? void 0 : performer._id,\n                  price: price\n                });\n\n              case 10:\n                message.success('Thank you for the tip');\n                handleUpdateBalance({\n                  token: -price\n                });\n                _context8.next = 20;\n                break;\n\n              case 14:\n                _context8.prev = 14;\n                _context8.t0 = _context8[\"catch\"](5);\n                _context8.next = 18;\n                return _context8.t0;\n\n              case 18:\n                err = _context8.sent;\n                message.error(err.message || 'error occured, please try again later');\n\n              case 20:\n                _context8.prev = 20;\n                this.setState({\n                  requesting: false,\n                  openTipModal: false\n                });\n                return _context8.finish(20);\n\n              case 23:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this, [[5, 14, 20, 23]]);\n      }));\n\n      function sendTip(_x3) {\n        return _sendTip.apply(this, arguments);\n      }\n\n      return sendTip;\n    }()\n  }, {\n    key: \"loadMoreItem\",\n    value: function () {\n      var _loadMoreItem = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n        var _this$state4, feedPage, videoPage, productPage, itemPerPage, galleryPage, tab, filter, _this$props8, getMoreFeed, getMoreVids, getMoreProd, getMoreGallery, performer, query;\n\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _this$state4 = this.state, feedPage = _this$state4.feedPage, videoPage = _this$state4.videoPage, productPage = _this$state4.productPage, itemPerPage = _this$state4.itemPerPage, galleryPage = _this$state4.galleryPage, tab = _this$state4.tab, filter = _this$state4.filter;\n                _this$props8 = this.props, getMoreFeed = _this$props8.moreFeeds, getMoreVids = _this$props8.moreVideo, getMoreProd = _this$props8.moreProduct, getMoreGallery = _this$props8.moreGalleries, performer = _this$props8.performer;\n                query = {\n                  limit: itemPerPage,\n                  performerId: performer._id,\n                  q: filter.q || '',\n                  fromDate: filter.fromDate || '',\n                  toDate: filter.toDate || ''\n                };\n\n                if (tab === 'post') {\n                  this.setState({\n                    feedPage: feedPage + 1\n                  }, function () {\n                    return getMoreFeed(_objectSpread(_objectSpread({}, query), {}, {\n                      offset: (feedPage + 1) * itemPerPage\n                    }));\n                  });\n                }\n\n                if (tab === 'video') {\n                  this.setState({\n                    videoPage: videoPage + 1\n                  }, function () {\n                    return getMoreVids(_objectSpread(_objectSpread({}, query), {}, {\n                      offset: (videoPage + 1) * itemPerPage\n                    }));\n                  });\n                }\n\n                if (!(tab === 'photo')) {\n                  _context9.next = 8;\n                  break;\n                }\n\n                _context9.next = 8;\n                return this.setState({\n                  galleryPage: galleryPage + 1\n                }, function () {\n                  getMoreGallery(_objectSpread(_objectSpread({}, query), {}, {\n                    offset: (galleryPage + 1) * itemPerPage\n                  }));\n                });\n\n              case 8:\n                if (tab === 'store') {\n                  this.setState({\n                    productPage: productPage + 1\n                  }, function () {\n                    return getMoreProd(_objectSpread(_objectSpread({}, query), {}, {\n                      offset: (productPage + 1) * itemPerPage\n                    }));\n                  });\n                }\n\n              case 9:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function loadMoreItem() {\n        return _loadMoreItem.apply(this, arguments);\n      }\n\n      return loadMoreItem;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _performer$stats,\n          _performer$stats2,\n          _performer$stats3,\n          _performer$stats4,\n          _performer$stats5,\n          _performer$stats6,\n          _this2 = this;\n\n      var _this$props9 = this.props,\n          error = _this$props9.error,\n          performer = _this$props9.performer,\n          ui = _this$props9.ui,\n          user = _this$props9.user,\n          feedState = _this$props9.feedState,\n          videoState = _this$props9.videoState,\n          productState = _this$props9.productState,\n          galleryState = _this$props9.galleryState,\n          countries = _this$props9.countries,\n          settings = _this$props9.settings;\n\n      if (error) {\n        return __jsx(Error, {\n          statusCode: (error === null || error === void 0 ? void 0 : error.statusCode) || 404,\n          title: (error === null || error === void 0 ? void 0 : error.message) || 'Sorry, we can\\'t find this page'\n        });\n      }\n\n      var _feedState$items = feedState.items,\n          feeds = _feedState$items === void 0 ? [] : _feedState$items,\n          _feedState$total = feedState.total,\n          totalFeed = _feedState$total === void 0 ? 0 : _feedState$total,\n          loadingFeed = feedState.requesting;\n      var _videoState$items = videoState.items,\n          videos = _videoState$items === void 0 ? [] : _videoState$items,\n          _videoState$total = videoState.total,\n          totalVideos = _videoState$total === void 0 ? 0 : _videoState$total,\n          loadingVideo = videoState.requesting;\n      var _productState$items = productState.items,\n          products = _productState$items === void 0 ? [] : _productState$items,\n          _productState$total = productState.total,\n          totalProducts = _productState$total === void 0 ? 0 : _productState$total,\n          loadingPrd = productState.requesting;\n      var _galleryState$items = galleryState.items,\n          galleries = _galleryState$items === void 0 ? [] : _galleryState$items,\n          _galleryState$total = galleryState.total,\n          totalGalleries = _galleryState$total === void 0 ? 0 : _galleryState$total,\n          loadingGallery = galleryState.requesting;\n      var _this$state5 = this.state,\n          showWelcomVideo = _this$state5.showWelcomVideo,\n          openTipModal = _this$state5.openTipModal,\n          submiting = _this$state5.submiting,\n          isBookMarked = _this$state5.isBookMarked,\n          openSubscriptionModal = _this$state5.openSubscriptionModal,\n          tab = _this$state5.tab,\n          isGrid = _this$state5.isGrid,\n          subscriptionType = _this$state5.subscriptionType,\n          isFollowed = _this$state5.isFollowed;\n      return __jsx(Layout, null, __jsx(Head, null, __jsx(\"title\", null, \"\".concat(ui === null || ui === void 0 ? void 0 : ui.siteName, \" | \").concat((performer === null || performer === void 0 ? void 0 : performer.name) || (performer === null || performer === void 0 ? void 0 : performer.username))), __jsx(\"meta\", {\n        name: \"keywords\",\n        content: \"\".concat(performer === null || performer === void 0 ? void 0 : performer.username, \", \").concat(performer === null || performer === void 0 ? void 0 : performer.name)\n      }), __jsx(\"meta\", {\n        name: \"description\",\n        content: performer === null || performer === void 0 ? void 0 : performer.bio\n      }), __jsx(\"meta\", {\n        property: \"og:type\",\n        content: \"website\"\n      }), __jsx(\"meta\", {\n        property: \"og:title\",\n        content: \"\".concat(ui === null || ui === void 0 ? void 0 : ui.siteName, \" | \").concat((performer === null || performer === void 0 ? void 0 : performer.name) || (performer === null || performer === void 0 ? void 0 : performer.username))\n      }), __jsx(\"meta\", {\n        property: \"og:image\",\n        content: (performer === null || performer === void 0 ? void 0 : performer.avatar) || '/static/no-avatar.png'\n      }), __jsx(\"meta\", {\n        property: \"og:description\",\n        content: performer === null || performer === void 0 ? void 0 : performer.bio\n      }), __jsx(\"meta\", {\n        name: \"twitter:card\",\n        content: \"summary\"\n      }), __jsx(\"meta\", {\n        name: \"twitter:title\",\n        content: \"\".concat(ui === null || ui === void 0 ? void 0 : ui.siteName, \" | \").concat((performer === null || performer === void 0 ? void 0 : performer.name) || (performer === null || performer === void 0 ? void 0 : performer.username))\n      }), __jsx(\"meta\", {\n        name: \"twitter:image\",\n        content: (performer === null || performer === void 0 ? void 0 : performer.avatar) || '/static/no-avatar.png'\n      }), __jsx(\"meta\", {\n        name: \"twitter:description\",\n        content: performer === null || performer === void 0 ? void 0 : performer.bio\n      })), __jsx(\"div\", {\n        className: \"main-container\"\n      }, __jsx(\"div\", {\n        className: \"top-profile\",\n        style: {\n          backgroundImage: \"url('\".concat((performer === null || performer === void 0 ? void 0 : performer.cover) || '/static/banner-image.jpg', \"')\")\n        }\n      }, __jsx(\"div\", {\n        className: \"bg-2nd\"\n      }, __jsx(\"div\", {\n        className: \"top-banner\"\n      }, __jsx(\"a\", {\n        \"aria-hidden\": true,\n        className: \"arrow-back\",\n        onClick: function onClick() {\n          return Router.back();\n        }\n      }, __jsx(ArrowLeftOutlined, null)), __jsx(\"div\", {\n        className: \"stats-row\"\n      }, __jsx(\"div\", {\n        className: \"tab-stat\"\n      }, __jsx(\"div\", {\n        className: \"tab-item\"\n      }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats = performer.stats) === null || _performer$stats === void 0 ? void 0 : _performer$stats.totalFeeds) || 0), ' ', __jsx(FireOutlined, null))), __jsx(\"div\", {\n        className: \"tab-item\"\n      }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats2 = performer.stats) === null || _performer$stats2 === void 0 ? void 0 : _performer$stats2.totalVideos) || 0), ' ', __jsx(VideoCameraOutlined, null))), __jsx(\"div\", {\n        className: \"tab-item\"\n      }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats3 = performer.stats) === null || _performer$stats3 === void 0 ? void 0 : _performer$stats3.totalPhotos) || 0), ' ', __jsx(PictureOutlined, null))), __jsx(\"div\", {\n        className: \"tab-item\"\n      }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats4 = performer.stats) === null || _performer$stats4 === void 0 ? void 0 : _performer$stats4.totalProducts) || 0), ' ', __jsx(ShoppingOutlined, null))), __jsx(\"div\", {\n        className: \"tab-item\"\n      }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats5 = performer.stats) === null || _performer$stats5 === void 0 ? void 0 : _performer$stats5.likes) || 0), ' ', __jsx(HeartOutlined, null))), __jsx(\"div\", {\n        className: \"tab-item\"\n      }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats6 = performer.stats) === null || _performer$stats6 === void 0 ? void 0 : _performer$stats6.subscribers) || 0), ' ', __jsx(UsergroupAddOutlined, null))))))))), __jsx(\"div\", {\n        className: \"main-profile\"\n      }, __jsx(\"div\", {\n        className: \"main-container\"\n      }, __jsx(\"div\", {\n        className: \"fl-col\"\n      }, __jsx(Image, {\n        alt: \"main-avt\",\n        src: (performer === null || performer === void 0 ? void 0 : performer.avatar) || '/static/no-avatar.png',\n        fallback: \"/static/no-avatar.png\"\n      }), (user === null || user === void 0 ? void 0 : user._id) !== (performer === null || performer === void 0 ? void 0 : performer._id) && __jsx(\"span\", {\n        className: (performer === null || performer === void 0 ? void 0 : performer.isOnline) > 0 ? 'online-status' : 'online-status off'\n      }), __jsx(\"div\", {\n        className: \"m-user-name\"\n      }, __jsx(\"h4\", null, (performer === null || performer === void 0 ? void 0 : performer.name) || 'N/A', \"\\xA0\", (performer === null || performer === void 0 ? void 0 : performer.verifiedAccount) && __jsx(TickIcon, null), \"\\xA0\", (performer === null || performer === void 0 ? void 0 : performer.live) > 0 && (user === null || user === void 0 ? void 0 : user._id) !== (performer === null || performer === void 0 ? void 0 : performer._id) && __jsx(\"a\", {\n        \"aria-hidden\": true,\n        onClick: this.handleJoinStream,\n        className: \"live-status\"\n      }, \"Live\"), (user === null || user === void 0 ? void 0 : user._id) === (performer === null || performer === void 0 ? void 0 : performer._id) && __jsx(Link, {\n        href: \"/model/account\"\n      }, __jsx(\"a\", null, __jsx(EditOutlined, {\n        className: \"primary-color\"\n      })))), __jsx(\"h5\", {\n        style: {\n          textTransform: 'none'\n        }\n      }, \"@\", (performer === null || performer === void 0 ? void 0 : performer.username) || 'n/a'))), __jsx(\"div\", {\n        className: \"btn-grp\"\n      }, __jsx(Tooltip, {\n        title: isFollowed ? 'Following' : 'Follow'\n      }, __jsx(Button, {\n        disabled: !user._id || user.isPerformer,\n        className: isBookMarked ? 'active' : '',\n        onClick: function onClick() {\n          return _this2.handleFollow();\n        }\n      }, isFollowed ? __jsx(HeartFilled, null) : __jsx(HeartOutlined, null))), __jsx(Tooltip, {\n        title: \"Send Tip\"\n      }, __jsx(Button, {\n        disabled: !user._id || user.isPerformer,\n        onClick: function onClick() {\n          return _this2.setState({\n            openTipModal: true\n          });\n        }\n      }, __jsx(DollarOutlined, null))), __jsx(Tooltip, {\n        title: \"Send Message\"\n      }, __jsx(Button, {\n        disabled: !user._id || user.isPerformer,\n        onClick: function onClick() {\n          return Router.push({\n            pathname: '/messages',\n            query: {\n              toSource: 'performer',\n              toId: (performer === null || performer === void 0 ? void 0 : performer._id) || ''\n            }\n          });\n        }\n      }, __jsx(MessageIcon, null))), __jsx(Tooltip, {\n        title: isBookMarked ? 'Remove from Bookmarks' : 'Add to Bookmarks'\n      }, __jsx(Button, {\n        disabled: !user._id || user.isPerformer,\n        className: isBookMarked ? 'active' : '',\n        onClick: function onClick() {\n          return _this2.handleBookmark();\n        }\n      }, __jsx(BookOutlined, null))), __jsx(Popover, {\n        title: \"Share to social network\",\n        content: __jsx(ShareButtons, {\n          siteName: ui.siteName,\n          performer: performer\n        })\n      }, __jsx(Button, {\n        className: \"normal\"\n      }, __jsx(ShareIcon, null)))), __jsx(\"div\", {\n        className: user.isPerformer ? 'mar-0 pro-desc' : 'pro-desc'\n      }, __jsx(PerformerInfo, {\n        countries: countries,\n        performer: performer\n      })), !(performer !== null && performer !== void 0 && performer.isSubscribed) && !user.isPerformer && __jsx(\"div\", {\n        className: \"subscription-bl\"\n      }, __jsx(\"h5\", null, \"Monthly Subscription\"), __jsx(\"button\", {\n        type: \"button\",\n        className: \"sub-btn\",\n        disabled: submiting,\n        onClick: function onClick() {\n          _this2.setState({\n            openSubscriptionModal: true,\n            subscriptionType: 'monthly'\n          });\n        }\n      }, \"SUBSCRIBE FOR\", ' ', \"$\", performer && (performer === null || performer === void 0 ? void 0 : performer.monthlyPrice.toFixed(2)))), !(performer !== null && performer !== void 0 && performer.isSubscribed) && !user.isPerformer && __jsx(\"div\", {\n        className: \"subscription-bl\"\n      }, __jsx(\"h5\", null, \"Yearly Subscription\"), __jsx(\"button\", {\n        type: \"button\",\n        className: \"sub-btn\",\n        disabled: submiting,\n        onClick: function onClick() {\n          _this2.setState({\n            openSubscriptionModal: true,\n            subscriptionType: 'yearly'\n          });\n        }\n      }, \"SUBSCRIBE FOR\", ' ', \"$\", performer === null || performer === void 0 ? void 0 : performer.yearlyPrice.toFixed(2))), (performer === null || performer === void 0 ? void 0 : performer.isFreeSubscription) && !(performer !== null && performer !== void 0 && performer.isSubscribed) && !user.isPerformer && __jsx(\"div\", {\n        className: \"subscription-bl\"\n      }, __jsx(\"h5\", null, \"Free Subscription\"), __jsx(\"button\", {\n        type: \"button\",\n        className: \"sub-btn\",\n        disabled: submiting,\n        onClick: function onClick() {\n          _this2.setState({\n            openSubscriptionModal: true,\n            subscriptionType: 'free'\n          });\n        }\n      }, \"SUBSCRIBE FOR FREE FOR\", ' ', (performer === null || performer === void 0 ? void 0 : performer.durationFreeSubscriptionDays) || 1, ' ', (performer === null || performer === void 0 ? void 0 : performer.durationFreeSubscriptionDays) > 1 ? 'DAYS' : 'DAY', settings.paymentGateway === 'stripe' && \" THEN \".concat(performer === null || performer === void 0 ? void 0 : performer.monthlyPrice.toFixed(2), \" PER MONTH\"))))), __jsx(\"div\", {\n        style: {\n          marginTop: '20px'\n        }\n      }), __jsx(\"div\", {\n        className: \"main-container\"\n      }, __jsx(\"div\", {\n        className: \"model-content\"\n      }, __jsx(Tabs, {\n        defaultActiveKey: \"post\",\n        size: \"large\",\n        onTabClick: function onTabClick(t) {\n          _this2.setState({\n            tab: t,\n            filter: initialFilter,\n            isGrid: false\n          }, function () {\n            return _this2.loadItems();\n          });\n        }\n      }, __jsx(TabPane, {\n        tab: __jsx(FireOutlined, null),\n        key: \"post\"\n      }, __jsx(\"div\", {\n        className: \"heading-tab\"\n      }, __jsx(\"h4\", null, totalFeed > 0 && totalFeed, ' ', totalFeed > 1 ? 'POSTS' : 'POST'), __jsx(SearchPostBar, {\n        searching: loadingFeed,\n        tab: tab,\n        handleSearch: this.handleFilterSearch.bind(this),\n        handleViewGrid: function handleViewGrid(val) {\n          return _this2.setState({\n            isGrid: val\n          });\n        }\n      })), __jsx(\"div\", {\n        className: isGrid ? 'main-container' : 'main-container custom'\n      }, __jsx(ScrollListFeed, {\n        items: feeds,\n        loading: loadingFeed,\n        canLoadmore: feeds && feeds.length < totalFeed,\n        loadMore: this.loadMoreItem.bind(this),\n        isGrid: isGrid,\n        onDelete: this.handleDeleteFeed.bind(this)\n      }))), __jsx(TabPane, {\n        tab: __jsx(VideoCameraOutlined, null),\n        key: \"video\"\n      }, __jsx(\"div\", {\n        className: \"heading-tab\"\n      }, __jsx(\"h4\", null, totalVideos > 0 && totalVideos, ' ', totalVideos > 1 ? 'VIDEOS' : 'VIDEO'), __jsx(SearchPostBar, {\n        searching: loadingVideo,\n        tab: tab,\n        handleSearch: this.handleFilterSearch.bind(this),\n        handleViewGrid: function handleViewGrid(val) {\n          return _this2.setState({\n            isGrid: val\n          });\n        }\n      })), __jsx(\"div\", {\n        className: \"main-container\"\n      }, __jsx(ScrollListVideo, {\n        items: videos,\n        loading: loadingVideo,\n        canLoadmore: videos && videos.length < totalVideos,\n        loadMore: this.loadMoreItem.bind(this)\n      }))), __jsx(TabPane, {\n        tab: __jsx(PictureOutlined, null),\n        key: \"photo\"\n      }, __jsx(\"div\", {\n        className: \"heading-tab\"\n      }, __jsx(\"h4\", null, totalGalleries > 0 && totalGalleries, ' ', totalGalleries > 1 ? 'GALLERIES' : 'GALLERY'), __jsx(SearchPostBar, {\n        searching: loadingGallery,\n        tab: tab,\n        handleSearch: this.handleFilterSearch.bind(this),\n        handleViewGrid: function handleViewGrid(val) {\n          return _this2.setState({\n            isGrid: val\n          });\n        }\n      })), __jsx(\"div\", {\n        className: \"main-container\"\n      }, __jsx(ScrollListGallery, {\n        items: galleries,\n        loading: loadingGallery,\n        canLoadmore: galleries && galleries.length < totalGalleries,\n        loadMore: this.loadMoreItem.bind(this)\n      }))), __jsx(TabPane, {\n        tab: __jsx(ShoppingOutlined, null),\n        key: \"store\"\n      }, __jsx(\"div\", {\n        className: \"heading-tab\"\n      }, __jsx(\"h4\", null, totalProducts > 0 && totalProducts, ' ', totalProducts > 1 ? 'PRODUCTS' : 'PRODUCT'), __jsx(SearchPostBar, {\n        searching: loadingPrd,\n        tab: tab,\n        handleSearch: this.handleFilterSearch.bind(this)\n      })), __jsx(ScrollListProduct, {\n        items: products,\n        loading: loadingPrd,\n        canLoadmore: products && products.length < totalProducts,\n        loadMore: this.loadMoreItem.bind(this)\n      }))))), performer && (performer === null || performer === void 0 ? void 0 : performer.welcomeVideoPath) && (performer === null || performer === void 0 ? void 0 : performer.activateWelcomeVideo) && __jsx(Modal, {\n        key: \"welcome-video\",\n        className: \"welcome-video\",\n        destroyOnClose: true,\n        closable: false,\n        maskClosable: false,\n        width: 767,\n        visible: showWelcomVideo,\n        title: null,\n        centered: true,\n        onCancel: function onCancel() {\n          return _this2.setState({\n            showWelcomVideo: false\n          });\n        },\n        footer: [__jsx(Button, {\n          key: \"close\",\n          className: \"secondary\",\n          onClick: function onClick() {\n            return _this2.setState({\n              showWelcomVideo: false\n            });\n          }\n        }, \"Close\"), __jsx(Button, {\n          key: \"not-show\",\n          className: \"primary\",\n          onClick: this.handleViewWelcomeVideo.bind(this)\n        }, \"Don't show this again\")]\n      }, __jsx(VideoPlayer, {\n        key: \"\".concat(performer._id),\n        controls: true,\n        playsinline: true,\n        sources: [{\n          src: performer === null || performer === void 0 ? void 0 : performer.welcomeVideoPath,\n          type: 'video/mp4'\n        }]\n      })), __jsx(Modal, {\n        key: \"tip_performer\",\n        className: \"subscription-modal\",\n        visible: openTipModal,\n        centered: true,\n        onOk: function onOk() {\n          return _this2.setState({\n            openTipModal: false\n          });\n        },\n        footer: null,\n        width: 600,\n        title: null,\n        onCancel: function onCancel() {\n          return _this2.setState({\n            openTipModal: false\n          });\n        }\n      }, __jsx(TipPerformerForm, {\n        performer: performer,\n        submiting: submiting,\n        onFinish: this.sendTip.bind(this)\n      })), __jsx(Modal, {\n        key: \"subscribe_performer\",\n        className: \"subscription-modal\",\n        width: 600,\n        centered: true,\n        title: null,\n        visible: openSubscriptionModal,\n        footer: null,\n        onCancel: function onCancel() {\n          return _this2.setState({\n            openSubscriptionModal: false\n          });\n        },\n        destroyOnClose: true\n      }, __jsx(ConfirmSubscriptionPerformerForm, {\n        type: subscriptionType || 'monthly',\n        performer: performer,\n        submiting: submiting,\n        onFinish: this.subscribe.bind(this)\n      })), submiting && __jsx(Loader, {\n        customText: \"We are processing your payment, please do not reload this page until it's done.\"\n      }));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(_ref2) {\n        var ctx, query, _yield$Promise$all, _yield$Promise$all2, performer, countries, error;\n\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                ctx = _ref2.ctx;\n                query = ctx.query;\n                _context10.prev = 2;\n                _context10.next = 5;\n                return Promise.all([performerService.findOne(query.username, {\n                  Authorization: ctx.token || ''\n                }), utilsService.countriesList()]);\n\n              case 5:\n                _yield$Promise$all = _context10.sent;\n                _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 2);\n                performer = _yield$Promise$all2[0];\n                countries = _yield$Promise$all2[1];\n                return _context10.abrupt(\"return\", {\n                  performer: performer === null || performer === void 0 ? void 0 : performer.data,\n                  countries: (countries === null || countries === void 0 ? void 0 : countries.data) || []\n                });\n\n              case 12:\n                _context10.prev = 12;\n                _context10.t0 = _context10[\"catch\"](2);\n                _context10.next = 16;\n                return Promise.resolve(_context10.t0);\n\n              case 16:\n                error = _context10.sent;\n                return _context10.abrupt(\"return\", {\n                  error: error\n                });\n\n              case 18:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, null, [[2, 12]]);\n      }));\n\n      function getInitialProps(_x4) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return PerformerProfile;\n}(PureComponent);\n\n_defineProperty(PerformerProfile, \"authenticate\", true);\n\n_defineProperty(PerformerProfile, \"noredirect\", true);\n\nvar mapStates = function mapStates(state) {\n  return {\n    ui: _objectSpread({}, state.ui),\n    videoState: _objectSpread({}, state.video.videos),\n    feedState: _objectSpread({}, state.feed.feeds),\n    productState: _objectSpread({}, state.product.products),\n    galleryState: _objectSpread({}, state.gallery.galleries),\n    user: _objectSpread({}, state.user.current),\n    settings: _objectSpread({}, state.settings)\n  };\n};\n\nvar mapDispatch = {\n  getFeeds: getFeeds,\n  moreFeeds: moreFeeds,\n  getVideos: getVideos,\n  moreVideo: moreVideo,\n  listProducts: listProducts,\n  moreProduct: moreProduct,\n  getGalleries: getGalleries,\n  moreGalleries: moreGalleries,\n  removeFeedSuccess: removeFeedSuccess,\n  updateBalance: updateBalance\n};\nexport default connect(mapStates, mapDispatch)(PerformerProfile);","map":{"version":3,"sources":["c:/Users/Admin/Desktop/Work/foodiefans/foodiefans-main/user/pages/model/profile/index.tsx"],"names":["Layout","Tabs","Button","message","Modal","Image","Popover","Tooltip","PureComponent","connect","getVideos","moreVideo","getFeeds","moreFeeds","removeFeedSuccess","listProducts","moreProduct","moreGalleries","getGalleries","updateBalance","performerService","tokenTransctionService","feedService","reactionService","paymentService","utilsService","followService","Head","ArrowLeftOutlined","FireOutlined","EditOutlined","HeartOutlined","DollarOutlined","HeartFilled","UsergroupAddOutlined","VideoCameraOutlined","PictureOutlined","ShoppingOutlined","BookOutlined","TickIcon","ShareIcon","MessageIcon","ScrollListProduct","ScrollListFeed","ScrollListVideo","ScrollListGallery","PerformerInfo","ConfirmSubscriptionPerformerForm","TipPerformerForm","ShareButtons","SearchPostBar","Loader","VideoPlayer","shortenLargeNumber","Link","Router","Error","TabPane","initialFilter","q","fromDate","toDate","PerformerProfile","itemPerPage","videoPage","productPage","feedPage","galleryPage","showWelcomVideo","openTipModal","submiting","isBookMarked","requesting","openSubscriptionModal","tab","filter","isGrid","subscriptionType","isFollowed","props","performer","user","state","_id","error","isPerformer","setState","create","loadItems","isSubscribed","push","pathname","query","JSON","stringify","username","notShownWelcomeVideos","localStorage","getItem","includes","Ids","parse","values","Array","isArray","concat","setItem","feed","handleRemoveFeed","fromSourceId","window","confirm","success","objectId","action","objectType","handleGetGalleries","handleGetVids","handleGetFeeds","handleGetProducts","limit","offset","performerId","settings","paymentGateway","stripeCardIds","length","subscribePerformer","type","resp","location","href","data","paymentUrl","err","price","handleUpdateBalance","balance","sendTip","token","getMoreFeed","getMoreVids","getMoreProd","getMoreGallery","ui","feedState","videoState","productState","galleryState","countries","statusCode","items","feeds","total","totalFeed","loadingFeed","videos","totalVideos","loadingVideo","products","totalProducts","loadingPrd","galleries","totalGalleries","loadingGallery","siteName","name","bio","avatar","backgroundImage","cover","back","stats","totalFeeds","totalPhotos","likes","subscribers","isOnline","verifiedAccount","live","handleJoinStream","textTransform","handleFollow","toSource","toId","handleBookmark","monthlyPrice","toFixed","yearlyPrice","isFreeSubscription","durationFreeSubscriptionDays","marginTop","t","handleFilterSearch","bind","val","loadMoreItem","handleDeleteFeed","welcomeVideoPath","activateWelcomeVideo","handleViewWelcomeVideo","key","controls","playsinline","sources","src","subscribe","ctx","Promise","all","findOne","Authorization","countriesList","resolve","mapStates","video","product","gallery","current","mapDispatch"],"mappings":"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","sourcesContent":["import {\n  Layout, Tabs, Button, message, Modal, Image, Popover, Tooltip\n} from 'antd';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { getVideos, moreVideo } from '@redux/video/actions';\nimport { getFeeds, moreFeeds, removeFeedSuccess } from '@redux/feed/actions';\nimport { listProducts, moreProduct } from '@redux/product/actions';\nimport { moreGalleries, getGalleries } from '@redux/gallery/actions';\nimport { updateBalance } from '@redux/user/actions';\nimport {\n  performerService, tokenTransctionService, feedService, reactionService, paymentService,\n  utilsService, followService\n} from 'src/services';\nimport Head from 'next/head';\nimport {\n  ArrowLeftOutlined, FireOutlined, EditOutlined, HeartOutlined, DollarOutlined, HeartFilled,\n  UsergroupAddOutlined, VideoCameraOutlined, PictureOutlined, ShoppingOutlined, BookOutlined\n} from '@ant-design/icons';\nimport {\n  TickIcon, ShareIcon, MessageIcon\n} from 'src/icons';\nimport { ScrollListProduct } from '@components/product/scroll-list-item';\nimport ScrollListFeed from '@components/post/scroll-list';\nimport { ScrollListVideo } from '@components/video/scroll-list-item';\nimport { ScrollListGallery } from '@components/gallery/scroll-list-gallery';\nimport { PerformerInfo } from '@components/performer/table-info';\nimport { ConfirmSubscriptionPerformerForm, TipPerformerForm } from '@components/performer';\nimport ShareButtons from '@components/performer/share-profile';\nimport SearchPostBar from '@components/post/search-bar';\nimport Loader from '@components/common/base/loader';\nimport { VideoPlayer } from '@components/common';\nimport {\n  IPerformer, IUser, IUIConfig, IFeed, ICountry, ISettings\n} from 'src/interfaces';\nimport { shortenLargeNumber } from '@lib/index';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport Error from 'next/error';\nimport '@components/performer/performer.less';\n\ninterface IProps {\n  ui: IUIConfig;\n  error: any;\n  user: IUser;\n  performer: IPerformer;\n  listProducts: Function;\n  getVideos: Function;\n  moreVideo: Function;\n  moreProduct: Function;\n  videoState: any;\n  productState: any;\n  getGalleries: Function;\n  moreGalleries: Function;\n  galleryState: any;\n  feedState: any;\n  getFeeds: Function;\n  moreFeeds: Function;\n  removeFeedSuccess: Function;\n  updateBalance: Function;\n  countries: ICountry[];\n  settings: ISettings;\n}\n\nconst { TabPane } = Tabs;\nconst initialFilter = {\n  q: '',\n  fromDate: '',\n  toDate: ''\n};\n\nclass PerformerProfile extends PureComponent<IProps> {\n  static authenticate = true;\n\n  static noredirect = true;\n\n  state = {\n    itemPerPage: 12,\n    videoPage: 0,\n    productPage: 0,\n    feedPage: 0,\n    galleryPage: 0,\n    showWelcomVideo: false,\n    openTipModal: false,\n    submiting: false,\n    isBookMarked: false,\n    requesting: false,\n    openSubscriptionModal: false,\n    tab: 'post',\n    filter: initialFilter,\n    isGrid: false,\n    subscriptionType: 'monthly',\n    isFollowed: false\n  };\n\n  static async getInitialProps({ ctx }) {\n    const { query } = ctx;\n    try {\n      const [performer, countries] = await Promise.all([\n        performerService.findOne(query.username, {\n          Authorization: ctx.token || ''\n        }),\n        utilsService.countriesList()\n      ]);\n      return {\n        performer: performer?.data,\n        countries: countries?.data || []\n      };\n    } catch (e) {\n      const error = await Promise.resolve(e);\n      return { error };\n    }\n  }\n\n  async componentDidMount() {\n    const { performer } = this.props;\n    if (performer) {\n      const notShownWelcomeVideos = localStorage.getItem('notShownWelcomeVideos');\n      const showWelcomVideo = !notShownWelcomeVideos || (notShownWelcomeVideos && !notShownWelcomeVideos.includes(performer._id));\n      this.setState({ isBookMarked: performer.isBookMarked, showWelcomVideo, isFollowed: !!performer.isFollowed });\n      this.loadItems();\n    }\n  }\n\n  // eslint-disable-next-line react/sort-comp\n  handleViewWelcomeVideo() {\n    const { performer } = this.props;\n    const notShownWelcomeVideos = localStorage.getItem('notShownWelcomeVideos');\n    if (!notShownWelcomeVideos?.includes(performer._id)) {\n      const Ids = JSON.parse(notShownWelcomeVideos || '[]');\n      const values = Array.isArray(Ids) ? Ids.concat([performer._id]) : [performer._id];\n      localStorage.setItem('notShownWelcomeVideos', JSON.stringify(values));\n    }\n    this.setState({ showWelcomVideo: false });\n  }\n\n  async handleDeleteFeed(feed: IFeed) {\n    const { user, removeFeedSuccess: handleRemoveFeed } = this.props;\n    if (user._id !== feed.fromSourceId) {\n      message.error('Permission denied');\n      return;\n    }\n    if (!window.confirm('All earnings are related to this post will be refunded. Are you sure to remove?')) {\n      return;\n    }\n    try {\n      await feedService.delete(feed._id);\n      message.success('Deleted post success');\n      handleRemoveFeed({ feed });\n    } catch {\n      message.error('Something went wrong, please try again later');\n    }\n  }\n\n  handleFollow = async () => {\n    const { performer, user } = this.props;\n    const { isFollowed, requesting, tab } = this.state;\n    if (!user._id) {\n      message.error('Please log in or register!');\n      return;\n    }\n    if (requesting || user.isPerformer) return;\n    try {\n      this.setState({ requesting: true });\n      if (!isFollowed) {\n        await followService.create(performer?._id);\n        this.setState({ isFollowed: true, requesting: false });\n      } else {\n        await followService.delete(performer?._id);\n        this.setState({ isFollowed: false, requesting: false });\n      }\n      if (tab === 'post') {\n        this.loadItems();\n      }\n    } catch (e) {\n      const error = await e;\n      message.error(error.message || 'Error occured, please try again later');\n      this.setState({ requesting: false });\n    }\n  }\n\n  async handleBookmark() {\n    const { performer, user } = this.props;\n    const { isBookMarked, requesting } = this.state;\n    if (requesting || user.isPerformer) return;\n    try {\n      await this.setState({ requesting: true });\n      if (!isBookMarked) {\n        await reactionService.create({\n          objectId: performer?._id,\n          action: 'book_mark',\n          objectType: 'performer'\n        });\n        this.setState({ isBookMarked: true, requesting: false });\n      } else {\n        await reactionService.delete({\n          objectId: performer?._id,\n          action: 'book_mark',\n          objectType: 'performer'\n        });\n        this.setState({ isBookMarked: false, requesting: false });\n      }\n    } catch (e) {\n      const error = await e;\n      message.error(error.message || 'Error occured, please try again later');\n      this.setState({ requesting: false });\n    }\n  }\n\n  async handleFilterSearch(values) {\n    const { filter } = this.state;\n    await this.setState({ filter: { ...filter, ...values } });\n    this.loadItems();\n  }\n\n  handleJoinStream = () => {\n    const { user, performer } = this.props;\n    if (!user._id) {\n      message.error('Please log in or register!');\n      return;\n    }\n    if (user.isPerformer) return;\n    if (!performer?.isSubscribed) {\n      message.error('Please subscribe to this model!');\n      return;\n    }\n    Router.push({\n      pathname: '/streaming/details',\n      query: {\n        performer: JSON.stringify(performer),\n        username: performer?.username || performer?._id\n      }\n    }, `/streaming/${performer?.username || performer?._id}`);\n  }\n\n  async loadItems() {\n    const {\n      performer, getGalleries: handleGetGalleries, getVideos: handleGetVids, getFeeds: handleGetFeeds,\n      listProducts: handleGetProducts\n    } = this.props;\n    const {\n      itemPerPage, filter, tab\n    } = this.state;\n    const query = {\n      limit: itemPerPage,\n      offset: 0,\n      performerId: performer?._id,\n      q: filter.q || '',\n      fromDate: filter.fromDate || '',\n      toDate: filter.toDate || ''\n    };\n    switch (tab) {\n      case 'post':\n        this.setState({ feedPage: 0 }, () => handleGetFeeds({\n          ...query\n        }));\n        break;\n      case 'photo':\n        this.setState({ galleryPage: 0 }, () => handleGetGalleries({\n          ...query\n        }));\n        break;\n      case 'video':\n        this.setState({ videoPage: 0 }, () => handleGetVids({\n          ...query\n        }));\n        break;\n      case 'store':\n        this.setState({ productPage: 0 }, () => handleGetProducts({\n          ...query\n        }));\n        break;\n      default: break;\n    }\n  }\n\n  async subscribe() {\n    const { performer, user, settings } = this.props;\n    const { subscriptionType } = this.state;\n    if (!user._id) {\n      message.error('Please log in!');\n      Router.push('/');\n      return;\n    }\n    if (settings.paymentGateway === 'stripe' && !user.stripeCardIds.length) {\n      message.error('Please add a payment card');\n      Router.push('/user/cards');\n      return;\n    }\n    try {\n      this.setState({ submiting: true });\n      const resp = await paymentService.subscribePerformer({\n        type: subscriptionType,\n        performerId: performer._id,\n        paymentGateway: settings.paymentGateway\n      });\n      if (settings.paymentGateway === 'ccbill') {\n        window.location.href = resp?.data?.paymentUrl;\n      } else {\n        this.setState({ openSubscriptionModal: false });\n      }\n    } catch (e) {\n      const err = await e;\n      message.error(err.message || 'error occured, please try again later');\n      this.setState({ openSubscriptionModal: false, submiting: false });\n    }\n  }\n\n  async sendTip(price: number) {\n    const { performer, user, updateBalance: handleUpdateBalance } = this.props;\n    if (user.balance < price) {\n      message.error('You have an insufficient wallet balance. Please top up.');\n      Router.push('/wallet');\n      return;\n    }\n    try {\n      await this.setState({ requesting: true });\n      await tokenTransctionService.sendTip(performer?._id, { performerId: performer?._id, price });\n      message.success('Thank you for the tip');\n      handleUpdateBalance({ token: -price });\n    } catch (e) {\n      const err = await e;\n      message.error(err.message || 'error occured, please try again later');\n    } finally {\n      this.setState({ requesting: false, openTipModal: false });\n    }\n  }\n\n  async loadMoreItem() {\n    const {\n      feedPage, videoPage, productPage, itemPerPage, galleryPage,\n      tab, filter\n    } = this.state;\n    const {\n      moreFeeds: getMoreFeed,\n      moreVideo: getMoreVids,\n      moreProduct: getMoreProd,\n      moreGalleries: getMoreGallery,\n      performer\n    } = this.props;\n    const query = {\n      limit: itemPerPage,\n      performerId: performer._id,\n      q: filter.q || '',\n      fromDate: filter.fromDate || '',\n      toDate: filter.toDate || ''\n    };\n    if (tab === 'post') {\n      this.setState({\n        feedPage: feedPage + 1\n      }, () => getMoreFeed({\n        ...query,\n        offset: (feedPage + 1) * itemPerPage\n      }));\n    }\n    if (tab === 'video') {\n      this.setState({\n        videoPage: videoPage + 1\n      }, () => getMoreVids({\n        ...query,\n        offset: (videoPage + 1) * itemPerPage\n      }));\n    }\n    if (tab === 'photo') {\n      await this.setState({\n        galleryPage: galleryPage + 1\n      }, () => {\n        getMoreGallery({\n          ...query,\n          offset: (galleryPage + 1) * itemPerPage\n        });\n      });\n    }\n    if (tab === 'store') {\n      this.setState({\n        productPage: productPage + 1\n      }, () => getMoreProd({\n        ...query,\n        offset: (productPage + 1) * itemPerPage\n      }));\n    }\n  }\n\n  render() {\n    const {\n      error,\n      performer,\n      ui,\n      user,\n      feedState,\n      videoState,\n      productState,\n      galleryState,\n      countries,\n      settings\n    } = this.props;\n    if (error) {\n      return <Error statusCode={error?.statusCode || 404} title={error?.message || 'Sorry, we can\\'t find this page'} />;\n    }\n    const { items: feeds = [], total: totalFeed = 0, requesting: loadingFeed } = feedState;\n    const { items: videos = [], total: totalVideos = 0, requesting: loadingVideo } = videoState;\n    const { items: products = [], total: totalProducts = 0, requesting: loadingPrd } = productState;\n    const { items: galleries = [], total: totalGalleries = 0, requesting: loadingGallery } = galleryState;\n    const {\n      showWelcomVideo,\n      openTipModal,\n      submiting,\n      isBookMarked,\n      openSubscriptionModal,\n      tab,\n      isGrid,\n      subscriptionType,\n      isFollowed\n    } = this.state;\n    return (\n      <Layout>\n        <Head>\n          <title>\n            {`${ui?.siteName} | ${performer?.name || performer?.username}`}\n          </title>\n          <meta\n            name=\"keywords\"\n            content={`${performer?.username}, ${performer?.name}`}\n          />\n          <meta name=\"description\" content={performer?.bio} />\n          <meta property=\"og:type\" content=\"website\" />\n          <meta\n            property=\"og:title\"\n            content={`${ui?.siteName} | ${performer?.name || performer?.username}`}\n          />\n          <meta property=\"og:image\" content={performer?.avatar || '/static/no-avatar.png'} />\n          <meta\n            property=\"og:description\"\n            content={performer?.bio}\n          />\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta\n            name=\"twitter:title\"\n            content={`${ui?.siteName} | ${performer?.name || performer?.username}`}\n          />\n          <meta name=\"twitter:image\" content={performer?.avatar || '/static/no-avatar.png'} />\n          <meta name=\"twitter:description\" content={performer?.bio} />\n        </Head>\n        <div className=\"main-container\">\n          <div className=\"top-profile\" style={{ backgroundImage: `url('${performer?.cover || '/static/banner-image.jpg'}')` }}>\n            <div className=\"bg-2nd\">\n              <div className=\"top-banner\">\n                <a aria-hidden className=\"arrow-back\" onClick={() => Router.back()}>\n                  <ArrowLeftOutlined />\n                </a>\n                <div className=\"stats-row\">\n                  <div className=\"tab-stat\">\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.totalFeeds || 0)}\n                        {' '}\n                        <FireOutlined />\n                      </span>\n                    </div>\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.totalVideos || 0)}\n                        {' '}\n                        <VideoCameraOutlined />\n                      </span>\n                    </div>\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.totalPhotos || 0)}\n                        {' '}\n                        <PictureOutlined />\n                      </span>\n                    </div>\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.totalProducts || 0)}\n                        {' '}\n                        <ShoppingOutlined />\n                      </span>\n                    </div>\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.likes || 0)}\n                        {' '}\n                        <HeartOutlined />\n                      </span>\n                    </div>\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.subscribers || 0)}\n                        {' '}\n                        <UsergroupAddOutlined />\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"main-profile\">\n          <div className=\"main-container\">\n            <div className=\"fl-col\">\n              <Image\n                alt=\"main-avt\"\n                src={performer?.avatar || '/static/no-avatar.png'}\n                fallback=\"/static/no-avatar.png\"\n              />\n              {user?._id !== performer?._id && <span className={performer?.isOnline > 0 ? 'online-status' : 'online-status off'} />}\n              <div className=\"m-user-name\">\n                <h4>\n                  {performer?.name || 'N/A'}\n                  &nbsp;\n                  {performer?.verifiedAccount && (\n                    <TickIcon />\n                  )}\n                  &nbsp;\n                  {performer?.live > 0 && user?._id !== performer?._id && <a aria-hidden onClick={this.handleJoinStream} className=\"live-status\">Live</a>}\n                  {user?._id === performer?._id && <Link href=\"/model/account\"><a><EditOutlined className=\"primary-color\" /></a></Link>}\n                </h4>\n                <h5 style={{ textTransform: 'none' }}>\n                  @\n                  {performer?.username || 'n/a'}\n                </h5>\n              </div>\n            </div>\n            <div className=\"btn-grp\">\n              <Tooltip title={isFollowed ? 'Following' : 'Follow'}>\n                <Button\n                  disabled={!user._id || user.isPerformer}\n                  className={isBookMarked ? 'active' : ''}\n                  onClick={() => this.handleFollow()}\n                >\n                  {isFollowed ? <HeartFilled /> : <HeartOutlined />}\n                </Button>\n              </Tooltip>\n              <Tooltip title=\"Send Tip\">\n                <Button\n                  disabled={!user._id || user.isPerformer}\n                  onClick={() => this.setState({ openTipModal: true })}\n                >\n                  <DollarOutlined />\n                </Button>\n              </Tooltip>\n              <Tooltip title=\"Send Message\">\n                <Button\n                  disabled={!user._id || user.isPerformer}\n                  onClick={() => Router.push({\n                    pathname: '/messages',\n                    query: {\n                      toSource: 'performer',\n                      toId: (performer?._id) || ''\n                    }\n                  })}\n                >\n                  <MessageIcon />\n                </Button>\n              </Tooltip>\n              <Tooltip title={isBookMarked ? 'Remove from Bookmarks' : 'Add to Bookmarks'}>\n                <Button\n                  disabled={!user._id || user.isPerformer}\n                  className={isBookMarked ? 'active' : ''}\n                  onClick={() => this.handleBookmark()}\n                >\n                  <BookOutlined />\n                </Button>\n              </Tooltip>\n              <Popover title=\"Share to social network\" content={<ShareButtons siteName={ui.siteName} performer={performer} />}>\n                <Button className=\"normal\">\n                  <ShareIcon />\n                </Button>\n              </Popover>\n            </div>\n            <div className={user.isPerformer ? 'mar-0 pro-desc' : 'pro-desc'}>\n              <PerformerInfo countries={countries} performer={performer} />\n            </div>\n            {!performer?.isSubscribed && !user.isPerformer && (\n              <div className=\"subscription-bl\">\n                <h5>Monthly Subscription</h5>\n                <button\n                  type=\"button\"\n                  className=\"sub-btn\"\n                  disabled={(submiting)}\n                  onClick={() => {\n                    this.setState({ openSubscriptionModal: true, subscriptionType: 'monthly' });\n                  }}\n                >\n                  SUBSCRIBE FOR\n                  {' '}\n                  $\n                  {performer && performer?.monthlyPrice.toFixed(2)}\n                </button>\n              </div>\n            )}\n            {!performer?.isSubscribed && !user.isPerformer && (\n              <div className=\"subscription-bl\">\n                <h5>Yearly Subscription</h5>\n                <button\n                  type=\"button\"\n                  className=\"sub-btn\"\n                  disabled={(submiting)}\n                  onClick={() => {\n                    this.setState({ openSubscriptionModal: true, subscriptionType: 'yearly' });\n                  }}\n                >\n                  SUBSCRIBE FOR\n                  {' '}\n                  $\n                  {performer?.yearlyPrice.toFixed(2)}\n                </button>\n              </div>\n            )}\n            {performer?.isFreeSubscription && !performer?.isSubscribed && !user.isPerformer && (\n              <div className=\"subscription-bl\">\n                <h5>Free Subscription</h5>\n                <button\n                  type=\"button\"\n                  className=\"sub-btn\"\n                  disabled={(submiting)}\n                  onClick={() => {\n                    this.setState({ openSubscriptionModal: true, subscriptionType: 'free' });\n                  }}\n                >\n                  SUBSCRIBE FOR FREE FOR\n                  {' '}\n                  {performer?.durationFreeSubscriptionDays || 1}\n                  {' '}\n                  {performer?.durationFreeSubscriptionDays > 1 ? 'DAYS' : 'DAY'}\n                  {settings.paymentGateway === 'stripe' && ` THEN ${performer?.monthlyPrice.toFixed(2)} PER MONTH`}\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n        <div style={{ marginTop: '20px' }} />\n        <div className=\"main-container\">\n          <div className=\"model-content\">\n            <Tabs\n              defaultActiveKey=\"post\"\n              size=\"large\"\n              onTabClick={(t: string) => {\n                this.setState({ tab: t, filter: initialFilter, isGrid: false }, () => this.loadItems());\n              }}\n            >\n              <TabPane tab={<FireOutlined />} key=\"post\">\n                <div className=\"heading-tab\">\n                  <h4>\n                    {totalFeed > 0 && totalFeed}\n                    {' '}\n                    {totalFeed > 1 ? 'POSTS' : 'POST'}\n                  </h4>\n                  <SearchPostBar searching={loadingFeed} tab={tab} handleSearch={this.handleFilterSearch.bind(this)} handleViewGrid={(val) => this.setState({ isGrid: val })} />\n                </div>\n                <div className={isGrid ? 'main-container' : 'main-container custom'}>\n                  <ScrollListFeed\n                    items={feeds}\n                    loading={loadingFeed}\n                    canLoadmore={feeds && feeds.length < totalFeed}\n                    loadMore={this.loadMoreItem.bind(this)}\n                    isGrid={isGrid}\n                    onDelete={this.handleDeleteFeed.bind(this)}\n                  />\n                </div>\n              </TabPane>\n              <TabPane tab={<VideoCameraOutlined />} key=\"video\">\n                <div className=\"heading-tab\">\n                  <h4>\n                    {totalVideos > 0 && totalVideos}\n                    {' '}\n                    {totalVideos > 1 ? 'VIDEOS' : 'VIDEO'}\n                  </h4>\n                  <SearchPostBar searching={loadingVideo} tab={tab} handleSearch={this.handleFilterSearch.bind(this)} handleViewGrid={(val) => this.setState({ isGrid: val })} />\n                </div>\n                <div className=\"main-container\">\n                  <ScrollListVideo\n                    items={videos}\n                    loading={loadingVideo}\n                    canLoadmore={videos && videos.length < totalVideos}\n                    loadMore={this.loadMoreItem.bind(this)}\n                  />\n                </div>\n              </TabPane>\n              <TabPane tab={<PictureOutlined />} key=\"photo\">\n                <div className=\"heading-tab\">\n                  <h4>\n                    {totalGalleries > 0 && totalGalleries}\n                    {' '}\n                    {totalGalleries > 1 ? 'GALLERIES' : 'GALLERY'}\n                  </h4>\n                  <SearchPostBar searching={loadingGallery} tab={tab} handleSearch={this.handleFilterSearch.bind(this)} handleViewGrid={(val) => this.setState({ isGrid: val })} />\n                </div>\n                <div className=\"main-container\">\n                  <ScrollListGallery\n                    items={galleries}\n                    loading={loadingGallery}\n                    canLoadmore={galleries && galleries.length < totalGalleries}\n                    loadMore={this.loadMoreItem.bind(this)}\n                  />\n                </div>\n              </TabPane>\n              <TabPane tab={<ShoppingOutlined />} key=\"store\">\n                <div className=\"heading-tab\">\n                  <h4>\n                    {totalProducts > 0 && totalProducts}\n                    {' '}\n                    {totalProducts > 1 ? 'PRODUCTS' : 'PRODUCT'}\n                  </h4>\n                  <SearchPostBar searching={loadingPrd} tab={tab} handleSearch={this.handleFilterSearch.bind(this)} />\n                </div>\n                <ScrollListProduct\n                  items={products}\n                  loading={loadingPrd}\n                  canLoadmore={products && products.length < totalProducts}\n                  loadMore={this.loadMoreItem.bind(this)}\n                />\n              </TabPane>\n            </Tabs>\n          </div>\n        </div>\n        {performer\n          && performer?.welcomeVideoPath\n          && performer?.activateWelcomeVideo\n          && (\n            <Modal\n              key=\"welcome-video\"\n              className=\"welcome-video\"\n              destroyOnClose\n              closable={false}\n              maskClosable={false}\n              width={767}\n              visible={showWelcomVideo}\n              title={null}\n              centered\n              onCancel={() => this.setState({ showWelcomVideo: false })}\n              footer={[\n                <Button\n                  key=\"close\"\n                  className=\"secondary\"\n                  onClick={() => this.setState({ showWelcomVideo: false })}\n                >\n                  Close\n                </Button>,\n                <Button\n                  key=\"not-show\"\n                  className=\"primary\"\n                  onClick={this.handleViewWelcomeVideo.bind(this)}\n                >\n                  Don&apos;t show this again\n                </Button>\n              ]}\n            >\n              <VideoPlayer {...{\n                key: `${performer._id}`,\n                controls: true,\n                playsinline: true,\n                sources: [\n                  {\n                    src: performer?.welcomeVideoPath,\n                    type: 'video/mp4'\n                  }\n                ]\n              }}\n              />\n            </Modal>\n          )}\n        <Modal\n          key=\"tip_performer\"\n          className=\"subscription-modal\"\n          visible={openTipModal}\n          centered\n          onOk={() => this.setState({ openTipModal: false })}\n          footer={null}\n          width={600}\n          title={null}\n          onCancel={() => this.setState({ openTipModal: false })}\n        >\n          <TipPerformerForm\n            performer={performer}\n            submiting={submiting}\n            onFinish={this.sendTip.bind(this)}\n          />\n        </Modal>\n        <Modal\n          key=\"subscribe_performer\"\n          className=\"subscription-modal\"\n          width={600}\n          centered\n          title={null}\n          visible={openSubscriptionModal}\n          footer={null}\n          onCancel={() => this.setState({ openSubscriptionModal: false })}\n          destroyOnClose\n        >\n          <ConfirmSubscriptionPerformerForm\n            type={subscriptionType || 'monthly'}\n            performer={performer}\n            submiting={submiting}\n            onFinish={this.subscribe.bind(this)}\n          />\n        </Modal>\n        {submiting && <Loader customText=\"We are processing your payment, please do not reload this page until it's done.\" />}\n      </Layout>\n    );\n  }\n}\n\nconst mapStates = (state: any) => ({\n  ui: { ...state.ui },\n  videoState: { ...state.video.videos },\n  feedState: { ...state.feed.feeds },\n  productState: { ...state.product.products },\n  galleryState: { ...state.gallery.galleries },\n  user: { ...state.user.current },\n  settings: { ...state.settings }\n});\n\nconst mapDispatch = {\n  getFeeds,\n  moreFeeds,\n  getVideos,\n  moreVideo,\n  listProducts,\n  moreProduct,\n  getGalleries,\n  moreGalleries,\n  removeFeedSuccess,\n  updateBalance\n};\nexport default connect(mapStates, mapDispatch)(PerformerProfile);\n"]},"metadata":{},"sourceType":"module"}