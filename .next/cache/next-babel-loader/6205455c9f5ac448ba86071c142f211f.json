{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable camelcase */\nimport { Form, Input, Button, Row, Col, Divider, Layout, message } from 'antd';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport Head from 'next/head';\nimport { login, loginSuccess, loginSocial } from '@redux/auth/actions';\nimport { updateCurrentUser } from '@redux/user/actions';\nimport { authService, userService } from '@services/index';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { TwitterOutlined } from '@ant-design/icons';\nimport Loader from '@components/common/base/loader';\nimport './auth/index.less';\nimport GoogleLoginButton from '@components/auth/google-login-button';\nimport { Typography } from 'antd';\n\nvar Login = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Login, _PureComponent);\n\n  var _super = _createSuper(Login);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"recaptchaSuccess\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      loginAs: 'user',\n      isLoading: true\n    });\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.redirectLogin();\n                this.callbackTwitter();\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"handleLogin\",\n    value: function () {\n      var _handleLogin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values) {\n        var handleLogin;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                handleLogin = this.props.login;\n                return _context2.abrupt(\"return\", handleLogin(values));\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handleLogin(_x) {\n        return _handleLogin.apply(this, arguments);\n      }\n\n      return handleLogin;\n    }()\n  }, {\n    key: \"handleVerifyCapcha\",\n    value: function () {\n      var _handleVerifyCapcha = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resp) {\n        var _resp$data;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (resp !== null && resp !== void 0 && (_resp$data = resp.data) !== null && _resp$data !== void 0 && _resp$data.success) {\n                  this.recaptchaSuccess = true;\n                } else {\n                  this.recaptchaSuccess = false;\n                }\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function handleVerifyCapcha(_x2) {\n        return _handleVerifyCapcha.apply(this, arguments);\n      }\n\n      return handleVerifyCapcha;\n    }()\n  }, {\n    key: \"onGoogleLogin\",\n    value: function () {\n      var _onGoogleLogin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(resp) {\n        var handleLogin, loginAs, payload, response, error;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (resp !== null && resp !== void 0 && resp.credential) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 2:\n                handleLogin = this.props.loginSocial;\n                loginAs = this.state.loginAs;\n                payload = {\n                  tokenId: resp.credential,\n                  role: loginAs\n                };\n                _context4.prev = 5;\n                _context4.next = 8;\n                return this.setState({\n                  isLoading: true\n                });\n\n              case 8:\n                _context4.next = 10;\n                return authService.loginGoogle(payload);\n\n              case 10:\n                _context4.next = 12;\n                return _context4.sent.data;\n\n              case 12:\n                response = _context4.sent;\n                response.token && handleLogin({\n                  token: response.token\n                });\n                _context4.next = 22;\n                break;\n\n              case 16:\n                _context4.prev = 16;\n                _context4.t0 = _context4[\"catch\"](5);\n                _context4.next = 20;\n                return _context4.t0;\n\n              case 20:\n                error = _context4.sent;\n                message.error((error === null || error === void 0 ? void 0 : error.message) || 'Google authentication login fail');\n\n              case 22:\n                _context4.prev = 22;\n                this.setState({\n                  isLoading: false\n                });\n                return _context4.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[5, 16, 22, 25]]);\n      }));\n\n      function onGoogleLogin(_x3) {\n        return _onGoogleLogin.apply(this, arguments);\n      }\n\n      return onGoogleLogin;\n    }()\n  }, {\n    key: \"redirectLogin\",\n    value: function () {\n      var _redirectLogin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var _this$props, handleLogin, handleUpdateUser, token, user;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$props = this.props, handleLogin = _this$props.loginSuccess, handleUpdateUser = _this$props.updateCurrentUser;\n                token = authService.getToken();\n\n                if (!(!token || token === 'null')) {\n                  _context5.next = 5;\n                  break;\n                }\n\n                this.setState({\n                  isLoading: false\n                });\n                return _context5.abrupt(\"return\");\n\n              case 5:\n                authService.setToken(token);\n                _context5.prev = 6;\n                _context5.next = 9;\n                return this.setState({\n                  isLoading: true\n                });\n\n              case 9:\n                _context5.next = 11;\n                return userService.me({\n                  Authorization: token\n                });\n\n              case 11:\n                user = _context5.sent;\n\n                if (!(!user || !user.data || !user.data._id)) {\n                  _context5.next = 14;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\");\n\n              case 14:\n                handleLogin();\n                handleUpdateUser(user.data);\n                user.data.isPerformer ? Router.push({\n                  pathname: '/model/profile',\n                  query: {\n                    username: user.data.username || user.data._id\n                  }\n                }, \"/\".concat(user.data.username || user.data._id)) : Router.push('/home');\n                _context5.next = 22;\n                break;\n\n              case 19:\n                _context5.prev = 19;\n                _context5.t0 = _context5[\"catch\"](6);\n                this.setState({\n                  isLoading: false\n                });\n\n              case 22:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[6, 19]]);\n      }));\n\n      function redirectLogin() {\n        return _redirectLogin.apply(this, arguments);\n      }\n\n      return redirectLogin;\n    }()\n  }, {\n    key: \"callbackTwitter\",\n    value: function () {\n      var _callbackTwitter = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var _this$props2, oauth_verifier, handleLogin, twitterInfo, auth, error;\n\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _this$props2 = this.props, oauth_verifier = _this$props2.oauth_verifier, handleLogin = _this$props2.loginSocial;\n                twitterInfo = authService.getTwitterToken();\n\n                if (!(!oauth_verifier || !twitterInfo.oauthToken || !twitterInfo.oauthTokenSecret)) {\n                  _context6.next = 4;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\");\n\n              case 4:\n                _context6.prev = 4;\n                _context6.next = 7;\n                return authService.callbackLoginTwitter({\n                  oauth_verifier: oauth_verifier,\n                  oauthToken: twitterInfo.oauthToken,\n                  oauthTokenSecret: twitterInfo.oauthTokenSecret,\n                  role: twitterInfo.role || 'user'\n                });\n\n              case 7:\n                auth = _context6.sent;\n                auth.data && auth.data.token && handleLogin({\n                  token: auth.data.token\n                });\n                _context6.next = 17;\n                break;\n\n              case 11:\n                _context6.prev = 11;\n                _context6.t0 = _context6[\"catch\"](4);\n                _context6.next = 15;\n                return _context6.t0;\n\n              case 15:\n                error = _context6.sent;\n                message.error((error === null || error === void 0 ? void 0 : error.message) || 'Twitter authentication login fail');\n\n              case 17:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[4, 11]]);\n      }));\n\n      function callbackTwitter() {\n        return _callbackTwitter.apply(this, arguments);\n      }\n\n      return callbackTwitter;\n    }()\n  }, {\n    key: \"loginTwitter\",\n    value: function () {\n      var _loginTwitter = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n        var loginAs, resp, error;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                loginAs = this.state.loginAs;\n                _context7.prev = 1;\n                _context7.next = 4;\n                return this.setState({\n                  isLoading: true\n                });\n\n              case 4:\n                _context7.next = 6;\n                return authService.loginTwitter();\n\n              case 6:\n                _context7.next = 8;\n                return _context7.sent.data;\n\n              case 8:\n                resp = _context7.sent;\n\n                if (resp && resp.url) {\n                  authService.setTwitterToken({\n                    oauthToken: resp.oauthToken,\n                    oauthTokenSecret: resp.oauthTokenSecret\n                  }, loginAs);\n                  window.location.href = resp.url;\n                }\n\n                _context7.next = 18;\n                break;\n\n              case 12:\n                _context7.prev = 12;\n                _context7.t0 = _context7[\"catch\"](1);\n                _context7.next = 16;\n                return _context7.t0;\n\n              case 16:\n                error = _context7.sent;\n                message.error((error === null || error === void 0 ? void 0 : error.message) || 'Twitter authentication login fail');\n\n              case 18:\n                _context7.prev = 18;\n                this.setState({\n                  isLoading: false\n                });\n                return _context7.finish(18);\n\n              case 21:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[1, 12, 18, 21]]);\n      }));\n\n      function loginTwitter() {\n        return _loginTwitter.apply(this, arguments);\n      }\n\n      return loginTwitter;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          ui = _this$props3.ui,\n          settings = _this$props3.settings,\n          loginAuth = _this$props3.loginAuth;\n      var isLoading = this.state.isLoading;\n      var Title = Typography.Title;\n      return __jsx(Layout, null, __jsx(Head, null, __jsx(\"title\", null, ui && ui.siteName), __jsx(\"meta\", {\n        name: \"keywords\",\n        content: settings && settings.metaKeywords\n      }), __jsx(\"meta\", {\n        name: \"description\",\n        content: settings && settings.metaDescription\n      }), __jsx(\"meta\", {\n        property: \"og:type\",\n        content: \"website\"\n      }), __jsx(\"meta\", {\n        property: \"og:title\",\n        content: ui && ui.siteName\n      }), __jsx(\"meta\", {\n        property: \"og:image\",\n        content: ui && ui.logo\n      }), __jsx(\"meta\", {\n        property: \"og:description\",\n        content: settings && settings.metaDescription\n      }), __jsx(\"meta\", {\n        name: \"twitter:card\",\n        content: \"summary\"\n      }), __jsx(\"meta\", {\n        name: \"twitter:title\",\n        content: ui && ui.siteName\n      }), __jsx(\"meta\", {\n        name: \"twitter:image\",\n        content: ui && ui.logo\n      }), __jsx(\"meta\", {\n        name: \"twitter:description\",\n        content: settings && settings.metaDescription\n      })), __jsx(\"div\", {\n        className: \"main-container \",\n        style: {\n          maxWidth: \"100%\",\n          padding: \"0\"\n        }\n      }, __jsx(\"div\", {\n        style: {\n          height: \"100vh\"\n        }\n      }, __jsx(Row, {\n        style: {\n          height: \"100vh\"\n        }\n      }, __jsx(Col, {\n        span: 12,\n        style: {\n          padding: \"0\"\n        }\n      }, __jsx(\"div\", {\n        className: \"new-login-left-wrapper\"\n      }, __jsx(\"div\", {\n        className: \"new-logo\"\n      }, __jsx(\"img\", {\n        src: \"../../static/assets/logo-white.png\",\n        alt: \"Foodie fans Logo\"\n      })), __jsx(\"div\", null, __jsx(\"img\", {\n        src: \"../../static/assets/login-page/left-main-img.png\",\n        alt: \"Foodiefans login page\"\n      })), __jsx(\"div\", {\n        className: \"new-login-left-content\"\n      }, __jsx(\"h1\", null, \"Your culinary adventure\", __jsx(\"span\", {\n        style: {\n          color: \"white\"\n        }\n      }, \" starts here.\")), __jsx(\"p\", null, \"Sign in and let\\u2019s cook something extraordinary together!\")))), __jsx(Col, {\n        span: 12,\n        style: {\n          padding: \"0\"\n        }\n      }, __jsx(\"div\", {\n        style: {\n          backgroundColor: \"blue\",\n          height: \"100%\"\n        }\n      }, \"new\")))), __jsx(\"div\", {\n        className: \"login-box\"\n      }, __jsx(Row, null, __jsx(Col, {\n        xs: 24,\n        sm: 24,\n        md: 12,\n        lg: 12\n      }, __jsx(\"div\", {\n        className: \"login-content left\",\n        style: ui.loginPlaceholderImage ? {\n          backgroundImage: \"url(\".concat(ui.loginPlaceholderImage, \")\")\n        } : null\n      })), __jsx(Col, {\n        xs: 24,\n        sm: 24,\n        md: 12,\n        lg: 12\n      }, __jsx(\"div\", {\n        className: \"login-content right\"\n      }, __jsx(\"div\", {\n        className: \"login-logo\"\n      }, __jsx(\"a\", {\n        href: \"/\"\n      }, ui.logo ? __jsx(\"img\", {\n        alt: \"logo\",\n        src: ui.logo,\n        height: \"80px\"\n      }) : ui.siteName)), __jsx(\"p\", {\n        className: \"text-center\"\n      }, __jsx(\"small\", null, \"Sign up to make money and interact with your fans!\")), __jsx(\"div\", {\n        className: \"social-login\"\n      }, __jsx(\"button\", {\n        type: \"button\",\n        disabled: !settings.twitterClientId,\n        onClick: function onClick() {\n          return _this2.loginTwitter();\n        },\n        className: \"twitter-button\"\n      }, __jsx(TwitterOutlined, null), ' ', \"LOG IN / SIGN UP WITH TWITTER\"), __jsx(GoogleLoginButton, {\n        clientId: settings.googleClientId,\n        onSuccess: this.onGoogleLogin.bind(this),\n        onFailure: this.onGoogleLogin.bind(this)\n      })), __jsx(Divider, null, \"Or\"), __jsx(\"div\", {\n        className: \"login-form\"\n      }, __jsx(Form, {\n        name: \"normal_login\",\n        className: \"login-form\",\n        initialValues: {\n          remember: true\n        },\n        onFinish: this.handleLogin.bind(this)\n      }, __jsx(Form.Item, {\n        name: \"username\",\n        validateTrigger: ['onChange', 'onBlur'],\n        rules: [{\n          required: true,\n          message: 'Email or Username is missing'\n        }]\n      }, __jsx(Input, {\n        disabled: loginAuth.requesting || isLoading,\n        placeholder: \"Email or Username\"\n      })), __jsx(Form.Item, {\n        name: \"password\",\n        validateTrigger: ['onChange', 'onBlur'],\n        rules: [{\n          required: true,\n          message: 'Please enter your password!'\n        }]\n      }, __jsx(Input.Password, {\n        disabled: loginAuth.requesting || isLoading,\n        placeholder: \"Password\"\n      })), __jsx(\"p\", {\n        style: {\n          padding: '0 20px'\n        }\n      }, __jsx(Link, {\n        href: {\n          pathname: '/auth/forgot-password'\n        }\n      }, __jsx(\"a\", {\n        className: \"sub-text\"\n      }, \"Forgot password?\"))), __jsx(Form.Item, {\n        style: {\n          textAlign: 'center'\n        }\n      }, __jsx(Button, {\n        disabled: loginAuth.requesting || isLoading,\n        loading: loginAuth.requesting || isLoading,\n        type: \"primary\",\n        htmlType: \"submit\",\n        className: \"login-form-button\"\n      }, \"LOG IN\"), __jsx(\"p\", {\n        style: {\n          fontSize: 11\n        }\n      }, \"Visit\", ' ', __jsx(\"a\", {\n        href: \"/page/help\"\n      }, \"Help Center\"), ' ', \"for any help if you are not able to login with your existing\", ' ', (ui === null || ui === void 0 ? void 0 : ui.siteName) || 'Fanso', ' ', \"account\"), __jsx(Divider, {\n        style: {\n          margin: '15px 0'\n        }\n      }), __jsx(\"p\", {\n        style: {\n          marginBottom: 5\n        }\n      }, \"Don't have an account yet?\"), __jsx(\"p\", null, __jsx(Link, {\n        href: \"/auth/register\"\n      }, __jsx(\"a\", null, \"Sign up for\", ' ', ui === null || ui === void 0 ? void 0 : ui.siteName))))))))))), isLoading && __jsx(Loader, null));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(_ref) {\n        var ctx;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                ctx = _ref.ctx;\n                return _context8.abrupt(\"return\", _objectSpread({}, ctx.query));\n\n              case 2:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function getInitialProps(_x4) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Login;\n}(PureComponent);\n\n_defineProperty(Login, \"authenticate\", false);\n\n_defineProperty(Login, \"layout\", 'blank');\n\nvar mapStatesToProps = function mapStatesToProps(state) {\n  return {\n    ui: _objectSpread({}, state.ui),\n    settings: _objectSpread({}, state.settings),\n    loginAuth: _objectSpread({}, state.auth.loginAuth)\n  };\n};\n\nvar mapDispatchToProps = {\n  login: login,\n  loginSocial: loginSocial,\n  loginSuccess: loginSuccess,\n  updateCurrentUser: updateCurrentUser\n};\nexport default connect(mapStatesToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["c:/Users/Admin/Desktop/Work/foodiefans/foodiefans-main/user/pages/index.tsx"],"names":["Form","Input","Button","Row","Col","Divider","Layout","message","PureComponent","connect","Head","login","loginSuccess","loginSocial","updateCurrentUser","authService","userService","Link","Router","TwitterOutlined","Loader","GoogleLoginButton","Typography","Login","loginAs","isLoading","redirectLogin","callbackTwitter","values","handleLogin","props","resp","data","success","recaptchaSuccess","credential","state","payload","tokenId","role","setState","loginGoogle","response","token","error","handleUpdateUser","getToken","setToken","me","Authorization","user","_id","isPerformer","push","pathname","query","username","oauth_verifier","twitterInfo","getTwitterToken","oauthToken","oauthTokenSecret","callbackLoginTwitter","auth","loginTwitter","url","setTwitterToken","window","location","href","ui","settings","loginAuth","Title","siteName","metaKeywords","metaDescription","logo","maxWidth","padding","height","color","backgroundColor","loginPlaceholderImage","backgroundImage","twitterClientId","googleClientId","onGoogleLogin","bind","remember","required","requesting","textAlign","fontSize","margin","marginBottom","ctx","mapStatesToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["/* eslint-disable camelcase */\nimport {\n  Form, Input, Button, Row, Col, Divider, Layout, message, Grid\n} from 'antd';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport Head from 'next/head';\nimport { login, loginSuccess, loginSocial } from '@redux/auth/actions';\nimport { updateCurrentUser } from '@redux/user/actions';\nimport { authService, userService } from '@services/index';\nimport Link from 'next/link';\nimport { ISettings, IUIConfig } from 'src/interfaces';\nimport Router from 'next/router';\nimport { TwitterOutlined, GoogleOutlined } from '@ant-design/icons';\nimport Loader from '@components/common/base/loader';\nimport './auth/index.less';\nimport GoogleLoginButton from '@components/auth/google-login-button';\nimport {Typography} from 'antd';\n\n\nimport { url } from 'inspector';\n\n\ninterface IProps {\n  loginAuth: any;\n  login: Function;\n  updateCurrentUser: Function;\n  loginSuccess: Function;\n  loginSocial: Function;\n  ui: IUIConfig;\n  settings: ISettings;\n  oauth_verifier: string;\n}\n\nclass Login extends PureComponent<IProps> {\n  static authenticate = false;\n\n  static layout = 'blank';\n\n  recaptchaSuccess = false;\n\n  static async getInitialProps({ ctx }) {\n    return {\n      ...ctx.query\n    };\n  }\n\n  state = {\n    loginAs: 'user',\n    isLoading: true\n  };\n\n  async componentDidMount() {\n    this.redirectLogin();\n    this.callbackTwitter();\n  }\n\n  async handleLogin(values: any) {\n    const { login: handleLogin } = this.props;\n    return handleLogin(values);\n  }\n\n  async handleVerifyCapcha(resp: any) {\n    if (resp?.data?.success) {\n      this.recaptchaSuccess = true;\n    } else {\n      this.recaptchaSuccess = false;\n    }\n  }\n\n  async onGoogleLogin(resp: any) {\n    if (!resp?.credential) {\n      return;\n    }\n    const { loginSocial: handleLogin } = this.props;\n    const { loginAs } = this.state;\n    const payload = { tokenId: resp.credential, role: loginAs };\n    try {\n      await this.setState({ isLoading: true });\n      const response = await (await authService.loginGoogle(payload)).data;\n      response.token && handleLogin({ token: response.token });\n    } catch (e) {\n      const error = await e;\n      message.error(error?.message || 'Google authentication login fail');\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  async redirectLogin() {\n    const { loginSuccess: handleLogin, updateCurrentUser: handleUpdateUser } = this.props;\n    const token = authService.getToken();\n    if (!token || token === 'null') {\n      this.setState({ isLoading: false });\n      return;\n    }\n    authService.setToken(token);\n    try {\n      await this.setState({ isLoading: true });\n      const user = await userService.me({\n        Authorization: token\n      });\n      if (!user || !user.data || !user.data._id) return;\n      handleLogin();\n      handleUpdateUser(user.data);\n      user.data.isPerformer\n        ? Router.push(\n          { pathname: '/model/profile', query: { username: user.data.username || user.data._id } },\n          `/${user.data.username || user.data._id}`\n        )\n        : Router.push('/home');\n    } catch {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  async callbackTwitter() {\n    const { oauth_verifier, loginSocial: handleLogin } = this.props;\n    const twitterInfo = authService.getTwitterToken();\n    if (!oauth_verifier || !twitterInfo.oauthToken || !twitterInfo.oauthTokenSecret) {\n      return;\n    }\n    try {\n      const auth = await authService.callbackLoginTwitter({\n        oauth_verifier,\n        oauthToken: twitterInfo.oauthToken,\n        oauthTokenSecret: twitterInfo.oauthTokenSecret,\n        role: twitterInfo.role || 'user'\n      });\n      auth.data && auth.data.token && handleLogin({ token: auth.data.token });\n    } catch (e) {\n      const error = await e;\n      message.error(error?.message || 'Twitter authentication login fail');\n    }\n  }\n\n  async loginTwitter() {\n    const { loginAs } = this.state;\n    try {\n      await this.setState({ isLoading: true });\n      const resp = await (await authService.loginTwitter()).data;\n      if (resp && resp.url) {\n        authService.setTwitterToken({ oauthToken: resp.oauthToken, oauthTokenSecret: resp.oauthTokenSecret }, loginAs);\n        window.location.href = resp.url;\n      }\n    } catch (e) {\n      const error = await e;\n      message.error(error?.message || 'Twitter authentication login fail');\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  }\n\n  render() {\n    const { ui, settings, loginAuth } = this.props;\n    const { isLoading } = this.state;\n    const { Title } = Typography;\n    return (\n      <Layout>\n        <Head>\n          <title>{ui && ui.siteName}</title>\n          <meta name=\"keywords\" content={settings && settings.metaKeywords} />\n          <meta name=\"description\" content={settings && settings.metaDescription} />\n          {/* OG tags */}\n          <meta property=\"og:type\" content=\"website\" />\n          <meta property=\"og:title\" content={ui && ui.siteName} />\n          <meta property=\"og:image\" content={ui && ui.logo} />\n          <meta property=\"og:description\" content={settings && settings.metaDescription} />\n          {/* Twitter tags */}\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta name=\"twitter:title\" content={ui && ui.siteName} />\n          <meta name=\"twitter:image\" content={ui && ui.logo} />\n          <meta name=\"twitter:description\" content={settings && settings.metaDescription} />\n        </Head>\n        <div className=\"main-container \" style={{maxWidth: \"100%\", padding: \"0\"}}>\n          <div style={{height: \"100vh\"}}>\n            <Row style={{height: \"100vh\"}}>\n            <Col span={12} style={{padding: \"0\"}}>\n              <div className='new-login-left-wrapper'>\n               <div className='new-logo'>\n                <img src=\"../../static/assets/logo-white.png\" alt=\"Foodie fans Logo\" />\n               </div>\n               <div>\n                <img src=\"../../static/assets/login-page/left-main-img.png\" alt=\"Foodiefans login page\" />\n               </div>\n               <div className='new-login-left-content'>\n                <h1>Your culinary adventure<span style={{color:\"white\"}}> starts here.</span></h1>\n                <p>Sign in and letâ€™s cook something extraordinary together!</p>\n               </div>\n              </div>\n            </Col>\n            <Col span={12} style={{padding: \"0\"}}>\n              <div style={{backgroundColor: \"blue\", height:\"100%\"}}>new</div>\n            </Col>\n          </Row>\n          </div>\n          \n          <div className=\"login-box\">\n            <Row>\n              <Col xs={24} sm={24} md={12} lg={12}>\n                <div\n                  className=\"login-content left\"\n                  style={ui.loginPlaceholderImage ? { backgroundImage: `url(${ui.loginPlaceholderImage})` } : null}\n                />\n              </Col>\n              <Col xs={24} sm={24} md={12} lg={12}>\n                <div className=\"login-content right\">\n                  <div className=\"login-logo\">\n                    <a href=\"/\">{ui.logo ? <img alt=\"logo\" src={ui.logo} height=\"80px\" /> : ui.siteName}</a>\n                  </div>\n                  <p className=\"text-center\">\n                    <small>Sign up to make money and interact with your fans!</small>\n                  </p>\n                  <div className=\"social-login\">\n                    <button\n                      type=\"button\"\n                      disabled={!settings.twitterClientId}\n                      onClick={() => this.loginTwitter()}\n                      className=\"twitter-button\"\n                    >\n                      <TwitterOutlined />\n                      {' '}\n                      LOG IN / SIGN UP WITH TWITTER\n                    </button>\n                    <GoogleLoginButton\n                      clientId={settings.googleClientId}\n                      onSuccess={this.onGoogleLogin.bind(this)}\n                      onFailure={this.onGoogleLogin.bind(this)}\n                    />\n                  </div>\n                  <Divider>Or</Divider>\n                  <div className=\"login-form\">\n                    <Form\n                      name=\"normal_login\"\n                      className=\"login-form\"\n                      initialValues={{ remember: true }}\n                      onFinish={this.handleLogin.bind(this)}\n                    >\n                      <Form.Item\n                        name=\"username\"\n                        validateTrigger={['onChange', 'onBlur']}\n                        rules={[{ required: true, message: 'Email or Username is missing' }]}\n                      >\n                        <Input disabled={loginAuth.requesting || isLoading} placeholder=\"Email or Username\" />\n                      </Form.Item>\n                      <Form.Item\n                        name=\"password\"\n                        validateTrigger={['onChange', 'onBlur']}\n                        rules={[{ required: true, message: 'Please enter your password!' }]}\n                      >\n                        <Input.Password disabled={loginAuth.requesting || isLoading} placeholder=\"Password\" />\n                      </Form.Item>\n                      <p style={{ padding: '0 20px' }}>\n                        <Link\n                          href={{\n                            pathname: '/auth/forgot-password'\n                          }}\n                        >\n                          <a className=\"sub-text\">Forgot password?</a>\n                        </Link>\n                      </p>\n                      {/* <GoogleReCaptcha ui={ui} handleVerify={this.handleVerifyCapcha.bind(this)} /> */}\n                      <Form.Item style={{ textAlign: 'center' }}>\n                        <Button\n                          disabled={loginAuth.requesting || isLoading}\n                          loading={loginAuth.requesting || isLoading}\n                          type=\"primary\"\n                          htmlType=\"submit\"\n                          className=\"login-form-button\"\n                        >\n                          LOG IN\n                        </Button>\n                        <p style={{ fontSize: 11 }}>\n                          Visit\n                          {' '}\n                          <a href=\"/page/help\">Help Center</a>\n                          {' '}\n                          for any help if you are not able to login with your\n                          existing\n                          {' '}\n                          {ui?.siteName || 'Fanso'}\n                          {' '}\n                          account\n                        </p>\n                        <Divider style={{ margin: '15px 0' }} />\n                        <p style={{ marginBottom: 5 }}>Don&apos;t have an account yet?</p>\n                        <p>\n                          <Link href=\"/auth/register\">\n                            <a>\n                              Sign up for\n                              {' '}\n                              {ui?.siteName}\n                            </a>\n                          </Link>\n                        </p>\n                      </Form.Item>\n                    </Form>\n                  </div>\n                </div>\n              </Col>\n            </Row>\n          </div>\n        </div>\n        {isLoading && <Loader />}\n      </Layout>\n    );\n  }\n}\n\nconst mapStatesToProps = (state: any) => ({\n  ui: { ...state.ui },\n  settings: { ...state.settings },\n  loginAuth: { ...state.auth.loginAuth }\n});\n\nconst mapDispatchToProps = {\n  login,\n  loginSocial,\n  loginSuccess,\n  updateCurrentUser\n};\nexport default connect(mapStatesToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}