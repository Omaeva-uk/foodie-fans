{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { PureComponent } from 'react';\nimport { EyeOutlined, LikeOutlined, HourglassOutlined, LockOutlined, UnlockOutlined, CalendarOutlined } from '@ant-design/icons';\nimport { Tooltip } from 'antd';\nimport Link from 'next/link';\nimport { videoDuration, shortenLargeNumber } from '@lib/index';\nimport './video.less';\nexport class VideoCard extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      isHovered: false\n    });\n  }\n\n  render() {\n    var _video$thumbnail, _video$thumbnail2, _video$thumbnail3, _video$teaser, _video$teaser2, _video$video, _video$video2, _video$stats, _video$stats2, _video$video3;\n\n    const {\n      video\n    } = this.props;\n    const {\n      isHovered\n    } = this.state;\n    const canView = !video.isSale && video.isSubscribed || video.isSale && video.isBought;\n    const thumbUrl = (canView ? video === null || video === void 0 ? void 0 : (_video$thumbnail = video.thumbnail) === null || _video$thumbnail === void 0 ? void 0 : _video$thumbnail.url : (video === null || video === void 0 ? void 0 : (_video$thumbnail2 = video.thumbnail) === null || _video$thumbnail2 === void 0 ? void 0 : _video$thumbnail2.thumbnails) && (video === null || video === void 0 ? void 0 : (_video$thumbnail3 = video.thumbnail) === null || _video$thumbnail3 === void 0 ? void 0 : _video$thumbnail3.thumbnails[0])) || (video === null || video === void 0 ? void 0 : (_video$teaser = video.teaser) === null || _video$teaser === void 0 ? void 0 : _video$teaser.thumbnails) && (video === null || video === void 0 ? void 0 : (_video$teaser2 = video.teaser) === null || _video$teaser2 === void 0 ? void 0 : _video$teaser2.thumbnails[0]) || (video === null || video === void 0 ? void 0 : (_video$video = video.video) === null || _video$video === void 0 ? void 0 : _video$video.thumbnails) && (video === null || video === void 0 ? void 0 : (_video$video2 = video.video) === null || _video$video2 === void 0 ? void 0 : _video$video2.thumbnails[0]) || '/static/no-image.jpg';\n    return __jsx(Link, {\n      href: {\n        pathname: '/video',\n        query: {\n          id: video.slug || video._id\n        }\n      },\n      as: `/video/${video.slug || video._id}`\n    }, __jsx(\"div\", {\n      className: \"vid-card\",\n      onMouseEnter: () => this.setState({\n        isHovered: true\n      }),\n      onMouseLeave: () => this.setState({\n        isHovered: false\n      })\n    }, video.isSale && video.price > 0 && __jsx(\"span\", {\n      className: \"vid-price\"\n    }, __jsx(\"div\", {\n      className: \"label-price\"\n    }, \"$\", (video.price || 0).toFixed(2))), video.isSchedule && __jsx(\"span\", {\n      className: \"vid-calendar\"\n    }, __jsx(CalendarOutlined, null)), __jsx(\"div\", {\n      className: \"vid-thumb\"\n    }, __jsx(\"div\", {\n      className: \"card-bg\",\n      style: {\n        backgroundImage: `url(${thumbUrl})`,\n        filter: !canView ? 'blur(20px)' : 'blur(0px)'\n      }\n    }), __jsx(\"div\", {\n      className: \"vid-stats\"\n    }, __jsx(\"span\", null, __jsx(\"a\", null, __jsx(EyeOutlined, null), ' ', shortenLargeNumber((video === null || video === void 0 ? void 0 : (_video$stats = video.stats) === null || _video$stats === void 0 ? void 0 : _video$stats.views) || 0)), __jsx(\"a\", null, __jsx(LikeOutlined, null), ' ', shortenLargeNumber((video === null || video === void 0 ? void 0 : (_video$stats2 = video.stats) === null || _video$stats2 === void 0 ? void 0 : _video$stats2.likes) || 0))), __jsx(\"a\", null, __jsx(HourglassOutlined, null), ' ', videoDuration((video === null || video === void 0 ? void 0 : (_video$video3 = video.video) === null || _video$video3 === void 0 ? void 0 : _video$video3.duration) || 0))), __jsx(\"div\", {\n      className: \"lock-middle\"\n    }, canView || isHovered ? __jsx(UnlockOutlined, null) : __jsx(LockOutlined, null))), __jsx(Tooltip, {\n      title: video.title\n    }, __jsx(\"div\", {\n      className: \"vid-info\"\n    }, video.title))));\n  }\n\n}","map":{"version":3,"sources":["c:/Users/Admin/Desktop/Work/foodiefans/foodiefans-main/user/src/components/video/video-card.tsx"],"names":["PureComponent","EyeOutlined","LikeOutlined","HourglassOutlined","LockOutlined","UnlockOutlined","CalendarOutlined","Tooltip","Link","videoDuration","shortenLargeNumber","VideoCard","isHovered","render","video","props","state","canView","isSale","isSubscribed","isBought","thumbUrl","thumbnail","url","thumbnails","teaser","pathname","query","id","slug","_id","setState","price","toFixed","isSchedule","backgroundImage","filter","stats","views","likes","duration","title"],"mappings":"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","sourcesContent":["import { PureComponent } from 'react';\nimport {\n  EyeOutlined, LikeOutlined, HourglassOutlined, LockOutlined, UnlockOutlined, CalendarOutlined\n} from '@ant-design/icons';\nimport { Tooltip } from 'antd';\nimport Link from 'next/link';\nimport { videoDuration, shortenLargeNumber } from '@lib/index';\nimport { IVideo } from 'src/interfaces';\nimport './video.less';\n\ninterface IProps {\n  video: IVideo;\n}\n\nexport class VideoCard extends PureComponent<IProps> {\n  state = {\n    isHovered: false\n  }\n\n  render() {\n    const { video } = this.props;\n    const { isHovered } = this.state;\n    const canView = (!video.isSale && video.isSubscribed) || (video.isSale && video.isBought);\n    const thumbUrl = (canView ? video?.thumbnail?.url : (video?.thumbnail?.thumbnails && video?.thumbnail?.thumbnails[0])) || (video?.teaser?.thumbnails && video?.teaser?.thumbnails[0]) || (video?.video?.thumbnails && video?.video?.thumbnails[0]) || '/static/no-image.jpg';\n    return (\n      <Link\n        href={{ pathname: '/video', query: { id: video.slug || video._id } }}\n        as={`/video/${video.slug || video._id}`}\n      >\n        <div\n          className=\"vid-card\"\n          onMouseEnter={() => this.setState({ isHovered: true })}\n          onMouseLeave={() => this.setState({ isHovered: false })}\n        >\n          {video.isSale && video.price > 0 && (\n          <span className=\"vid-price\">\n            <div className=\"label-price\">\n              $\n              {(video.price || 0).toFixed(2)}\n            </div>\n          </span>\n          )}\n          {video.isSchedule && (\n          <span className=\"vid-calendar\">\n            <CalendarOutlined />\n          </span>\n          )}\n          <div className=\"vid-thumb\">\n            <div className=\"card-bg\" style={{ backgroundImage: `url(${thumbUrl})`, filter: !canView ? 'blur(20px)' : 'blur(0px)' }} />\n            <div className=\"vid-stats\">\n              <span>\n                <a>\n                  <EyeOutlined />\n                  {' '}\n                  {shortenLargeNumber(video?.stats?.views || 0)}\n                </a>\n                <a>\n                  <LikeOutlined />\n                  {' '}\n                  {shortenLargeNumber(video?.stats?.likes || 0)}\n                </a>\n              </span>\n              <a>\n                <HourglassOutlined />\n                {' '}\n                {videoDuration(video?.video?.duration || 0)}\n              </a>\n            </div>\n            <div className=\"lock-middle\">\n              {(canView || isHovered) ? <UnlockOutlined /> : <LockOutlined />}\n              {/* {(!video.isSale && !video.isSubscribed) && <Button type=\"link\">Subscribe to unlock</Button>}\n              {(video.isSale && !video.isBought) && <Button type=\"link\">Pay now to unlock</Button>} */}\n            </div>\n          </div>\n          <Tooltip title={video.title}>\n            <div className=\"vid-info\">\n              {video.title}\n            </div>\n          </Tooltip>\n        </div>\n      </Link>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}