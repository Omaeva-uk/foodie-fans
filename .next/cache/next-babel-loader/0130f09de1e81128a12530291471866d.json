{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Layout, Tabs, Button, message, Modal, Image, Popover, Tooltip } from 'antd';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { getVideos, moreVideo } from '@redux/video/actions';\nimport { getFeeds, moreFeeds, removeFeedSuccess } from '@redux/feed/actions';\nimport { listProducts, moreProduct } from '@redux/product/actions';\nimport { moreGalleries, getGalleries } from '@redux/gallery/actions';\nimport { updateBalance } from '@redux/user/actions';\nimport { performerService, tokenTransctionService, feedService, reactionService, paymentService, utilsService, followService } from 'src/services';\nimport Head from 'next/head';\nimport { ArrowLeftOutlined, FireOutlined, EditOutlined, HeartOutlined, DollarOutlined, HeartFilled, UsergroupAddOutlined, VideoCameraOutlined, PictureOutlined, ShoppingOutlined, BookOutlined } from '@ant-design/icons';\nimport { TickIcon, ShareIcon, MessageIcon } from 'src/icons';\nimport { ScrollListProduct } from '@components/product/scroll-list-item';\nimport ScrollListFeed from '@components/post/scroll-list';\nimport { ScrollListVideo } from '@components/video/scroll-list-item';\nimport { ScrollListGallery } from '@components/gallery/scroll-list-gallery';\nimport { PerformerInfo } from '@components/performer/table-info';\nimport { ConfirmSubscriptionPerformerForm, TipPerformerForm } from '@components/performer';\nimport ShareButtons from '@components/performer/share-profile';\nimport SearchPostBar from '@components/post/search-bar';\nimport Loader from '@components/common/base/loader';\nimport { VideoPlayer } from '@components/common';\nimport { shortenLargeNumber } from '@lib/index';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport Error from 'next/error';\nimport '@components/performer/performer.less';\nconst {\n  TabPane\n} = Tabs;\nconst initialFilter = {\n  q: '',\n  fromDate: '',\n  toDate: ''\n};\n\nclass PerformerProfile extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      itemPerPage: 12,\n      videoPage: 0,\n      productPage: 0,\n      feedPage: 0,\n      galleryPage: 0,\n      showWelcomVideo: false,\n      openTipModal: false,\n      submiting: false,\n      isBookMarked: false,\n      requesting: false,\n      openSubscriptionModal: false,\n      tab: 'post',\n      filter: initialFilter,\n      isGrid: false,\n      subscriptionType: 'monthly',\n      isFollowed: false\n    });\n\n    _defineProperty(this, \"handleFollow\", async () => {\n      const {\n        performer,\n        user\n      } = this.props;\n      const {\n        isFollowed,\n        requesting,\n        tab\n      } = this.state;\n\n      if (!user._id) {\n        message.error('Please log in or register!');\n        return;\n      }\n\n      if (requesting || user.isPerformer) return;\n\n      try {\n        this.setState({\n          requesting: true\n        });\n\n        if (!isFollowed) {\n          await followService.create(performer === null || performer === void 0 ? void 0 : performer._id);\n          this.setState({\n            isFollowed: true,\n            requesting: false\n          });\n        } else {\n          await followService.delete(performer === null || performer === void 0 ? void 0 : performer._id);\n          this.setState({\n            isFollowed: false,\n            requesting: false\n          });\n        }\n\n        if (tab === 'post') {\n          this.loadItems();\n        }\n      } catch (e) {\n        const error = await e;\n        message.error(error.message || 'Error occured, please try again later');\n        this.setState({\n          requesting: false\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleJoinStream\", () => {\n      const {\n        user,\n        performer\n      } = this.props;\n\n      if (!user._id) {\n        message.error('Please log in or register!');\n        return;\n      }\n\n      if (user.isPerformer) return;\n\n      if (!(performer !== null && performer !== void 0 && performer.isSubscribed)) {\n        message.error('Please subscribe to this model!');\n        return;\n      }\n\n      Router.push({\n        pathname: '/streaming/details',\n        query: {\n          performer: JSON.stringify(performer),\n          username: (performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)\n        }\n      }, `/streaming/${(performer === null || performer === void 0 ? void 0 : performer.username) || (performer === null || performer === void 0 ? void 0 : performer._id)}`);\n    });\n  }\n\n  static async getInitialProps({\n    ctx\n  }) {\n    const {\n      query\n    } = ctx;\n\n    try {\n      const [performer, countries] = await Promise.all([performerService.findOne(query.username, {\n        Authorization: ctx.token || ''\n      }), utilsService.countriesList()]);\n      return {\n        performer: performer === null || performer === void 0 ? void 0 : performer.data,\n        countries: (countries === null || countries === void 0 ? void 0 : countries.data) || []\n      };\n    } catch (e) {\n      const error = await Promise.resolve(e);\n      return {\n        error\n      };\n    }\n  }\n\n  async componentDidMount() {\n    const {\n      performer\n    } = this.props;\n\n    if (performer) {\n      const notShownWelcomeVideos = localStorage.getItem('notShownWelcomeVideos');\n      const showWelcomVideo = !notShownWelcomeVideos || notShownWelcomeVideos && !notShownWelcomeVideos.includes(performer._id);\n      this.setState({\n        isBookMarked: performer.isBookMarked,\n        showWelcomVideo,\n        isFollowed: !!performer.isFollowed\n      });\n      this.loadItems();\n    }\n  } // eslint-disable-next-line react/sort-comp\n\n\n  handleViewWelcomeVideo() {\n    const {\n      performer\n    } = this.props;\n    const notShownWelcomeVideos = localStorage.getItem('notShownWelcomeVideos');\n\n    if (!(notShownWelcomeVideos !== null && notShownWelcomeVideos !== void 0 && notShownWelcomeVideos.includes(performer._id))) {\n      const Ids = JSON.parse(notShownWelcomeVideos || '[]');\n      const values = Array.isArray(Ids) ? Ids.concat([performer._id]) : [performer._id];\n      localStorage.setItem('notShownWelcomeVideos', JSON.stringify(values));\n    }\n\n    this.setState({\n      showWelcomVideo: false\n    });\n  }\n\n  async handleDeleteFeed(feed) {\n    const {\n      user,\n      removeFeedSuccess: handleRemoveFeed\n    } = this.props;\n\n    if (user._id !== feed.fromSourceId) {\n      message.error('Permission denied');\n      return;\n    }\n\n    if (!window.confirm('All earnings are related to this post will be refunded. Are you sure to remove?')) {\n      return;\n    }\n\n    try {\n      await feedService.delete(feed._id);\n      message.success('Deleted post success');\n      handleRemoveFeed({\n        feed\n      });\n    } catch {\n      message.error('Something went wrong, please try again later');\n    }\n  }\n\n  async handleBookmark() {\n    const {\n      performer,\n      user\n    } = this.props;\n    const {\n      isBookMarked,\n      requesting\n    } = this.state;\n    if (requesting || user.isPerformer) return;\n\n    try {\n      await this.setState({\n        requesting: true\n      });\n\n      if (!isBookMarked) {\n        await reactionService.create({\n          objectId: performer === null || performer === void 0 ? void 0 : performer._id,\n          action: 'book_mark',\n          objectType: 'performer'\n        });\n        this.setState({\n          isBookMarked: true,\n          requesting: false\n        });\n      } else {\n        await reactionService.delete({\n          objectId: performer === null || performer === void 0 ? void 0 : performer._id,\n          action: 'book_mark',\n          objectType: 'performer'\n        });\n        this.setState({\n          isBookMarked: false,\n          requesting: false\n        });\n      }\n    } catch (e) {\n      const error = await e;\n      message.error(error.message || 'Error occured, please try again later');\n      this.setState({\n        requesting: false\n      });\n    }\n  }\n\n  async handleFilterSearch(values) {\n    const {\n      filter\n    } = this.state;\n    await this.setState({\n      filter: _objectSpread(_objectSpread({}, filter), values)\n    });\n    this.loadItems();\n  }\n\n  async loadItems() {\n    const {\n      performer,\n      getGalleries: handleGetGalleries,\n      getVideos: handleGetVids,\n      getFeeds: handleGetFeeds,\n      listProducts: handleGetProducts\n    } = this.props;\n    const {\n      itemPerPage,\n      filter,\n      tab\n    } = this.state;\n    const query = {\n      limit: itemPerPage,\n      offset: 0,\n      performerId: performer === null || performer === void 0 ? void 0 : performer._id,\n      q: filter.q || '',\n      fromDate: filter.fromDate || '',\n      toDate: filter.toDate || ''\n    };\n\n    switch (tab) {\n      case 'post':\n        this.setState({\n          feedPage: 0\n        }, () => handleGetFeeds(_objectSpread({}, query)));\n        break;\n\n      case 'photo':\n        this.setState({\n          galleryPage: 0\n        }, () => handleGetGalleries(_objectSpread({}, query)));\n        break;\n\n      case 'video':\n        this.setState({\n          videoPage: 0\n        }, () => handleGetVids(_objectSpread({}, query)));\n        break;\n\n      case 'store':\n        this.setState({\n          productPage: 0\n        }, () => handleGetProducts(_objectSpread({}, query)));\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  async subscribe() {\n    const {\n      performer,\n      user,\n      settings\n    } = this.props;\n    const {\n      subscriptionType\n    } = this.state;\n\n    if (!user._id) {\n      message.error('Please log in!');\n      Router.push('/');\n      return;\n    }\n\n    if (settings.paymentGateway === 'stripe' && !user.stripeCardIds.length) {\n      message.error('Please add a payment card');\n      Router.push('/user/cards');\n      return;\n    }\n\n    try {\n      this.setState({\n        submiting: true\n      });\n      const resp = await paymentService.subscribePerformer({\n        type: subscriptionType,\n        performerId: performer._id,\n        paymentGateway: settings.paymentGateway\n      });\n\n      if (settings.paymentGateway === 'ccbill') {\n        var _resp$data;\n\n        window.location.href = resp === null || resp === void 0 ? void 0 : (_resp$data = resp.data) === null || _resp$data === void 0 ? void 0 : _resp$data.paymentUrl;\n      } else {\n        this.setState({\n          openSubscriptionModal: false\n        });\n      }\n    } catch (e) {\n      const err = await e;\n      message.error(err.message || 'error occured, please try again later');\n      this.setState({\n        openSubscriptionModal: false,\n        submiting: false\n      });\n    }\n  }\n\n  async sendTip(price) {\n    const {\n      performer,\n      user,\n      updateBalance: handleUpdateBalance\n    } = this.props;\n\n    if (user.balance < price) {\n      message.error('You have an insufficient wallet balance. Please top up.');\n      Router.push('/wallet');\n      return;\n    }\n\n    try {\n      await this.setState({\n        requesting: true\n      });\n      await tokenTransctionService.sendTip(performer === null || performer === void 0 ? void 0 : performer._id, {\n        performerId: performer === null || performer === void 0 ? void 0 : performer._id,\n        price\n      });\n      message.success('Thank you for the tip');\n      handleUpdateBalance({\n        token: -price\n      });\n    } catch (e) {\n      const err = await e;\n      message.error(err.message || 'error occured, please try again later');\n    } finally {\n      this.setState({\n        requesting: false,\n        openTipModal: false\n      });\n    }\n  }\n\n  async loadMoreItem() {\n    const {\n      feedPage,\n      videoPage,\n      productPage,\n      itemPerPage,\n      galleryPage,\n      tab,\n      filter\n    } = this.state;\n    const {\n      moreFeeds: getMoreFeed,\n      moreVideo: getMoreVids,\n      moreProduct: getMoreProd,\n      moreGalleries: getMoreGallery,\n      performer\n    } = this.props;\n    const query = {\n      limit: itemPerPage,\n      performerId: performer._id,\n      q: filter.q || '',\n      fromDate: filter.fromDate || '',\n      toDate: filter.toDate || ''\n    };\n\n    if (tab === 'post') {\n      this.setState({\n        feedPage: feedPage + 1\n      }, () => getMoreFeed(_objectSpread(_objectSpread({}, query), {}, {\n        offset: (feedPage + 1) * itemPerPage\n      })));\n    }\n\n    if (tab === 'video') {\n      this.setState({\n        videoPage: videoPage + 1\n      }, () => getMoreVids(_objectSpread(_objectSpread({}, query), {}, {\n        offset: (videoPage + 1) * itemPerPage\n      })));\n    }\n\n    if (tab === 'photo') {\n      await this.setState({\n        galleryPage: galleryPage + 1\n      }, () => {\n        getMoreGallery(_objectSpread(_objectSpread({}, query), {}, {\n          offset: (galleryPage + 1) * itemPerPage\n        }));\n      });\n    }\n\n    if (tab === 'store') {\n      this.setState({\n        productPage: productPage + 1\n      }, () => getMoreProd(_objectSpread(_objectSpread({}, query), {}, {\n        offset: (productPage + 1) * itemPerPage\n      })));\n    }\n  }\n\n  render() {\n    var _performer$stats, _performer$stats2, _performer$stats3, _performer$stats4, _performer$stats5, _performer$stats6;\n\n    const {\n      error,\n      performer,\n      ui,\n      user,\n      feedState,\n      videoState,\n      productState,\n      galleryState,\n      countries,\n      settings\n    } = this.props;\n\n    if (error) {\n      return __jsx(Error, {\n        statusCode: (error === null || error === void 0 ? void 0 : error.statusCode) || 404,\n        title: (error === null || error === void 0 ? void 0 : error.message) || 'Sorry, we can\\'t find this page'\n      });\n    }\n\n    const {\n      items: feeds = [],\n      total: totalFeed = 0,\n      requesting: loadingFeed\n    } = feedState;\n    const {\n      items: videos = [],\n      total: totalVideos = 0,\n      requesting: loadingVideo\n    } = videoState;\n    const {\n      items: products = [],\n      total: totalProducts = 0,\n      requesting: loadingPrd\n    } = productState;\n    const {\n      items: galleries = [],\n      total: totalGalleries = 0,\n      requesting: loadingGallery\n    } = galleryState;\n    const {\n      showWelcomVideo,\n      openTipModal,\n      submiting,\n      isBookMarked,\n      openSubscriptionModal,\n      tab,\n      isGrid,\n      subscriptionType,\n      isFollowed\n    } = this.state;\n    return __jsx(Layout, null, __jsx(Head, null, __jsx(\"title\", null, `${ui === null || ui === void 0 ? void 0 : ui.siteName} | ${(performer === null || performer === void 0 ? void 0 : performer.name) || (performer === null || performer === void 0 ? void 0 : performer.username)}`), __jsx(\"meta\", {\n      name: \"keywords\",\n      content: `${performer === null || performer === void 0 ? void 0 : performer.username}, ${performer === null || performer === void 0 ? void 0 : performer.name}`\n    }), __jsx(\"meta\", {\n      name: \"description\",\n      content: performer === null || performer === void 0 ? void 0 : performer.bio\n    }), __jsx(\"meta\", {\n      property: \"og:type\",\n      content: \"website\"\n    }), __jsx(\"meta\", {\n      property: \"og:title\",\n      content: `${ui === null || ui === void 0 ? void 0 : ui.siteName} | ${(performer === null || performer === void 0 ? void 0 : performer.name) || (performer === null || performer === void 0 ? void 0 : performer.username)}`\n    }), __jsx(\"meta\", {\n      property: \"og:image\",\n      content: (performer === null || performer === void 0 ? void 0 : performer.avatar) || '/static/no-avatar.png'\n    }), __jsx(\"meta\", {\n      property: \"og:description\",\n      content: performer === null || performer === void 0 ? void 0 : performer.bio\n    }), __jsx(\"meta\", {\n      name: \"twitter:card\",\n      content: \"summary\"\n    }), __jsx(\"meta\", {\n      name: \"twitter:title\",\n      content: `${ui === null || ui === void 0 ? void 0 : ui.siteName} | ${(performer === null || performer === void 0 ? void 0 : performer.name) || (performer === null || performer === void 0 ? void 0 : performer.username)}`\n    }), __jsx(\"meta\", {\n      name: \"twitter:image\",\n      content: (performer === null || performer === void 0 ? void 0 : performer.avatar) || '/static/no-avatar.png'\n    }), __jsx(\"meta\", {\n      name: \"twitter:description\",\n      content: performer === null || performer === void 0 ? void 0 : performer.bio\n    })), __jsx(\"div\", {\n      className: \"main-container\"\n    }, __jsx(\"div\", {\n      className: \"top-profile\",\n      style: {\n        backgroundImage: `url('${(performer === null || performer === void 0 ? void 0 : performer.cover) || '/static/banner-image.jpg'}')`\n      }\n    }, __jsx(\"div\", {\n      className: \"bg-2nd\"\n    }, __jsx(\"div\", {\n      className: \"top-banner\"\n    }, __jsx(\"a\", {\n      \"aria-hidden\": true,\n      className: \"arrow-back\",\n      onClick: () => Router.back()\n    }, __jsx(ArrowLeftOutlined, null)), __jsx(\"div\", {\n      className: \"stats-row\"\n    }, __jsx(\"div\", {\n      className: \"tab-stat\"\n    }, __jsx(\"div\", {\n      className: \"tab-item\"\n    }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats = performer.stats) === null || _performer$stats === void 0 ? void 0 : _performer$stats.totalFeeds) || 0), ' ', __jsx(FireOutlined, null))), __jsx(\"div\", {\n      className: \"tab-item\"\n    }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats2 = performer.stats) === null || _performer$stats2 === void 0 ? void 0 : _performer$stats2.totalVideos) || 0), ' ', __jsx(VideoCameraOutlined, null))), __jsx(\"div\", {\n      className: \"tab-item\"\n    }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats3 = performer.stats) === null || _performer$stats3 === void 0 ? void 0 : _performer$stats3.totalPhotos) || 0), ' ', __jsx(PictureOutlined, null))), __jsx(\"div\", {\n      className: \"tab-item\"\n    }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats4 = performer.stats) === null || _performer$stats4 === void 0 ? void 0 : _performer$stats4.totalProducts) || 0), ' ', __jsx(ShoppingOutlined, null))), __jsx(\"div\", {\n      className: \"tab-item\"\n    }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats5 = performer.stats) === null || _performer$stats5 === void 0 ? void 0 : _performer$stats5.likes) || 0), ' ', __jsx(HeartOutlined, null))), __jsx(\"div\", {\n      className: \"tab-item\"\n    }, __jsx(\"span\", null, shortenLargeNumber((performer === null || performer === void 0 ? void 0 : (_performer$stats6 = performer.stats) === null || _performer$stats6 === void 0 ? void 0 : _performer$stats6.subscribers) || 0), ' ', __jsx(UsergroupAddOutlined, null))))))))), __jsx(\"div\", {\n      className: \"main-profile\"\n    }, __jsx(\"div\", {\n      className: \"main-container\"\n    }, __jsx(\"div\", {\n      className: \"fl-col\"\n    }, __jsx(Image, {\n      alt: \"main-avt\",\n      src: (performer === null || performer === void 0 ? void 0 : performer.avatar) || '/static/no-avatar.png',\n      fallback: \"/static/no-avatar.png\"\n    }), (user === null || user === void 0 ? void 0 : user._id) !== (performer === null || performer === void 0 ? void 0 : performer._id) && __jsx(\"span\", {\n      className: (performer === null || performer === void 0 ? void 0 : performer.isOnline) > 0 ? 'online-status' : 'online-status off'\n    }), __jsx(\"div\", {\n      className: \"m-user-name\"\n    }, __jsx(\"h4\", null, (performer === null || performer === void 0 ? void 0 : performer.name) || 'N/A', \"\\xA0\", (performer === null || performer === void 0 ? void 0 : performer.verifiedAccount) && __jsx(TickIcon, null), \"\\xA0\", (performer === null || performer === void 0 ? void 0 : performer.live) > 0 && (user === null || user === void 0 ? void 0 : user._id) !== (performer === null || performer === void 0 ? void 0 : performer._id) && __jsx(\"a\", {\n      \"aria-hidden\": true,\n      onClick: this.handleJoinStream,\n      className: \"live-status\"\n    }, \"Live\"), (user === null || user === void 0 ? void 0 : user._id) === (performer === null || performer === void 0 ? void 0 : performer._id) && __jsx(Link, {\n      href: \"/model/account\"\n    }, __jsx(\"a\", null, __jsx(EditOutlined, {\n      className: \"primary-color\"\n    })))), __jsx(\"h5\", {\n      style: {\n        textTransform: 'none'\n      }\n    }, \"@\", (performer === null || performer === void 0 ? void 0 : performer.username) || 'n/a'))), __jsx(\"div\", {\n      className: \"btn-grp\"\n    }, __jsx(Tooltip, {\n      title: isFollowed ? 'Following' : 'Follow'\n    }, __jsx(Button, {\n      disabled: !user._id || user.isPerformer,\n      className: isBookMarked ? 'active' : '',\n      onClick: () => this.handleFollow()\n    }, isFollowed ? __jsx(HeartFilled, null) : __jsx(HeartOutlined, null))), __jsx(Tooltip, {\n      title: \"Send Tip\"\n    }, __jsx(Button, {\n      disabled: !user._id || user.isPerformer,\n      onClick: () => this.setState({\n        openTipModal: true\n      })\n    }, __jsx(DollarOutlined, null))), __jsx(Tooltip, {\n      title: \"Send Message\"\n    }, __jsx(Button, {\n      disabled: !user._id || user.isPerformer,\n      onClick: () => Router.push({\n        pathname: '/messages',\n        query: {\n          toSource: 'performer',\n          toId: (performer === null || performer === void 0 ? void 0 : performer._id) || ''\n        }\n      })\n    }, __jsx(MessageIcon, null))), __jsx(Tooltip, {\n      title: isBookMarked ? 'Remove from Bookmarks' : 'Add to Bookmarks'\n    }, __jsx(Button, {\n      disabled: !user._id || user.isPerformer,\n      className: isBookMarked ? 'active' : '',\n      onClick: () => this.handleBookmark()\n    }, __jsx(BookOutlined, null))), __jsx(Popover, {\n      title: \"Share to social network\",\n      content: __jsx(ShareButtons, {\n        siteName: ui.siteName,\n        performer: performer\n      })\n    }, __jsx(Button, {\n      className: \"normal\"\n    }, __jsx(ShareIcon, null)))), __jsx(\"div\", {\n      className: user.isPerformer ? 'mar-0 pro-desc' : 'pro-desc'\n    }, __jsx(PerformerInfo, {\n      countries: countries,\n      performer: performer\n    })), !(performer !== null && performer !== void 0 && performer.isSubscribed) && !user.isPerformer && __jsx(\"div\", {\n      className: \"subscription-bl\"\n    }, __jsx(\"h5\", null, \"Monthly Subscription\"), __jsx(\"button\", {\n      type: \"button\",\n      className: \"sub-btn\",\n      disabled: submiting,\n      onClick: () => {\n        this.setState({\n          openSubscriptionModal: true,\n          subscriptionType: 'monthly'\n        });\n      }\n    }, \"SUBSCRIBE FOR\", ' ', \"$\", performer && (performer === null || performer === void 0 ? void 0 : performer.monthlyPrice.toFixed(2)))), !(performer !== null && performer !== void 0 && performer.isSubscribed) && !user.isPerformer && __jsx(\"div\", {\n      className: \"subscription-bl\"\n    }, __jsx(\"h5\", null, \"Yearly Subscription\"), __jsx(\"button\", {\n      type: \"button\",\n      className: \"sub-btn\",\n      disabled: submiting,\n      onClick: () => {\n        this.setState({\n          openSubscriptionModal: true,\n          subscriptionType: 'yearly'\n        });\n      }\n    }, \"SUBSCRIBE FOR\", ' ', \"$\", performer === null || performer === void 0 ? void 0 : performer.yearlyPrice.toFixed(2))), (performer === null || performer === void 0 ? void 0 : performer.isFreeSubscription) && !(performer !== null && performer !== void 0 && performer.isSubscribed) && !user.isPerformer && __jsx(\"div\", {\n      className: \"subscription-bl\"\n    }, __jsx(\"h5\", null, \"Free Subscription\"), __jsx(\"button\", {\n      type: \"button\",\n      className: \"sub-btn\",\n      disabled: submiting,\n      onClick: () => {\n        this.setState({\n          openSubscriptionModal: true,\n          subscriptionType: 'free'\n        });\n      }\n    }, \"SUBSCRIBE FOR FREE FOR\", ' ', (performer === null || performer === void 0 ? void 0 : performer.durationFreeSubscriptionDays) || 1, ' ', (performer === null || performer === void 0 ? void 0 : performer.durationFreeSubscriptionDays) > 1 ? 'DAYS' : 'DAY', settings.paymentGateway === 'stripe' && ` THEN ${performer === null || performer === void 0 ? void 0 : performer.monthlyPrice.toFixed(2)} PER MONTH`)))), __jsx(\"div\", {\n      style: {\n        marginTop: '20px'\n      }\n    }), __jsx(\"div\", {\n      className: \"main-container\"\n    }, __jsx(\"div\", {\n      className: \"model-content\"\n    }, __jsx(Tabs, {\n      defaultActiveKey: \"post\",\n      size: \"large\",\n      onTabClick: t => {\n        this.setState({\n          tab: t,\n          filter: initialFilter,\n          isGrid: false\n        }, () => this.loadItems());\n      }\n    }, __jsx(TabPane, {\n      tab: __jsx(FireOutlined, null),\n      key: \"post\"\n    }, __jsx(\"div\", {\n      className: \"heading-tab\"\n    }, __jsx(\"h4\", null, totalFeed > 0 && totalFeed, ' ', totalFeed > 1 ? 'POSTS' : 'POST'), __jsx(SearchPostBar, {\n      searching: loadingFeed,\n      tab: tab,\n      handleSearch: this.handleFilterSearch.bind(this),\n      handleViewGrid: val => this.setState({\n        isGrid: val\n      })\n    })), __jsx(\"div\", {\n      className: isGrid ? 'main-container' : 'main-container custom'\n    }, __jsx(ScrollListFeed, {\n      items: feeds,\n      loading: loadingFeed,\n      canLoadmore: feeds && feeds.length < totalFeed,\n      loadMore: this.loadMoreItem.bind(this),\n      isGrid: isGrid,\n      onDelete: this.handleDeleteFeed.bind(this)\n    }))), __jsx(TabPane, {\n      tab: __jsx(VideoCameraOutlined, null),\n      key: \"video\"\n    }, __jsx(\"div\", {\n      className: \"heading-tab\"\n    }, __jsx(\"h4\", null, totalVideos > 0 && totalVideos, ' ', totalVideos > 1 ? 'VIDEOS' : 'VIDEO'), __jsx(SearchPostBar, {\n      searching: loadingVideo,\n      tab: tab,\n      handleSearch: this.handleFilterSearch.bind(this),\n      handleViewGrid: val => this.setState({\n        isGrid: val\n      })\n    })), __jsx(\"div\", {\n      className: \"main-container\"\n    }, __jsx(ScrollListVideo, {\n      items: videos,\n      loading: loadingVideo,\n      canLoadmore: videos && videos.length < totalVideos,\n      loadMore: this.loadMoreItem.bind(this)\n    }))), __jsx(TabPane, {\n      tab: __jsx(PictureOutlined, null),\n      key: \"photo\"\n    }, __jsx(\"div\", {\n      className: \"heading-tab\"\n    }, __jsx(\"h4\", null, totalGalleries > 0 && totalGalleries, ' ', totalGalleries > 1 ? 'GALLERIES' : 'GALLERY'), __jsx(SearchPostBar, {\n      searching: loadingGallery,\n      tab: tab,\n      handleSearch: this.handleFilterSearch.bind(this),\n      handleViewGrid: val => this.setState({\n        isGrid: val\n      })\n    })), __jsx(\"div\", {\n      className: \"main-container\"\n    }, __jsx(ScrollListGallery, {\n      items: galleries,\n      loading: loadingGallery,\n      canLoadmore: galleries && galleries.length < totalGalleries,\n      loadMore: this.loadMoreItem.bind(this)\n    }))), __jsx(TabPane, {\n      tab: __jsx(ShoppingOutlined, null),\n      key: \"store\"\n    }, __jsx(\"div\", {\n      className: \"heading-tab\"\n    }, __jsx(\"h4\", null, totalProducts > 0 && totalProducts, ' ', totalProducts > 1 ? 'PRODUCTS' : 'PRODUCT'), __jsx(SearchPostBar, {\n      searching: loadingPrd,\n      tab: tab,\n      handleSearch: this.handleFilterSearch.bind(this)\n    })), __jsx(ScrollListProduct, {\n      items: products,\n      loading: loadingPrd,\n      canLoadmore: products && products.length < totalProducts,\n      loadMore: this.loadMoreItem.bind(this)\n    }))))), performer && (performer === null || performer === void 0 ? void 0 : performer.welcomeVideoPath) && (performer === null || performer === void 0 ? void 0 : performer.activateWelcomeVideo) && __jsx(Modal, {\n      key: \"welcome-video\",\n      className: \"welcome-video\",\n      destroyOnClose: true,\n      closable: false,\n      maskClosable: false,\n      width: 767,\n      visible: showWelcomVideo,\n      title: null,\n      centered: true,\n      onCancel: () => this.setState({\n        showWelcomVideo: false\n      }),\n      footer: [__jsx(Button, {\n        key: \"close\",\n        className: \"secondary\",\n        onClick: () => this.setState({\n          showWelcomVideo: false\n        })\n      }, \"Close\"), __jsx(Button, {\n        key: \"not-show\",\n        className: \"primary\",\n        onClick: this.handleViewWelcomeVideo.bind(this)\n      }, \"Don't show this again\")]\n    }, __jsx(VideoPlayer, {\n      key: `${performer._id}`,\n      controls: true,\n      playsinline: true,\n      sources: [{\n        src: performer === null || performer === void 0 ? void 0 : performer.welcomeVideoPath,\n        type: 'video/mp4'\n      }]\n    })), __jsx(Modal, {\n      key: \"tip_performer\",\n      className: \"subscription-modal\",\n      visible: openTipModal,\n      centered: true,\n      onOk: () => this.setState({\n        openTipModal: false\n      }),\n      footer: null,\n      width: 600,\n      title: null,\n      onCancel: () => this.setState({\n        openTipModal: false\n      })\n    }, __jsx(TipPerformerForm, {\n      performer: performer,\n      submiting: submiting,\n      onFinish: this.sendTip.bind(this)\n    })), __jsx(Modal, {\n      key: \"subscribe_performer\",\n      className: \"subscription-modal\",\n      width: 600,\n      centered: true,\n      title: null,\n      visible: openSubscriptionModal,\n      footer: null,\n      onCancel: () => this.setState({\n        openSubscriptionModal: false\n      }),\n      destroyOnClose: true\n    }, __jsx(ConfirmSubscriptionPerformerForm, {\n      type: subscriptionType || 'monthly',\n      performer: performer,\n      submiting: submiting,\n      onFinish: this.subscribe.bind(this)\n    })), submiting && __jsx(Loader, {\n      customText: \"We are processing your payment, please do not reload this page until it's done.\"\n    }));\n  }\n\n}\n\n_defineProperty(PerformerProfile, \"authenticate\", true);\n\n_defineProperty(PerformerProfile, \"noredirect\", true);\n\nconst mapStates = state => ({\n  ui: _objectSpread({}, state.ui),\n  videoState: _objectSpread({}, state.video.videos),\n  feedState: _objectSpread({}, state.feed.feeds),\n  productState: _objectSpread({}, state.product.products),\n  galleryState: _objectSpread({}, state.gallery.galleries),\n  user: _objectSpread({}, state.user.current),\n  settings: _objectSpread({}, state.settings)\n});\n\nconst mapDispatch = {\n  getFeeds,\n  moreFeeds,\n  getVideos,\n  moreVideo,\n  listProducts,\n  moreProduct,\n  getGalleries,\n  moreGalleries,\n  removeFeedSuccess,\n  updateBalance\n};\nexport default connect(mapStates, mapDispatch)(PerformerProfile);","map":{"version":3,"sources":["c:/Users/Admin/Desktop/Work/foodiefans/foodiefans-main/user/pages/model/profile/index.tsx"],"names":["Layout","Tabs","Button","message","Modal","Image","Popover","Tooltip","PureComponent","connect","getVideos","moreVideo","getFeeds","moreFeeds","removeFeedSuccess","listProducts","moreProduct","moreGalleries","getGalleries","updateBalance","performerService","tokenTransctionService","feedService","reactionService","paymentService","utilsService","followService","Head","ArrowLeftOutlined","FireOutlined","EditOutlined","HeartOutlined","DollarOutlined","HeartFilled","UsergroupAddOutlined","VideoCameraOutlined","PictureOutlined","ShoppingOutlined","BookOutlined","TickIcon","ShareIcon","MessageIcon","ScrollListProduct","ScrollListFeed","ScrollListVideo","ScrollListGallery","PerformerInfo","ConfirmSubscriptionPerformerForm","TipPerformerForm","ShareButtons","SearchPostBar","Loader","VideoPlayer","shortenLargeNumber","Link","Router","Error","TabPane","initialFilter","q","fromDate","toDate","PerformerProfile","itemPerPage","videoPage","productPage","feedPage","galleryPage","showWelcomVideo","openTipModal","submiting","isBookMarked","requesting","openSubscriptionModal","tab","filter","isGrid","subscriptionType","isFollowed","performer","user","props","state","_id","error","isPerformer","setState","create","delete","loadItems","e","isSubscribed","push","pathname","query","JSON","stringify","username","getInitialProps","ctx","countries","Promise","all","findOne","Authorization","token","countriesList","data","resolve","componentDidMount","notShownWelcomeVideos","localStorage","getItem","includes","handleViewWelcomeVideo","Ids","parse","values","Array","isArray","concat","setItem","handleDeleteFeed","feed","handleRemoveFeed","fromSourceId","window","confirm","success","handleBookmark","objectId","action","objectType","handleFilterSearch","handleGetGalleries","handleGetVids","handleGetFeeds","handleGetProducts","limit","offset","performerId","subscribe","settings","paymentGateway","stripeCardIds","length","resp","subscribePerformer","type","location","href","paymentUrl","err","sendTip","price","handleUpdateBalance","balance","loadMoreItem","getMoreFeed","getMoreVids","getMoreProd","getMoreGallery","render","ui","feedState","videoState","productState","galleryState","statusCode","items","feeds","total","totalFeed","loadingFeed","videos","totalVideos","loadingVideo","products","totalProducts","loadingPrd","galleries","totalGalleries","loadingGallery","siteName","name","bio","avatar","backgroundImage","cover","back","stats","totalFeeds","totalPhotos","likes","subscribers","isOnline","verifiedAccount","live","handleJoinStream","textTransform","handleFollow","toSource","toId","monthlyPrice","toFixed","yearlyPrice","isFreeSubscription","durationFreeSubscriptionDays","marginTop","t","bind","val","welcomeVideoPath","activateWelcomeVideo","key","controls","playsinline","sources","src","mapStates","video","product","gallery","current","mapDispatch"],"mappings":";;;;;;;;;AAAA,SACEA,MADF,EACUC,IADV,EACgBC,MADhB,EACwBC,OADxB,EACiCC,KADjC,EACwCC,KADxC,EAC+CC,OAD/C,EACwDC,OADxD,QAEO,MAFP;AAGA,SAASC,aAAT,QAA8B,OAA9B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,EAAoBC,SAApB,QAAqC,sBAArC;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,iBAA9B,QAAuD,qBAAvD;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,wBAA1C;AACA,SAASC,aAAT,EAAwBC,YAAxB,QAA4C,wBAA5C;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,SACEC,gBADF,EACoBC,sBADpB,EAC4CC,WAD5C,EACyDC,eADzD,EAC0EC,cAD1E,EAEEC,YAFF,EAEgBC,aAFhB,QAGO,cAHP;AAIA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SACEC,iBADF,EACqBC,YADrB,EACmCC,YADnC,EACiDC,aADjD,EACgEC,cADhE,EACgFC,WADhF,EAEEC,oBAFF,EAEwBC,mBAFxB,EAE6CC,eAF7C,EAE8DC,gBAF9D,EAEgFC,YAFhF,QAGO,mBAHP;AAIA,SACEC,QADF,EACYC,SADZ,EACuBC,WADvB,QAEO,WAFP;AAGA,SAASC,iBAAT,QAAkC,sCAAlC;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,SAASC,eAAT,QAAgC,oCAAhC;AACA,SAASC,iBAAT,QAAkC,yCAAlC;AACA,SAASC,aAAT,QAA8B,kCAA9B;AACA,SAASC,gCAAT,EAA2CC,gBAA3C,QAAmE,uBAAnE;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,SAASC,WAAT,QAA4B,oBAA5B;AAIA,SAASC,kBAAT,QAAmC,YAAnC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAO,sCAAP;AAyBA,MAAM;AAAEC,EAAAA;AAAF,IAAcxD,IAApB;AACA,MAAMyD,aAAa,GAAG;AACpBC,EAAAA,CAAC,EAAE,EADiB;AAEpBC,EAAAA,QAAQ,EAAE,EAFU;AAGpBC,EAAAA,MAAM,EAAE;AAHY,CAAtB;;AAMA,MAAMC,gBAAN,SAA+BtD,aAA/B,CAAqD;AAAA;AAAA;;AAAA,mCAK3C;AACNuD,MAAAA,WAAW,EAAE,EADP;AAENC,MAAAA,SAAS,EAAE,CAFL;AAGNC,MAAAA,WAAW,EAAE,CAHP;AAINC,MAAAA,QAAQ,EAAE,CAJJ;AAKNC,MAAAA,WAAW,EAAE,CALP;AAMNC,MAAAA,eAAe,EAAE,KANX;AAONC,MAAAA,YAAY,EAAE,KAPR;AAQNC,MAAAA,SAAS,EAAE,KARL;AASNC,MAAAA,YAAY,EAAE,KATR;AAUNC,MAAAA,UAAU,EAAE,KAVN;AAWNC,MAAAA,qBAAqB,EAAE,KAXjB;AAYNC,MAAAA,GAAG,EAAE,MAZC;AAaNC,MAAAA,MAAM,EAAEjB,aAbF;AAcNkB,MAAAA,MAAM,EAAE,KAdF;AAeNC,MAAAA,gBAAgB,EAAE,SAfZ;AAgBNC,MAAAA,UAAU,EAAE;AAhBN,KAL2C;;AAAA,0CAmFpC,YAAY;AACzB,YAAM;AAAEC,QAAAA,SAAF;AAAaC,QAAAA;AAAb,UAAsB,KAAKC,KAAjC;AACA,YAAM;AAAEH,QAAAA,UAAF;AAAcN,QAAAA,UAAd;AAA0BE,QAAAA;AAA1B,UAAkC,KAAKQ,KAA7C;;AACA,UAAI,CAACF,IAAI,CAACG,GAAV,EAAe;AACbhF,QAAAA,OAAO,CAACiF,KAAR,CAAc,4BAAd;AACA;AACD;;AACD,UAAIZ,UAAU,IAAIQ,IAAI,CAACK,WAAvB,EAAoC;;AACpC,UAAI;AACF,aAAKC,QAAL,CAAc;AAAEd,UAAAA,UAAU,EAAE;AAAd,SAAd;;AACA,YAAI,CAACM,UAAL,EAAiB;AACf,gBAAMpD,aAAa,CAAC6D,MAAd,CAAqBR,SAArB,aAAqBA,SAArB,uBAAqBA,SAAS,CAAEI,GAAhC,CAAN;AACA,eAAKG,QAAL,CAAc;AAAER,YAAAA,UAAU,EAAE,IAAd;AAAoBN,YAAAA,UAAU,EAAE;AAAhC,WAAd;AACD,SAHD,MAGO;AACL,gBAAM9C,aAAa,CAAC8D,MAAd,CAAqBT,SAArB,aAAqBA,SAArB,uBAAqBA,SAAS,CAAEI,GAAhC,CAAN;AACA,eAAKG,QAAL,CAAc;AAAER,YAAAA,UAAU,EAAE,KAAd;AAAqBN,YAAAA,UAAU,EAAE;AAAjC,WAAd;AACD;;AACD,YAAIE,GAAG,KAAK,MAAZ,EAAoB;AAClB,eAAKe,SAAL;AACD;AACF,OAZD,CAYE,OAAOC,CAAP,EAAU;AACV,cAAMN,KAAK,GAAG,MAAMM,CAApB;AACAvF,QAAAA,OAAO,CAACiF,KAAR,CAAcA,KAAK,CAACjF,OAAN,IAAiB,uCAA/B;AACA,aAAKmF,QAAL,CAAc;AAAEd,UAAAA,UAAU,EAAE;AAAd,SAAd;AACD;AACF,KA5GkD;;AAAA,8CAgJhC,MAAM;AACvB,YAAM;AAAEQ,QAAAA,IAAF;AAAQD,QAAAA;AAAR,UAAsB,KAAKE,KAAjC;;AACA,UAAI,CAACD,IAAI,CAACG,GAAV,EAAe;AACbhF,QAAAA,OAAO,CAACiF,KAAR,CAAc,4BAAd;AACA;AACD;;AACD,UAAIJ,IAAI,CAACK,WAAT,EAAsB;;AACtB,UAAI,EAACN,SAAD,aAACA,SAAD,eAACA,SAAS,CAAEY,YAAZ,CAAJ,EAA8B;AAC5BxF,QAAAA,OAAO,CAACiF,KAAR,CAAc,iCAAd;AACA;AACD;;AACD7B,MAAAA,MAAM,CAACqC,IAAP,CAAY;AACVC,QAAAA,QAAQ,EAAE,oBADA;AAEVC,QAAAA,KAAK,EAAE;AACLf,UAAAA,SAAS,EAAEgB,IAAI,CAACC,SAAL,CAAejB,SAAf,CADN;AAELkB,UAAAA,QAAQ,EAAE,CAAAlB,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEkB,QAAX,MAAuBlB,SAAvB,aAAuBA,SAAvB,uBAAuBA,SAAS,CAAEI,GAAlC;AAFL;AAFG,OAAZ,EAMI,cAAa,CAAAJ,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEkB,QAAX,MAAuBlB,SAAvB,aAAuBA,SAAvB,uBAAuBA,SAAS,CAAEI,GAAlC,CAAsC,EANvD;AAOD,KAlKkD;AAAA;;AAwBvB,eAAfe,eAAe,CAAC;AAAEC,IAAAA;AAAF,GAAD,EAAU;AACpC,UAAM;AAAEL,MAAAA;AAAF,QAAYK,GAAlB;;AACA,QAAI;AACF,YAAM,CAACpB,SAAD,EAAYqB,SAAZ,IAAyB,MAAMC,OAAO,CAACC,GAAR,CAAY,CAC/ClF,gBAAgB,CAACmF,OAAjB,CAAyBT,KAAK,CAACG,QAA/B,EAAyC;AACvCO,QAAAA,aAAa,EAAEL,GAAG,CAACM,KAAJ,IAAa;AADW,OAAzC,CAD+C,EAI/ChF,YAAY,CAACiF,aAAb,EAJ+C,CAAZ,CAArC;AAMA,aAAO;AACL3B,QAAAA,SAAS,EAAEA,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAE4B,IADjB;AAELP,QAAAA,SAAS,EAAE,CAAAA,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEO,IAAX,KAAmB;AAFzB,OAAP;AAID,KAXD,CAWE,OAAOjB,CAAP,EAAU;AACV,YAAMN,KAAK,GAAG,MAAMiB,OAAO,CAACO,OAAR,CAAgBlB,CAAhB,CAApB;AACA,aAAO;AAAEN,QAAAA;AAAF,OAAP;AACD;AACF;;AAEsB,QAAjByB,iBAAiB,GAAG;AACxB,UAAM;AAAE9B,MAAAA;AAAF,QAAgB,KAAKE,KAA3B;;AACA,QAAIF,SAAJ,EAAe;AACb,YAAM+B,qBAAqB,GAAGC,YAAY,CAACC,OAAb,CAAqB,uBAArB,CAA9B;AACA,YAAM5C,eAAe,GAAG,CAAC0C,qBAAD,IAA2BA,qBAAqB,IAAI,CAACA,qBAAqB,CAACG,QAAtB,CAA+BlC,SAAS,CAACI,GAAzC,CAA7E;AACA,WAAKG,QAAL,CAAc;AAAEf,QAAAA,YAAY,EAAEQ,SAAS,CAACR,YAA1B;AAAwCH,QAAAA,eAAxC;AAAyDU,QAAAA,UAAU,EAAE,CAAC,CAACC,SAAS,CAACD;AAAjF,OAAd;AACA,WAAKW,SAAL;AACD;AACF,GAnDkD,CAqDnD;;;AACAyB,EAAAA,sBAAsB,GAAG;AACvB,UAAM;AAAEnC,MAAAA;AAAF,QAAgB,KAAKE,KAA3B;AACA,UAAM6B,qBAAqB,GAAGC,YAAY,CAACC,OAAb,CAAqB,uBAArB,CAA9B;;AACA,QAAI,EAACF,qBAAD,aAACA,qBAAD,eAACA,qBAAqB,CAAEG,QAAvB,CAAgClC,SAAS,CAACI,GAA1C,CAAD,CAAJ,EAAqD;AACnD,YAAMgC,GAAG,GAAGpB,IAAI,CAACqB,KAAL,CAAWN,qBAAqB,IAAI,IAApC,CAAZ;AACA,YAAMO,MAAM,GAAGC,KAAK,CAACC,OAAN,CAAcJ,GAAd,IAAqBA,GAAG,CAACK,MAAJ,CAAW,CAACzC,SAAS,CAACI,GAAX,CAAX,CAArB,GAAmD,CAACJ,SAAS,CAACI,GAAX,CAAlE;AACA4B,MAAAA,YAAY,CAACU,OAAb,CAAqB,uBAArB,EAA8C1B,IAAI,CAACC,SAAL,CAAeqB,MAAf,CAA9C;AACD;;AACD,SAAK/B,QAAL,CAAc;AAAElB,MAAAA,eAAe,EAAE;AAAnB,KAAd;AACD;;AAEqB,QAAhBsD,gBAAgB,CAACC,IAAD,EAAc;AAClC,UAAM;AAAE3C,MAAAA,IAAF;AAAQlE,MAAAA,iBAAiB,EAAE8G;AAA3B,QAAgD,KAAK3C,KAA3D;;AACA,QAAID,IAAI,CAACG,GAAL,KAAawC,IAAI,CAACE,YAAtB,EAAoC;AAClC1H,MAAAA,OAAO,CAACiF,KAAR,CAAc,mBAAd;AACA;AACD;;AACD,QAAI,CAAC0C,MAAM,CAACC,OAAP,CAAe,iFAAf,CAAL,EAAwG;AACtG;AACD;;AACD,QAAI;AACF,YAAMzG,WAAW,CAACkE,MAAZ,CAAmBmC,IAAI,CAACxC,GAAxB,CAAN;AACAhF,MAAAA,OAAO,CAAC6H,OAAR,CAAgB,sBAAhB;AACAJ,MAAAA,gBAAgB,CAAC;AAAED,QAAAA;AAAF,OAAD,CAAhB;AACD,KAJD,CAIE,MAAM;AACNxH,MAAAA,OAAO,CAACiF,KAAR,CAAc,8CAAd;AACD;AACF;;AA6BmB,QAAd6C,cAAc,GAAG;AACrB,UAAM;AAAElD,MAAAA,SAAF;AAAaC,MAAAA;AAAb,QAAsB,KAAKC,KAAjC;AACA,UAAM;AAAEV,MAAAA,YAAF;AAAgBC,MAAAA;AAAhB,QAA+B,KAAKU,KAA1C;AACA,QAAIV,UAAU,IAAIQ,IAAI,CAACK,WAAvB,EAAoC;;AACpC,QAAI;AACF,YAAM,KAAKC,QAAL,CAAc;AAAEd,QAAAA,UAAU,EAAE;AAAd,OAAd,CAAN;;AACA,UAAI,CAACD,YAAL,EAAmB;AACjB,cAAMhD,eAAe,CAACgE,MAAhB,CAAuB;AAC3B2C,UAAAA,QAAQ,EAAEnD,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAEI,GADM;AAE3BgD,UAAAA,MAAM,EAAE,WAFmB;AAG3BC,UAAAA,UAAU,EAAE;AAHe,SAAvB,CAAN;AAKA,aAAK9C,QAAL,CAAc;AAAEf,UAAAA,YAAY,EAAE,IAAhB;AAAsBC,UAAAA,UAAU,EAAE;AAAlC,SAAd;AACD,OAPD,MAOO;AACL,cAAMjD,eAAe,CAACiE,MAAhB,CAAuB;AAC3B0C,UAAAA,QAAQ,EAAEnD,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAEI,GADM;AAE3BgD,UAAAA,MAAM,EAAE,WAFmB;AAG3BC,UAAAA,UAAU,EAAE;AAHe,SAAvB,CAAN;AAKA,aAAK9C,QAAL,CAAc;AAAEf,UAAAA,YAAY,EAAE,KAAhB;AAAuBC,UAAAA,UAAU,EAAE;AAAnC,SAAd;AACD;AACF,KAjBD,CAiBE,OAAOkB,CAAP,EAAU;AACV,YAAMN,KAAK,GAAG,MAAMM,CAApB;AACAvF,MAAAA,OAAO,CAACiF,KAAR,CAAcA,KAAK,CAACjF,OAAN,IAAiB,uCAA/B;AACA,WAAKmF,QAAL,CAAc;AAAEd,QAAAA,UAAU,EAAE;AAAd,OAAd;AACD;AACF;;AAEuB,QAAlB6D,kBAAkB,CAAChB,MAAD,EAAS;AAC/B,UAAM;AAAE1C,MAAAA;AAAF,QAAa,KAAKO,KAAxB;AACA,UAAM,KAAKI,QAAL,CAAc;AAAEX,MAAAA,MAAM,kCAAOA,MAAP,GAAkB0C,MAAlB;AAAR,KAAd,CAAN;AACA,SAAK5B,SAAL;AACD;;AAsBc,QAATA,SAAS,GAAG;AAChB,UAAM;AACJV,MAAAA,SADI;AACO7D,MAAAA,YAAY,EAAEoH,kBADrB;AACyC5H,MAAAA,SAAS,EAAE6H,aADpD;AACmE3H,MAAAA,QAAQ,EAAE4H,cAD7E;AAEJzH,MAAAA,YAAY,EAAE0H;AAFV,QAGF,KAAKxD,KAHT;AAIA,UAAM;AACJlB,MAAAA,WADI;AACSY,MAAAA,MADT;AACiBD,MAAAA;AADjB,QAEF,KAAKQ,KAFT;AAGA,UAAMY,KAAK,GAAG;AACZ4C,MAAAA,KAAK,EAAE3E,WADK;AAEZ4E,MAAAA,MAAM,EAAE,CAFI;AAGZC,MAAAA,WAAW,EAAE7D,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAEI,GAHZ;AAIZxB,MAAAA,CAAC,EAAEgB,MAAM,CAAChB,CAAP,IAAY,EAJH;AAKZC,MAAAA,QAAQ,EAAEe,MAAM,CAACf,QAAP,IAAmB,EALjB;AAMZC,MAAAA,MAAM,EAAEc,MAAM,CAACd,MAAP,IAAiB;AANb,KAAd;;AAQA,YAAQa,GAAR;AACE,WAAK,MAAL;AACE,aAAKY,QAAL,CAAc;AAAEpB,UAAAA,QAAQ,EAAE;AAAZ,SAAd,EAA+B,MAAMsE,cAAc,mBAC9C1C,KAD8C,EAAnD;AAGA;;AACF,WAAK,OAAL;AACE,aAAKR,QAAL,CAAc;AAAEnB,UAAAA,WAAW,EAAE;AAAf,SAAd,EAAkC,MAAMmE,kBAAkB,mBACrDxC,KADqD,EAA1D;AAGA;;AACF,WAAK,OAAL;AACE,aAAKR,QAAL,CAAc;AAAEtB,UAAAA,SAAS,EAAE;AAAb,SAAd,EAAgC,MAAMuE,aAAa,mBAC9CzC,KAD8C,EAAnD;AAGA;;AACF,WAAK,OAAL;AACE,aAAKR,QAAL,CAAc;AAAErB,UAAAA,WAAW,EAAE;AAAf,SAAd,EAAkC,MAAMwE,iBAAiB,mBACpD3C,KADoD,EAAzD;AAGA;;AACF;AAAS;AArBX;AAuBD;;AAEc,QAAT+C,SAAS,GAAG;AAChB,UAAM;AAAE9D,MAAAA,SAAF;AAAaC,MAAAA,IAAb;AAAmB8D,MAAAA;AAAnB,QAAgC,KAAK7D,KAA3C;AACA,UAAM;AAAEJ,MAAAA;AAAF,QAAuB,KAAKK,KAAlC;;AACA,QAAI,CAACF,IAAI,CAACG,GAAV,EAAe;AACbhF,MAAAA,OAAO,CAACiF,KAAR,CAAc,gBAAd;AACA7B,MAAAA,MAAM,CAACqC,IAAP,CAAY,GAAZ;AACA;AACD;;AACD,QAAIkD,QAAQ,CAACC,cAAT,KAA4B,QAA5B,IAAwC,CAAC/D,IAAI,CAACgE,aAAL,CAAmBC,MAAhE,EAAwE;AACtE9I,MAAAA,OAAO,CAACiF,KAAR,CAAc,2BAAd;AACA7B,MAAAA,MAAM,CAACqC,IAAP,CAAY,aAAZ;AACA;AACD;;AACD,QAAI;AACF,WAAKN,QAAL,CAAc;AAAEhB,QAAAA,SAAS,EAAE;AAAb,OAAd;AACA,YAAM4E,IAAI,GAAG,MAAM1H,cAAc,CAAC2H,kBAAf,CAAkC;AACnDC,QAAAA,IAAI,EAAEvE,gBAD6C;AAEnD+D,QAAAA,WAAW,EAAE7D,SAAS,CAACI,GAF4B;AAGnD4D,QAAAA,cAAc,EAAED,QAAQ,CAACC;AAH0B,OAAlC,CAAnB;;AAKA,UAAID,QAAQ,CAACC,cAAT,KAA4B,QAAhC,EAA0C;AAAA;;AACxCjB,QAAAA,MAAM,CAACuB,QAAP,CAAgBC,IAAhB,GAAuBJ,IAAvB,aAAuBA,IAAvB,qCAAuBA,IAAI,CAAEvC,IAA7B,+CAAuB,WAAY4C,UAAnC;AACD,OAFD,MAEO;AACL,aAAKjE,QAAL,CAAc;AAAEb,UAAAA,qBAAqB,EAAE;AAAzB,SAAd;AACD;AACF,KAZD,CAYE,OAAOiB,CAAP,EAAU;AACV,YAAM8D,GAAG,GAAG,MAAM9D,CAAlB;AACAvF,MAAAA,OAAO,CAACiF,KAAR,CAAcoE,GAAG,CAACrJ,OAAJ,IAAe,uCAA7B;AACA,WAAKmF,QAAL,CAAc;AAAEb,QAAAA,qBAAqB,EAAE,KAAzB;AAAgCH,QAAAA,SAAS,EAAE;AAA3C,OAAd;AACD;AACF;;AAEY,QAAPmF,OAAO,CAACC,KAAD,EAAgB;AAC3B,UAAM;AAAE3E,MAAAA,SAAF;AAAaC,MAAAA,IAAb;AAAmB7D,MAAAA,aAAa,EAAEwI;AAAlC,QAA0D,KAAK1E,KAArE;;AACA,QAAID,IAAI,CAAC4E,OAAL,GAAeF,KAAnB,EAA0B;AACxBvJ,MAAAA,OAAO,CAACiF,KAAR,CAAc,yDAAd;AACA7B,MAAAA,MAAM,CAACqC,IAAP,CAAY,SAAZ;AACA;AACD;;AACD,QAAI;AACF,YAAM,KAAKN,QAAL,CAAc;AAAEd,QAAAA,UAAU,EAAE;AAAd,OAAd,CAAN;AACA,YAAMnD,sBAAsB,CAACoI,OAAvB,CAA+B1E,SAA/B,aAA+BA,SAA/B,uBAA+BA,SAAS,CAAEI,GAA1C,EAA+C;AAAEyD,QAAAA,WAAW,EAAE7D,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAEI,GAA1B;AAA+BuE,QAAAA;AAA/B,OAA/C,CAAN;AACAvJ,MAAAA,OAAO,CAAC6H,OAAR,CAAgB,uBAAhB;AACA2B,MAAAA,mBAAmB,CAAC;AAAElD,QAAAA,KAAK,EAAE,CAACiD;AAAV,OAAD,CAAnB;AACD,KALD,CAKE,OAAOhE,CAAP,EAAU;AACV,YAAM8D,GAAG,GAAG,MAAM9D,CAAlB;AACAvF,MAAAA,OAAO,CAACiF,KAAR,CAAcoE,GAAG,CAACrJ,OAAJ,IAAe,uCAA7B;AACD,KARD,SAQU;AACR,WAAKmF,QAAL,CAAc;AAAEd,QAAAA,UAAU,EAAE,KAAd;AAAqBH,QAAAA,YAAY,EAAE;AAAnC,OAAd;AACD;AACF;;AAEiB,QAAZwF,YAAY,GAAG;AACnB,UAAM;AACJ3F,MAAAA,QADI;AACMF,MAAAA,SADN;AACiBC,MAAAA,WADjB;AAC8BF,MAAAA,WAD9B;AAC2CI,MAAAA,WAD3C;AAEJO,MAAAA,GAFI;AAECC,MAAAA;AAFD,QAGF,KAAKO,KAHT;AAIA,UAAM;AACJrE,MAAAA,SAAS,EAAEiJ,WADP;AAEJnJ,MAAAA,SAAS,EAAEoJ,WAFP;AAGJ/I,MAAAA,WAAW,EAAEgJ,WAHT;AAIJ/I,MAAAA,aAAa,EAAEgJ,cAJX;AAKJlF,MAAAA;AALI,QAMF,KAAKE,KANT;AAOA,UAAMa,KAAK,GAAG;AACZ4C,MAAAA,KAAK,EAAE3E,WADK;AAEZ6E,MAAAA,WAAW,EAAE7D,SAAS,CAACI,GAFX;AAGZxB,MAAAA,CAAC,EAAEgB,MAAM,CAAChB,CAAP,IAAY,EAHH;AAIZC,MAAAA,QAAQ,EAAEe,MAAM,CAACf,QAAP,IAAmB,EAJjB;AAKZC,MAAAA,MAAM,EAAEc,MAAM,CAACd,MAAP,IAAiB;AALb,KAAd;;AAOA,QAAIa,GAAG,KAAK,MAAZ,EAAoB;AAClB,WAAKY,QAAL,CAAc;AACZpB,QAAAA,QAAQ,EAAEA,QAAQ,GAAG;AADT,OAAd,EAEG,MAAM4F,WAAW,iCACfhE,KADe;AAElB6C,QAAAA,MAAM,EAAE,CAACzE,QAAQ,GAAG,CAAZ,IAAiBH;AAFP,SAFpB;AAMD;;AACD,QAAIW,GAAG,KAAK,OAAZ,EAAqB;AACnB,WAAKY,QAAL,CAAc;AACZtB,QAAAA,SAAS,EAAEA,SAAS,GAAG;AADX,OAAd,EAEG,MAAM+F,WAAW,iCACfjE,KADe;AAElB6C,QAAAA,MAAM,EAAE,CAAC3E,SAAS,GAAG,CAAb,IAAkBD;AAFR,SAFpB;AAMD;;AACD,QAAIW,GAAG,KAAK,OAAZ,EAAqB;AACnB,YAAM,KAAKY,QAAL,CAAc;AAClBnB,QAAAA,WAAW,EAAEA,WAAW,GAAG;AADT,OAAd,EAEH,MAAM;AACP8F,QAAAA,cAAc,iCACTnE,KADS;AAEZ6C,UAAAA,MAAM,EAAE,CAACxE,WAAW,GAAG,CAAf,IAAoBJ;AAFhB,WAAd;AAID,OAPK,CAAN;AAQD;;AACD,QAAIW,GAAG,KAAK,OAAZ,EAAqB;AACnB,WAAKY,QAAL,CAAc;AACZrB,QAAAA,WAAW,EAAEA,WAAW,GAAG;AADf,OAAd,EAEG,MAAM+F,WAAW,iCACflE,KADe;AAElB6C,QAAAA,MAAM,EAAE,CAAC1E,WAAW,GAAG,CAAf,IAAoBF;AAFV,SAFpB;AAMD;AACF;;AAEDmG,EAAAA,MAAM,GAAG;AAAA;;AACP,UAAM;AACJ9E,MAAAA,KADI;AAEJL,MAAAA,SAFI;AAGJoF,MAAAA,EAHI;AAIJnF,MAAAA,IAJI;AAKJoF,MAAAA,SALI;AAMJC,MAAAA,UANI;AAOJC,MAAAA,YAPI;AAQJC,MAAAA,YARI;AASJnE,MAAAA,SATI;AAUJ0C,MAAAA;AAVI,QAWF,KAAK7D,KAXT;;AAYA,QAAIG,KAAJ,EAAW;AACT,aAAO,MAAC,KAAD;AAAO,QAAA,UAAU,EAAE,CAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEoF,UAAP,KAAqB,GAAxC;AAA6C,QAAA,KAAK,EAAE,CAAApF,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEjF,OAAP,KAAkB;AAAtE,QAAP;AACD;;AACD,UAAM;AAAEsK,MAAAA,KAAK,EAAEC,KAAK,GAAG,EAAjB;AAAqBC,MAAAA,KAAK,EAAEC,SAAS,GAAG,CAAxC;AAA2CpG,MAAAA,UAAU,EAAEqG;AAAvD,QAAuET,SAA7E;AACA,UAAM;AAAEK,MAAAA,KAAK,EAAEK,MAAM,GAAG,EAAlB;AAAsBH,MAAAA,KAAK,EAAEI,WAAW,GAAG,CAA3C;AAA8CvG,MAAAA,UAAU,EAAEwG;AAA1D,QAA2EX,UAAjF;AACA,UAAM;AAAEI,MAAAA,KAAK,EAAEQ,QAAQ,GAAG,EAApB;AAAwBN,MAAAA,KAAK,EAAEO,aAAa,GAAG,CAA/C;AAAkD1G,MAAAA,UAAU,EAAE2G;AAA9D,QAA6Eb,YAAnF;AACA,UAAM;AAAEG,MAAAA,KAAK,EAAEW,SAAS,GAAG,EAArB;AAAyBT,MAAAA,KAAK,EAAEU,cAAc,GAAG,CAAjD;AAAoD7G,MAAAA,UAAU,EAAE8G;AAAhE,QAAmFf,YAAzF;AACA,UAAM;AACJnG,MAAAA,eADI;AAEJC,MAAAA,YAFI;AAGJC,MAAAA,SAHI;AAIJC,MAAAA,YAJI;AAKJE,MAAAA,qBALI;AAMJC,MAAAA,GANI;AAOJE,MAAAA,MAPI;AAQJC,MAAAA,gBARI;AASJC,MAAAA;AATI,QAUF,KAAKI,KAVT;AAWA,WACE,MAAC,MAAD,QACE,MAAC,IAAD,QACE,qBACI,GAAEiF,EAAH,aAAGA,EAAH,uBAAGA,EAAE,CAAEoB,QAAS,MAAK,CAAAxG,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEyG,IAAX,MAAmBzG,SAAnB,aAAmBA,SAAnB,uBAAmBA,SAAS,CAAEkB,QAA9B,CAAuC,EAD/D,CADF,EAIE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,OAAO,EAAG,GAAElB,SAAH,aAAGA,SAAH,uBAAGA,SAAS,CAAEkB,QAAS,KAAIlB,SAA3B,aAA2BA,SAA3B,uBAA2BA,SAAS,CAAEyG,IAAK;AAFtD,MAJF,EAQE;AAAM,MAAA,IAAI,EAAC,aAAX;AAAyB,MAAA,OAAO,EAAEzG,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAE0G;AAA7C,MARF,EASE;AAAM,MAAA,QAAQ,EAAC,SAAf;AAAyB,MAAA,OAAO,EAAC;AAAjC,MATF,EAUE;AACE,MAAA,QAAQ,EAAC,UADX;AAEE,MAAA,OAAO,EAAG,GAAEtB,EAAH,aAAGA,EAAH,uBAAGA,EAAE,CAAEoB,QAAS,MAAK,CAAAxG,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEyG,IAAX,MAAmBzG,SAAnB,aAAmBA,SAAnB,uBAAmBA,SAAS,CAAEkB,QAA9B,CAAuC;AAFvE,MAVF,EAcE;AAAM,MAAA,QAAQ,EAAC,UAAf;AAA0B,MAAA,OAAO,EAAE,CAAAlB,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAE2G,MAAX,KAAqB;AAAxD,MAdF,EAeE;AACE,MAAA,QAAQ,EAAC,gBADX;AAEE,MAAA,OAAO,EAAE3G,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAE0G;AAFtB,MAfF,EAmBE;AAAM,MAAA,IAAI,EAAC,cAAX;AAA0B,MAAA,OAAO,EAAC;AAAlC,MAnBF,EAoBE;AACE,MAAA,IAAI,EAAC,eADP;AAEE,MAAA,OAAO,EAAG,GAAEtB,EAAH,aAAGA,EAAH,uBAAGA,EAAE,CAAEoB,QAAS,MAAK,CAAAxG,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEyG,IAAX,MAAmBzG,SAAnB,aAAmBA,SAAnB,uBAAmBA,SAAS,CAAEkB,QAA9B,CAAuC;AAFvE,MApBF,EAwBE;AAAM,MAAA,IAAI,EAAC,eAAX;AAA2B,MAAA,OAAO,EAAE,CAAAlB,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAE2G,MAAX,KAAqB;AAAzD,MAxBF,EAyBE;AAAM,MAAA,IAAI,EAAC,qBAAX;AAAiC,MAAA,OAAO,EAAE3G,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAE0G;AAArD,MAzBF,CADF,EA4BE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAA6B,MAAA,KAAK,EAAE;AAAEE,QAAAA,eAAe,EAAG,QAAO,CAAA5G,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAE6G,KAAX,KAAoB,0BAA2B;AAA1E;AAApC,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAG,yBAAH;AAAe,MAAA,SAAS,EAAC,YAAzB;AAAsC,MAAA,OAAO,EAAE,MAAMrI,MAAM,CAACsI,IAAP;AAArD,OACE,MAAC,iBAAD,OADF,CADF,EAIE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,oBACGxI,kBAAkB,CAAC,CAAA0B,SAAS,SAAT,IAAAA,SAAS,WAAT,gCAAAA,SAAS,CAAE+G,KAAX,sEAAkBC,UAAlB,KAAgC,CAAjC,CADrB,EAEG,GAFH,EAGE,MAAC,YAAD,OAHF,CADF,CADF,EAQE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,oBACG1I,kBAAkB,CAAC,CAAA0B,SAAS,SAAT,IAAAA,SAAS,WAAT,iCAAAA,SAAS,CAAE+G,KAAX,wEAAkBf,WAAlB,KAAiC,CAAlC,CADrB,EAEG,GAFH,EAGE,MAAC,mBAAD,OAHF,CADF,CARF,EAeE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,oBACG1H,kBAAkB,CAAC,CAAA0B,SAAS,SAAT,IAAAA,SAAS,WAAT,iCAAAA,SAAS,CAAE+G,KAAX,wEAAkBE,WAAlB,KAAiC,CAAlC,CADrB,EAEG,GAFH,EAGE,MAAC,eAAD,OAHF,CADF,CAfF,EAsBE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,oBACG3I,kBAAkB,CAAC,CAAA0B,SAAS,SAAT,IAAAA,SAAS,WAAT,iCAAAA,SAAS,CAAE+G,KAAX,wEAAkBZ,aAAlB,KAAmC,CAApC,CADrB,EAEG,GAFH,EAGE,MAAC,gBAAD,OAHF,CADF,CAtBF,EA6BE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,oBACG7H,kBAAkB,CAAC,CAAA0B,SAAS,SAAT,IAAAA,SAAS,WAAT,iCAAAA,SAAS,CAAE+G,KAAX,wEAAkBG,KAAlB,KAA2B,CAA5B,CADrB,EAEG,GAFH,EAGE,MAAC,aAAD,OAHF,CADF,CA7BF,EAoCE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,oBACG5I,kBAAkB,CAAC,CAAA0B,SAAS,SAAT,IAAAA,SAAS,WAAT,iCAAAA,SAAS,CAAE+G,KAAX,wEAAkBI,WAAlB,KAAiC,CAAlC,CADrB,EAEG,GAFH,EAGE,MAAC,oBAAD,OAHF,CADF,CApCF,CADF,CAJF,CADF,CADF,CADF,CA5BF,EAqFE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,MAAC,KAAD;AACE,MAAA,GAAG,EAAC,UADN;AAEE,MAAA,GAAG,EAAE,CAAAnH,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAE2G,MAAX,KAAqB,uBAF5B;AAGE,MAAA,QAAQ,EAAC;AAHX,MADF,EAMG,CAAA1G,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEG,GAAN,OAAcJ,SAAd,aAAcA,SAAd,uBAAcA,SAAS,CAAEI,GAAzB,KAAgC;AAAM,MAAA,SAAS,EAAE,CAAAJ,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEoH,QAAX,IAAsB,CAAtB,GAA0B,eAA1B,GAA4C;AAA7D,MANnC,EAOE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,kBACG,CAAApH,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEyG,IAAX,KAAmB,KADtB,UAGG,CAAAzG,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEqH,eAAX,KACC,MAAC,QAAD,OAJJ,UAOG,CAAArH,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEsH,IAAX,IAAkB,CAAlB,IAAuB,CAAArH,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEG,GAAN,OAAcJ,SAAd,aAAcA,SAAd,uBAAcA,SAAS,CAAEI,GAAzB,CAAvB,IAAuD;AAAG,yBAAH;AAAe,MAAA,OAAO,EAAE,KAAKmH,gBAA7B;AAA+C,MAAA,SAAS,EAAC;AAAzD,cAP1D,EAQG,CAAAtH,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEG,GAAN,OAAcJ,SAAd,aAAcA,SAAd,uBAAcA,SAAS,CAAEI,GAAzB,KAAgC,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC;AAAX,OAA4B,iBAAG,MAAC,YAAD;AAAc,MAAA,SAAS,EAAC;AAAxB,MAAH,CAA5B,CARnC,CADF,EAWE;AAAI,MAAA,KAAK,EAAE;AAAEoH,QAAAA,aAAa,EAAE;AAAjB;AAAX,YAEG,CAAAxH,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEkB,QAAX,KAAuB,KAF1B,CAXF,CAPF,CADF,EAyBE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,MAAC,OAAD;AAAS,MAAA,KAAK,EAAEnB,UAAU,GAAG,WAAH,GAAiB;AAA3C,OACE,MAAC,MAAD;AACE,MAAA,QAAQ,EAAE,CAACE,IAAI,CAACG,GAAN,IAAaH,IAAI,CAACK,WAD9B;AAEE,MAAA,SAAS,EAAEd,YAAY,GAAG,QAAH,GAAc,EAFvC;AAGE,MAAA,OAAO,EAAE,MAAM,KAAKiI,YAAL;AAHjB,OAKG1H,UAAU,GAAG,MAAC,WAAD,OAAH,GAAqB,MAAC,aAAD,OALlC,CADF,CADF,EAUE,MAAC,OAAD;AAAS,MAAA,KAAK,EAAC;AAAf,OACE,MAAC,MAAD;AACE,MAAA,QAAQ,EAAE,CAACE,IAAI,CAACG,GAAN,IAAaH,IAAI,CAACK,WAD9B;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKC,QAAL,CAAc;AAAEjB,QAAAA,YAAY,EAAE;AAAhB,OAAd;AAFjB,OAIE,MAAC,cAAD,OAJF,CADF,CAVF,EAkBE,MAAC,OAAD;AAAS,MAAA,KAAK,EAAC;AAAf,OACE,MAAC,MAAD;AACE,MAAA,QAAQ,EAAE,CAACW,IAAI,CAACG,GAAN,IAAaH,IAAI,CAACK,WAD9B;AAEE,MAAA,OAAO,EAAE,MAAM9B,MAAM,CAACqC,IAAP,CAAY;AACzBC,QAAAA,QAAQ,EAAE,WADe;AAEzBC,QAAAA,KAAK,EAAE;AACL2G,UAAAA,QAAQ,EAAE,WADL;AAELC,UAAAA,IAAI,EAAE,CAAC3H,SAAD,aAACA,SAAD,uBAACA,SAAS,CAAEI,GAAZ,KAAoB;AAFrB;AAFkB,OAAZ;AAFjB,OAUE,MAAC,WAAD,OAVF,CADF,CAlBF,EAgCE,MAAC,OAAD;AAAS,MAAA,KAAK,EAAEZ,YAAY,GAAG,uBAAH,GAA6B;AAAzD,OACE,MAAC,MAAD;AACE,MAAA,QAAQ,EAAE,CAACS,IAAI,CAACG,GAAN,IAAaH,IAAI,CAACK,WAD9B;AAEE,MAAA,SAAS,EAAEd,YAAY,GAAG,QAAH,GAAc,EAFvC;AAGE,MAAA,OAAO,EAAE,MAAM,KAAK0D,cAAL;AAHjB,OAKE,MAAC,YAAD,OALF,CADF,CAhCF,EAyCE,MAAC,OAAD;AAAS,MAAA,KAAK,EAAC,yBAAf;AAAyC,MAAA,OAAO,EAAE,MAAC,YAAD;AAAc,QAAA,QAAQ,EAAEkC,EAAE,CAACoB,QAA3B;AAAqC,QAAA,SAAS,EAAExG;AAAhD;AAAlD,OACE,MAAC,MAAD;AAAQ,MAAA,SAAS,EAAC;AAAlB,OACE,MAAC,SAAD,OADF,CADF,CAzCF,CAzBF,EAwEE;AAAK,MAAA,SAAS,EAAEC,IAAI,CAACK,WAAL,GAAmB,gBAAnB,GAAsC;AAAtD,OACE,MAAC,aAAD;AAAe,MAAA,SAAS,EAAEe,SAA1B;AAAqC,MAAA,SAAS,EAAErB;AAAhD,MADF,CAxEF,EA2EG,EAACA,SAAD,aAACA,SAAD,eAACA,SAAS,CAAEY,YAAZ,KAA4B,CAACX,IAAI,CAACK,WAAlC,IACC;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,yCADF,EAEE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAC,SAFZ;AAGE,MAAA,QAAQ,EAAGf,SAHb;AAIE,MAAA,OAAO,EAAE,MAAM;AACb,aAAKgB,QAAL,CAAc;AAAEb,UAAAA,qBAAqB,EAAE,IAAzB;AAA+BI,UAAAA,gBAAgB,EAAE;AAAjD,SAAd;AACD;AANH,wBASG,GATH,OAWGE,SAAS,KAAIA,SAAJ,aAAIA,SAAJ,uBAAIA,SAAS,CAAE4H,YAAX,CAAwBC,OAAxB,CAAgC,CAAhC,CAAJ,CAXZ,CAFF,CA5EJ,EA6FG,EAAC7H,SAAD,aAACA,SAAD,eAACA,SAAS,CAAEY,YAAZ,KAA4B,CAACX,IAAI,CAACK,WAAlC,IACC;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,wCADF,EAEE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAC,SAFZ;AAGE,MAAA,QAAQ,EAAGf,SAHb;AAIE,MAAA,OAAO,EAAE,MAAM;AACb,aAAKgB,QAAL,CAAc;AAAEb,UAAAA,qBAAqB,EAAE,IAAzB;AAA+BI,UAAAA,gBAAgB,EAAE;AAAjD,SAAd;AACD;AANH,wBASG,GATH,OAWGE,SAXH,aAWGA,SAXH,uBAWGA,SAAS,CAAE8H,WAAX,CAAuBD,OAAvB,CAA+B,CAA/B,CAXH,CAFF,CA9FJ,EA+GG,CAAA7H,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAE+H,kBAAX,KAAiC,EAAC/H,SAAD,aAACA,SAAD,eAACA,SAAS,CAAEY,YAAZ,CAAjC,IAA6D,CAACX,IAAI,CAACK,WAAnE,IACC;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,sCADF,EAEE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAC,SAFZ;AAGE,MAAA,QAAQ,EAAGf,SAHb;AAIE,MAAA,OAAO,EAAE,MAAM;AACb,aAAKgB,QAAL,CAAc;AAAEb,UAAAA,qBAAqB,EAAE,IAAzB;AAA+BI,UAAAA,gBAAgB,EAAE;AAAjD,SAAd;AACD;AANH,iCASG,GATH,EAUG,CAAAE,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEgI,4BAAX,KAA2C,CAV9C,EAWG,GAXH,EAYG,CAAAhI,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEgI,4BAAX,IAA0C,CAA1C,GAA8C,MAA9C,GAAuD,KAZ1D,EAaGjE,QAAQ,CAACC,cAAT,KAA4B,QAA5B,IAAyC,SAAQhE,SAAT,aAASA,SAAT,uBAASA,SAAS,CAAE4H,YAAX,CAAwBC,OAAxB,CAAgC,CAAhC,CAAmC,YAbvF,CAFF,CAhHJ,CADF,CArFF,EA2NE;AAAK,MAAA,KAAK,EAAE;AAAEI,QAAAA,SAAS,EAAE;AAAb;AAAZ,MA3NF,EA4NE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,MAAC,IAAD;AACE,MAAA,gBAAgB,EAAC,MADnB;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,UAAU,EAAGC,CAAD,IAAe;AACzB,aAAK3H,QAAL,CAAc;AAAEZ,UAAAA,GAAG,EAAEuI,CAAP;AAAUtI,UAAAA,MAAM,EAAEjB,aAAlB;AAAiCkB,UAAAA,MAAM,EAAE;AAAzC,SAAd,EAAgE,MAAM,KAAKa,SAAL,EAAtE;AACD;AALH,OAOE,MAAC,OAAD;AAAS,MAAA,GAAG,EAAE,MAAC,YAAD,OAAd;AAAgC,MAAA,GAAG,EAAC;AAApC,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,kBACGmF,SAAS,GAAG,CAAZ,IAAiBA,SADpB,EAEG,GAFH,EAGGA,SAAS,GAAG,CAAZ,GAAgB,OAAhB,GAA0B,MAH7B,CADF,EAME,MAAC,aAAD;AAAe,MAAA,SAAS,EAAEC,WAA1B;AAAuC,MAAA,GAAG,EAAEnG,GAA5C;AAAiD,MAAA,YAAY,EAAE,KAAK2D,kBAAL,CAAwB6E,IAAxB,CAA6B,IAA7B,CAA/D;AAAmG,MAAA,cAAc,EAAGC,GAAD,IAAS,KAAK7H,QAAL,CAAc;AAAEV,QAAAA,MAAM,EAAEuI;AAAV,OAAd;AAA5H,MANF,CADF,EASE;AAAK,MAAA,SAAS,EAAEvI,MAAM,GAAG,gBAAH,GAAsB;AAA5C,OACE,MAAC,cAAD;AACE,MAAA,KAAK,EAAE8F,KADT;AAEE,MAAA,OAAO,EAAEG,WAFX;AAGE,MAAA,WAAW,EAAEH,KAAK,IAAIA,KAAK,CAACzB,MAAN,GAAe2B,SAHvC;AAIE,MAAA,QAAQ,EAAE,KAAKf,YAAL,CAAkBqD,IAAlB,CAAuB,IAAvB,CAJZ;AAKE,MAAA,MAAM,EAAEtI,MALV;AAME,MAAA,QAAQ,EAAE,KAAK8C,gBAAL,CAAsBwF,IAAtB,CAA2B,IAA3B;AANZ,MADF,CATF,CAPF,EA2BE,MAAC,OAAD;AAAS,MAAA,GAAG,EAAE,MAAC,mBAAD,OAAd;AAAuC,MAAA,GAAG,EAAC;AAA3C,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,kBACGnC,WAAW,GAAG,CAAd,IAAmBA,WADtB,EAEG,GAFH,EAGGA,WAAW,GAAG,CAAd,GAAkB,QAAlB,GAA6B,OAHhC,CADF,EAME,MAAC,aAAD;AAAe,MAAA,SAAS,EAAEC,YAA1B;AAAwC,MAAA,GAAG,EAAEtG,GAA7C;AAAkD,MAAA,YAAY,EAAE,KAAK2D,kBAAL,CAAwB6E,IAAxB,CAA6B,IAA7B,CAAhE;AAAoG,MAAA,cAAc,EAAGC,GAAD,IAAS,KAAK7H,QAAL,CAAc;AAAEV,QAAAA,MAAM,EAAEuI;AAAV,OAAd;AAA7H,MANF,CADF,EASE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,MAAC,eAAD;AACE,MAAA,KAAK,EAAErC,MADT;AAEE,MAAA,OAAO,EAAEE,YAFX;AAGE,MAAA,WAAW,EAAEF,MAAM,IAAIA,MAAM,CAAC7B,MAAP,GAAgB8B,WAHzC;AAIE,MAAA,QAAQ,EAAE,KAAKlB,YAAL,CAAkBqD,IAAlB,CAAuB,IAAvB;AAJZ,MADF,CATF,CA3BF,EA6CE,MAAC,OAAD;AAAS,MAAA,GAAG,EAAE,MAAC,eAAD,OAAd;AAAmC,MAAA,GAAG,EAAC;AAAvC,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,kBACG7B,cAAc,GAAG,CAAjB,IAAsBA,cADzB,EAEG,GAFH,EAGGA,cAAc,GAAG,CAAjB,GAAqB,WAArB,GAAmC,SAHtC,CADF,EAME,MAAC,aAAD;AAAe,MAAA,SAAS,EAAEC,cAA1B;AAA0C,MAAA,GAAG,EAAE5G,GAA/C;AAAoD,MAAA,YAAY,EAAE,KAAK2D,kBAAL,CAAwB6E,IAAxB,CAA6B,IAA7B,CAAlE;AAAsG,MAAA,cAAc,EAAGC,GAAD,IAAS,KAAK7H,QAAL,CAAc;AAAEV,QAAAA,MAAM,EAAEuI;AAAV,OAAd;AAA/H,MANF,CADF,EASE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,MAAC,iBAAD;AACE,MAAA,KAAK,EAAE/B,SADT;AAEE,MAAA,OAAO,EAAEE,cAFX;AAGE,MAAA,WAAW,EAAEF,SAAS,IAAIA,SAAS,CAACnC,MAAV,GAAmBoC,cAH/C;AAIE,MAAA,QAAQ,EAAE,KAAKxB,YAAL,CAAkBqD,IAAlB,CAAuB,IAAvB;AAJZ,MADF,CATF,CA7CF,EA+DE,MAAC,OAAD;AAAS,MAAA,GAAG,EAAE,MAAC,gBAAD,OAAd;AAAoC,MAAA,GAAG,EAAC;AAAxC,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE,kBACGhC,aAAa,GAAG,CAAhB,IAAqBA,aADxB,EAEG,GAFH,EAGGA,aAAa,GAAG,CAAhB,GAAoB,UAApB,GAAiC,SAHpC,CADF,EAME,MAAC,aAAD;AAAe,MAAA,SAAS,EAAEC,UAA1B;AAAsC,MAAA,GAAG,EAAEzG,GAA3C;AAAgD,MAAA,YAAY,EAAE,KAAK2D,kBAAL,CAAwB6E,IAAxB,CAA6B,IAA7B;AAA9D,MANF,CADF,EASE,MAAC,iBAAD;AACE,MAAA,KAAK,EAAEjC,QADT;AAEE,MAAA,OAAO,EAAEE,UAFX;AAGE,MAAA,WAAW,EAAEF,QAAQ,IAAIA,QAAQ,CAAChC,MAAT,GAAkBiC,aAH7C;AAIE,MAAA,QAAQ,EAAE,KAAKrB,YAAL,CAAkBqD,IAAlB,CAAuB,IAAvB;AAJZ,MATF,CA/DF,CADF,CADF,CA5NF,EAgTGnI,SAAS,KACLA,SADK,aACLA,SADK,uBACLA,SAAS,CAAEqI,gBADN,CAAT,KAEIrI,SAFJ,aAEIA,SAFJ,uBAEIA,SAAS,CAAEsI,oBAFf,KAIG,MAAC,KAAD;AACE,MAAA,GAAG,EAAC,eADN;AAEE,MAAA,SAAS,EAAC,eAFZ;AAGE,MAAA,cAAc,MAHhB;AAIE,MAAA,QAAQ,EAAE,KAJZ;AAKE,MAAA,YAAY,EAAE,KALhB;AAME,MAAA,KAAK,EAAE,GANT;AAOE,MAAA,OAAO,EAAEjJ,eAPX;AAQE,MAAA,KAAK,EAAE,IART;AASE,MAAA,QAAQ,MATV;AAUE,MAAA,QAAQ,EAAE,MAAM,KAAKkB,QAAL,CAAc;AAAElB,QAAAA,eAAe,EAAE;AAAnB,OAAd,CAVlB;AAWE,MAAA,MAAM,EAAE,CACN,MAAC,MAAD;AACE,QAAA,GAAG,EAAC,OADN;AAEE,QAAA,SAAS,EAAC,WAFZ;AAGE,QAAA,OAAO,EAAE,MAAM,KAAKkB,QAAL,CAAc;AAAElB,UAAAA,eAAe,EAAE;AAAnB,SAAd;AAHjB,iBADM,EAQN,MAAC,MAAD;AACE,QAAA,GAAG,EAAC,UADN;AAEE,QAAA,SAAS,EAAC,SAFZ;AAGE,QAAA,OAAO,EAAE,KAAK8C,sBAAL,CAA4BgG,IAA5B,CAAiC,IAAjC;AAHX,iCARM;AAXV,OA4BE,MAAC,WAAD;AACEI,MAAAA,GAAG,EAAG,GAAEvI,SAAS,CAACI,GAAI,EADxB;AAEEoI,MAAAA,QAAQ,EAAE,IAFZ;AAGEC,MAAAA,WAAW,EAAE,IAHf;AAIEC,MAAAA,OAAO,EAAE,CACP;AACEC,QAAAA,GAAG,EAAE3I,SAAF,aAAEA,SAAF,uBAAEA,SAAS,CAAEqI,gBADlB;AAEEhE,QAAAA,IAAI,EAAE;AAFR,OADO;AAJX,MA5BF,CApTN,EA8VE,MAAC,KAAD;AACE,MAAA,GAAG,EAAC,eADN;AAEE,MAAA,SAAS,EAAC,oBAFZ;AAGE,MAAA,OAAO,EAAE/E,YAHX;AAIE,MAAA,QAAQ,MAJV;AAKE,MAAA,IAAI,EAAE,MAAM,KAAKiB,QAAL,CAAc;AAAEjB,QAAAA,YAAY,EAAE;AAAhB,OAAd,CALd;AAME,MAAA,MAAM,EAAE,IANV;AAOE,MAAA,KAAK,EAAE,GAPT;AAQE,MAAA,KAAK,EAAE,IART;AASE,MAAA,QAAQ,EAAE,MAAM,KAAKiB,QAAL,CAAc;AAAEjB,QAAAA,YAAY,EAAE;AAAhB,OAAd;AATlB,OAWE,MAAC,gBAAD;AACE,MAAA,SAAS,EAAEU,SADb;AAEE,MAAA,SAAS,EAAET,SAFb;AAGE,MAAA,QAAQ,EAAE,KAAKmF,OAAL,CAAayD,IAAb,CAAkB,IAAlB;AAHZ,MAXF,CA9VF,EA+WE,MAAC,KAAD;AACE,MAAA,GAAG,EAAC,qBADN;AAEE,MAAA,SAAS,EAAC,oBAFZ;AAGE,MAAA,KAAK,EAAE,GAHT;AAIE,MAAA,QAAQ,MAJV;AAKE,MAAA,KAAK,EAAE,IALT;AAME,MAAA,OAAO,EAAEzI,qBANX;AAOE,MAAA,MAAM,EAAE,IAPV;AAQE,MAAA,QAAQ,EAAE,MAAM,KAAKa,QAAL,CAAc;AAAEb,QAAAA,qBAAqB,EAAE;AAAzB,OAAd,CARlB;AASE,MAAA,cAAc;AAThB,OAWE,MAAC,gCAAD;AACE,MAAA,IAAI,EAAEI,gBAAgB,IAAI,SAD5B;AAEE,MAAA,SAAS,EAAEE,SAFb;AAGE,MAAA,SAAS,EAAET,SAHb;AAIE,MAAA,QAAQ,EAAE,KAAKuE,SAAL,CAAeqE,IAAf,CAAoB,IAApB;AAJZ,MAXF,CA/WF,EAiYG5I,SAAS,IAAI,MAAC,MAAD;AAAQ,MAAA,UAAU,EAAC;AAAnB,MAjYhB,CADF;AAqYD;;AA5tBkD;;gBAA/CR,gB,kBACkB,I;;gBADlBA,gB,gBAGgB,I;;AA4tBtB,MAAM6J,SAAS,GAAIzI,KAAD,KAAiB;AACjCiF,EAAAA,EAAE,oBAAOjF,KAAK,CAACiF,EAAb,CAD+B;AAEjCE,EAAAA,UAAU,oBAAOnF,KAAK,CAAC0I,KAAN,CAAY9C,MAAnB,CAFuB;AAGjCV,EAAAA,SAAS,oBAAOlF,KAAK,CAACyC,IAAN,CAAW+C,KAAlB,CAHwB;AAIjCJ,EAAAA,YAAY,oBAAOpF,KAAK,CAAC2I,OAAN,CAAc5C,QAArB,CAJqB;AAKjCV,EAAAA,YAAY,oBAAOrF,KAAK,CAAC4I,OAAN,CAAc1C,SAArB,CALqB;AAMjCpG,EAAAA,IAAI,oBAAOE,KAAK,CAACF,IAAN,CAAW+I,OAAlB,CAN6B;AAOjCjF,EAAAA,QAAQ,oBAAO5D,KAAK,CAAC4D,QAAb;AAPyB,CAAjB,CAAlB;;AAUA,MAAMkF,WAAW,GAAG;AAClBpN,EAAAA,QADkB;AAElBC,EAAAA,SAFkB;AAGlBH,EAAAA,SAHkB;AAIlBC,EAAAA,SAJkB;AAKlBI,EAAAA,YALkB;AAMlBC,EAAAA,WANkB;AAOlBE,EAAAA,YAPkB;AAQlBD,EAAAA,aARkB;AASlBH,EAAAA,iBATkB;AAUlBK,EAAAA;AAVkB,CAApB;AAYA,eAAeV,OAAO,CAACkN,SAAD,EAAYK,WAAZ,CAAP,CAAgClK,gBAAhC,CAAf","sourcesContent":["import {\n  Layout, Tabs, Button, message, Modal, Image, Popover, Tooltip\n} from 'antd';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { getVideos, moreVideo } from '@redux/video/actions';\nimport { getFeeds, moreFeeds, removeFeedSuccess } from '@redux/feed/actions';\nimport { listProducts, moreProduct } from '@redux/product/actions';\nimport { moreGalleries, getGalleries } from '@redux/gallery/actions';\nimport { updateBalance } from '@redux/user/actions';\nimport {\n  performerService, tokenTransctionService, feedService, reactionService, paymentService,\n  utilsService, followService\n} from 'src/services';\nimport Head from 'next/head';\nimport {\n  ArrowLeftOutlined, FireOutlined, EditOutlined, HeartOutlined, DollarOutlined, HeartFilled,\n  UsergroupAddOutlined, VideoCameraOutlined, PictureOutlined, ShoppingOutlined, BookOutlined\n} from '@ant-design/icons';\nimport {\n  TickIcon, ShareIcon, MessageIcon\n} from 'src/icons';\nimport { ScrollListProduct } from '@components/product/scroll-list-item';\nimport ScrollListFeed from '@components/post/scroll-list';\nimport { ScrollListVideo } from '@components/video/scroll-list-item';\nimport { ScrollListGallery } from '@components/gallery/scroll-list-gallery';\nimport { PerformerInfo } from '@components/performer/table-info';\nimport { ConfirmSubscriptionPerformerForm, TipPerformerForm } from '@components/performer';\nimport ShareButtons from '@components/performer/share-profile';\nimport SearchPostBar from '@components/post/search-bar';\nimport Loader from '@components/common/base/loader';\nimport { VideoPlayer } from '@components/common';\nimport {\n  IPerformer, IUser, IUIConfig, IFeed, ICountry, ISettings\n} from 'src/interfaces';\nimport { shortenLargeNumber } from '@lib/index';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport Error from 'next/error';\nimport '@components/performer/performer.less';\n\ninterface IProps {\n  ui: IUIConfig;\n  error: any;\n  user: IUser;\n  performer: IPerformer;\n  listProducts: Function;\n  getVideos: Function;\n  moreVideo: Function;\n  moreProduct: Function;\n  videoState: any;\n  productState: any;\n  getGalleries: Function;\n  moreGalleries: Function;\n  galleryState: any;\n  feedState: any;\n  getFeeds: Function;\n  moreFeeds: Function;\n  removeFeedSuccess: Function;\n  updateBalance: Function;\n  countries: ICountry[];\n  settings: ISettings;\n}\n\nconst { TabPane } = Tabs;\nconst initialFilter = {\n  q: '',\n  fromDate: '',\n  toDate: ''\n};\n\nclass PerformerProfile extends PureComponent<IProps> {\n  static authenticate = true;\n\n  static noredirect = true;\n\n  state = {\n    itemPerPage: 12,\n    videoPage: 0,\n    productPage: 0,\n    feedPage: 0,\n    galleryPage: 0,\n    showWelcomVideo: false,\n    openTipModal: false,\n    submiting: false,\n    isBookMarked: false,\n    requesting: false,\n    openSubscriptionModal: false,\n    tab: 'post',\n    filter: initialFilter,\n    isGrid: false,\n    subscriptionType: 'monthly',\n    isFollowed: false\n  };\n\n  static async getInitialProps({ ctx }) {\n    const { query } = ctx;\n    try {\n      const [performer, countries] = await Promise.all([\n        performerService.findOne(query.username, {\n          Authorization: ctx.token || ''\n        }),\n        utilsService.countriesList()\n      ]);\n      return {\n        performer: performer?.data,\n        countries: countries?.data || []\n      };\n    } catch (e) {\n      const error = await Promise.resolve(e);\n      return { error };\n    }\n  }\n\n  async componentDidMount() {\n    const { performer } = this.props;\n    if (performer) {\n      const notShownWelcomeVideos = localStorage.getItem('notShownWelcomeVideos');\n      const showWelcomVideo = !notShownWelcomeVideos || (notShownWelcomeVideos && !notShownWelcomeVideos.includes(performer._id));\n      this.setState({ isBookMarked: performer.isBookMarked, showWelcomVideo, isFollowed: !!performer.isFollowed });\n      this.loadItems();\n    }\n  }\n\n  // eslint-disable-next-line react/sort-comp\n  handleViewWelcomeVideo() {\n    const { performer } = this.props;\n    const notShownWelcomeVideos = localStorage.getItem('notShownWelcomeVideos');\n    if (!notShownWelcomeVideos?.includes(performer._id)) {\n      const Ids = JSON.parse(notShownWelcomeVideos || '[]');\n      const values = Array.isArray(Ids) ? Ids.concat([performer._id]) : [performer._id];\n      localStorage.setItem('notShownWelcomeVideos', JSON.stringify(values));\n    }\n    this.setState({ showWelcomVideo: false });\n  }\n\n  async handleDeleteFeed(feed: IFeed) {\n    const { user, removeFeedSuccess: handleRemoveFeed } = this.props;\n    if (user._id !== feed.fromSourceId) {\n      message.error('Permission denied');\n      return;\n    }\n    if (!window.confirm('All earnings are related to this post will be refunded. Are you sure to remove?')) {\n      return;\n    }\n    try {\n      await feedService.delete(feed._id);\n      message.success('Deleted post success');\n      handleRemoveFeed({ feed });\n    } catch {\n      message.error('Something went wrong, please try again later');\n    }\n  }\n\n  handleFollow = async () => {\n    const { performer, user } = this.props;\n    const { isFollowed, requesting, tab } = this.state;\n    if (!user._id) {\n      message.error('Please log in or register!');\n      return;\n    }\n    if (requesting || user.isPerformer) return;\n    try {\n      this.setState({ requesting: true });\n      if (!isFollowed) {\n        await followService.create(performer?._id);\n        this.setState({ isFollowed: true, requesting: false });\n      } else {\n        await followService.delete(performer?._id);\n        this.setState({ isFollowed: false, requesting: false });\n      }\n      if (tab === 'post') {\n        this.loadItems();\n      }\n    } catch (e) {\n      const error = await e;\n      message.error(error.message || 'Error occured, please try again later');\n      this.setState({ requesting: false });\n    }\n  }\n\n  async handleBookmark() {\n    const { performer, user } = this.props;\n    const { isBookMarked, requesting } = this.state;\n    if (requesting || user.isPerformer) return;\n    try {\n      await this.setState({ requesting: true });\n      if (!isBookMarked) {\n        await reactionService.create({\n          objectId: performer?._id,\n          action: 'book_mark',\n          objectType: 'performer'\n        });\n        this.setState({ isBookMarked: true, requesting: false });\n      } else {\n        await reactionService.delete({\n          objectId: performer?._id,\n          action: 'book_mark',\n          objectType: 'performer'\n        });\n        this.setState({ isBookMarked: false, requesting: false });\n      }\n    } catch (e) {\n      const error = await e;\n      message.error(error.message || 'Error occured, please try again later');\n      this.setState({ requesting: false });\n    }\n  }\n\n  async handleFilterSearch(values) {\n    const { filter } = this.state;\n    await this.setState({ filter: { ...filter, ...values } });\n    this.loadItems();\n  }\n\n  handleJoinStream = () => {\n    const { user, performer } = this.props;\n    if (!user._id) {\n      message.error('Please log in or register!');\n      return;\n    }\n    if (user.isPerformer) return;\n    if (!performer?.isSubscribed) {\n      message.error('Please subscribe to this model!');\n      return;\n    }\n    Router.push({\n      pathname: '/streaming/details',\n      query: {\n        performer: JSON.stringify(performer),\n        username: performer?.username || performer?._id\n      }\n    }, `/streaming/${performer?.username || performer?._id}`);\n  }\n\n  async loadItems() {\n    const {\n      performer, getGalleries: handleGetGalleries, getVideos: handleGetVids, getFeeds: handleGetFeeds,\n      listProducts: handleGetProducts\n    } = this.props;\n    const {\n      itemPerPage, filter, tab\n    } = this.state;\n    const query = {\n      limit: itemPerPage,\n      offset: 0,\n      performerId: performer?._id,\n      q: filter.q || '',\n      fromDate: filter.fromDate || '',\n      toDate: filter.toDate || ''\n    };\n    switch (tab) {\n      case 'post':\n        this.setState({ feedPage: 0 }, () => handleGetFeeds({\n          ...query\n        }));\n        break;\n      case 'photo':\n        this.setState({ galleryPage: 0 }, () => handleGetGalleries({\n          ...query\n        }));\n        break;\n      case 'video':\n        this.setState({ videoPage: 0 }, () => handleGetVids({\n          ...query\n        }));\n        break;\n      case 'store':\n        this.setState({ productPage: 0 }, () => handleGetProducts({\n          ...query\n        }));\n        break;\n      default: break;\n    }\n  }\n\n  async subscribe() {\n    const { performer, user, settings } = this.props;\n    const { subscriptionType } = this.state;\n    if (!user._id) {\n      message.error('Please log in!');\n      Router.push('/');\n      return;\n    }\n    if (settings.paymentGateway === 'stripe' && !user.stripeCardIds.length) {\n      message.error('Please add a payment card');\n      Router.push('/user/cards');\n      return;\n    }\n    try {\n      this.setState({ submiting: true });\n      const resp = await paymentService.subscribePerformer({\n        type: subscriptionType,\n        performerId: performer._id,\n        paymentGateway: settings.paymentGateway\n      });\n      if (settings.paymentGateway === 'ccbill') {\n        window.location.href = resp?.data?.paymentUrl;\n      } else {\n        this.setState({ openSubscriptionModal: false });\n      }\n    } catch (e) {\n      const err = await e;\n      message.error(err.message || 'error occured, please try again later');\n      this.setState({ openSubscriptionModal: false, submiting: false });\n    }\n  }\n\n  async sendTip(price: number) {\n    const { performer, user, updateBalance: handleUpdateBalance } = this.props;\n    if (user.balance < price) {\n      message.error('You have an insufficient wallet balance. Please top up.');\n      Router.push('/wallet');\n      return;\n    }\n    try {\n      await this.setState({ requesting: true });\n      await tokenTransctionService.sendTip(performer?._id, { performerId: performer?._id, price });\n      message.success('Thank you for the tip');\n      handleUpdateBalance({ token: -price });\n    } catch (e) {\n      const err = await e;\n      message.error(err.message || 'error occured, please try again later');\n    } finally {\n      this.setState({ requesting: false, openTipModal: false });\n    }\n  }\n\n  async loadMoreItem() {\n    const {\n      feedPage, videoPage, productPage, itemPerPage, galleryPage,\n      tab, filter\n    } = this.state;\n    const {\n      moreFeeds: getMoreFeed,\n      moreVideo: getMoreVids,\n      moreProduct: getMoreProd,\n      moreGalleries: getMoreGallery,\n      performer\n    } = this.props;\n    const query = {\n      limit: itemPerPage,\n      performerId: performer._id,\n      q: filter.q || '',\n      fromDate: filter.fromDate || '',\n      toDate: filter.toDate || ''\n    };\n    if (tab === 'post') {\n      this.setState({\n        feedPage: feedPage + 1\n      }, () => getMoreFeed({\n        ...query,\n        offset: (feedPage + 1) * itemPerPage\n      }));\n    }\n    if (tab === 'video') {\n      this.setState({\n        videoPage: videoPage + 1\n      }, () => getMoreVids({\n        ...query,\n        offset: (videoPage + 1) * itemPerPage\n      }));\n    }\n    if (tab === 'photo') {\n      await this.setState({\n        galleryPage: galleryPage + 1\n      }, () => {\n        getMoreGallery({\n          ...query,\n          offset: (galleryPage + 1) * itemPerPage\n        });\n      });\n    }\n    if (tab === 'store') {\n      this.setState({\n        productPage: productPage + 1\n      }, () => getMoreProd({\n        ...query,\n        offset: (productPage + 1) * itemPerPage\n      }));\n    }\n  }\n\n  render() {\n    const {\n      error,\n      performer,\n      ui,\n      user,\n      feedState,\n      videoState,\n      productState,\n      galleryState,\n      countries,\n      settings\n    } = this.props;\n    if (error) {\n      return <Error statusCode={error?.statusCode || 404} title={error?.message || 'Sorry, we can\\'t find this page'} />;\n    }\n    const { items: feeds = [], total: totalFeed = 0, requesting: loadingFeed } = feedState;\n    const { items: videos = [], total: totalVideos = 0, requesting: loadingVideo } = videoState;\n    const { items: products = [], total: totalProducts = 0, requesting: loadingPrd } = productState;\n    const { items: galleries = [], total: totalGalleries = 0, requesting: loadingGallery } = galleryState;\n    const {\n      showWelcomVideo,\n      openTipModal,\n      submiting,\n      isBookMarked,\n      openSubscriptionModal,\n      tab,\n      isGrid,\n      subscriptionType,\n      isFollowed\n    } = this.state;\n    return (\n      <Layout>\n        <Head>\n          <title>\n            {`${ui?.siteName} | ${performer?.name || performer?.username}`}\n          </title>\n          <meta\n            name=\"keywords\"\n            content={`${performer?.username}, ${performer?.name}`}\n          />\n          <meta name=\"description\" content={performer?.bio} />\n          <meta property=\"og:type\" content=\"website\" />\n          <meta\n            property=\"og:title\"\n            content={`${ui?.siteName} | ${performer?.name || performer?.username}`}\n          />\n          <meta property=\"og:image\" content={performer?.avatar || '/static/no-avatar.png'} />\n          <meta\n            property=\"og:description\"\n            content={performer?.bio}\n          />\n          <meta name=\"twitter:card\" content=\"summary\" />\n          <meta\n            name=\"twitter:title\"\n            content={`${ui?.siteName} | ${performer?.name || performer?.username}`}\n          />\n          <meta name=\"twitter:image\" content={performer?.avatar || '/static/no-avatar.png'} />\n          <meta name=\"twitter:description\" content={performer?.bio} />\n        </Head>\n        <div className=\"main-container\">\n          <div className=\"top-profile\" style={{ backgroundImage: `url('${performer?.cover || '/static/banner-image.jpg'}')` }}>\n            <div className=\"bg-2nd\">\n              <div className=\"top-banner\">\n                <a aria-hidden className=\"arrow-back\" onClick={() => Router.back()}>\n                  <ArrowLeftOutlined />\n                </a>\n                <div className=\"stats-row\">\n                  <div className=\"tab-stat\">\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.totalFeeds || 0)}\n                        {' '}\n                        <FireOutlined />\n                      </span>\n                    </div>\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.totalVideos || 0)}\n                        {' '}\n                        <VideoCameraOutlined />\n                      </span>\n                    </div>\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.totalPhotos || 0)}\n                        {' '}\n                        <PictureOutlined />\n                      </span>\n                    </div>\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.totalProducts || 0)}\n                        {' '}\n                        <ShoppingOutlined />\n                      </span>\n                    </div>\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.likes || 0)}\n                        {' '}\n                        <HeartOutlined />\n                      </span>\n                    </div>\n                    <div className=\"tab-item\">\n                      <span>\n                        {shortenLargeNumber(performer?.stats?.subscribers || 0)}\n                        {' '}\n                        <UsergroupAddOutlined />\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"main-profile\">\n          <div className=\"main-container\">\n            <div className=\"fl-col\">\n              <Image\n                alt=\"main-avt\"\n                src={performer?.avatar || '/static/no-avatar.png'}\n                fallback=\"/static/no-avatar.png\"\n              />\n              {user?._id !== performer?._id && <span className={performer?.isOnline > 0 ? 'online-status' : 'online-status off'} />}\n              <div className=\"m-user-name\">\n                <h4>\n                  {performer?.name || 'N/A'}\n                  &nbsp;\n                  {performer?.verifiedAccount && (\n                    <TickIcon />\n                  )}\n                  &nbsp;\n                  {performer?.live > 0 && user?._id !== performer?._id && <a aria-hidden onClick={this.handleJoinStream} className=\"live-status\">Live</a>}\n                  {user?._id === performer?._id && <Link href=\"/model/account\"><a><EditOutlined className=\"primary-color\" /></a></Link>}\n                </h4>\n                <h5 style={{ textTransform: 'none' }}>\n                  @\n                  {performer?.username || 'n/a'}\n                </h5>\n              </div>\n            </div>\n            <div className=\"btn-grp\">\n              <Tooltip title={isFollowed ? 'Following' : 'Follow'}>\n                <Button\n                  disabled={!user._id || user.isPerformer}\n                  className={isBookMarked ? 'active' : ''}\n                  onClick={() => this.handleFollow()}\n                >\n                  {isFollowed ? <HeartFilled /> : <HeartOutlined />}\n                </Button>\n              </Tooltip>\n              <Tooltip title=\"Send Tip\">\n                <Button\n                  disabled={!user._id || user.isPerformer}\n                  onClick={() => this.setState({ openTipModal: true })}\n                >\n                  <DollarOutlined />\n                </Button>\n              </Tooltip>\n              <Tooltip title=\"Send Message\">\n                <Button\n                  disabled={!user._id || user.isPerformer}\n                  onClick={() => Router.push({\n                    pathname: '/messages',\n                    query: {\n                      toSource: 'performer',\n                      toId: (performer?._id) || ''\n                    }\n                  })}\n                >\n                  <MessageIcon />\n                </Button>\n              </Tooltip>\n              <Tooltip title={isBookMarked ? 'Remove from Bookmarks' : 'Add to Bookmarks'}>\n                <Button\n                  disabled={!user._id || user.isPerformer}\n                  className={isBookMarked ? 'active' : ''}\n                  onClick={() => this.handleBookmark()}\n                >\n                  <BookOutlined />\n                </Button>\n              </Tooltip>\n              <Popover title=\"Share to social network\" content={<ShareButtons siteName={ui.siteName} performer={performer} />}>\n                <Button className=\"normal\">\n                  <ShareIcon />\n                </Button>\n              </Popover>\n            </div>\n            <div className={user.isPerformer ? 'mar-0 pro-desc' : 'pro-desc'}>\n              <PerformerInfo countries={countries} performer={performer} />\n            </div>\n            {!performer?.isSubscribed && !user.isPerformer && (\n              <div className=\"subscription-bl\">\n                <h5>Monthly Subscription</h5>\n                <button\n                  type=\"button\"\n                  className=\"sub-btn\"\n                  disabled={(submiting)}\n                  onClick={() => {\n                    this.setState({ openSubscriptionModal: true, subscriptionType: 'monthly' });\n                  }}\n                >\n                  SUBSCRIBE FOR\n                  {' '}\n                  $\n                  {performer && performer?.monthlyPrice.toFixed(2)}\n                </button>\n              </div>\n            )}\n            {!performer?.isSubscribed && !user.isPerformer && (\n              <div className=\"subscription-bl\">\n                <h5>Yearly Subscription</h5>\n                <button\n                  type=\"button\"\n                  className=\"sub-btn\"\n                  disabled={(submiting)}\n                  onClick={() => {\n                    this.setState({ openSubscriptionModal: true, subscriptionType: 'yearly' });\n                  }}\n                >\n                  SUBSCRIBE FOR\n                  {' '}\n                  $\n                  {performer?.yearlyPrice.toFixed(2)}\n                </button>\n              </div>\n            )}\n            {performer?.isFreeSubscription && !performer?.isSubscribed && !user.isPerformer && (\n              <div className=\"subscription-bl\">\n                <h5>Free Subscription</h5>\n                <button\n                  type=\"button\"\n                  className=\"sub-btn\"\n                  disabled={(submiting)}\n                  onClick={() => {\n                    this.setState({ openSubscriptionModal: true, subscriptionType: 'free' });\n                  }}\n                >\n                  SUBSCRIBE FOR FREE FOR\n                  {' '}\n                  {performer?.durationFreeSubscriptionDays || 1}\n                  {' '}\n                  {performer?.durationFreeSubscriptionDays > 1 ? 'DAYS' : 'DAY'}\n                  {settings.paymentGateway === 'stripe' && ` THEN ${performer?.monthlyPrice.toFixed(2)} PER MONTH`}\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n        <div style={{ marginTop: '20px' }} />\n        <div className=\"main-container\">\n          <div className=\"model-content\">\n            <Tabs\n              defaultActiveKey=\"post\"\n              size=\"large\"\n              onTabClick={(t: string) => {\n                this.setState({ tab: t, filter: initialFilter, isGrid: false }, () => this.loadItems());\n              }}\n            >\n              <TabPane tab={<FireOutlined />} key=\"post\">\n                <div className=\"heading-tab\">\n                  <h4>\n                    {totalFeed > 0 && totalFeed}\n                    {' '}\n                    {totalFeed > 1 ? 'POSTS' : 'POST'}\n                  </h4>\n                  <SearchPostBar searching={loadingFeed} tab={tab} handleSearch={this.handleFilterSearch.bind(this)} handleViewGrid={(val) => this.setState({ isGrid: val })} />\n                </div>\n                <div className={isGrid ? 'main-container' : 'main-container custom'}>\n                  <ScrollListFeed\n                    items={feeds}\n                    loading={loadingFeed}\n                    canLoadmore={feeds && feeds.length < totalFeed}\n                    loadMore={this.loadMoreItem.bind(this)}\n                    isGrid={isGrid}\n                    onDelete={this.handleDeleteFeed.bind(this)}\n                  />\n                </div>\n              </TabPane>\n              <TabPane tab={<VideoCameraOutlined />} key=\"video\">\n                <div className=\"heading-tab\">\n                  <h4>\n                    {totalVideos > 0 && totalVideos}\n                    {' '}\n                    {totalVideos > 1 ? 'VIDEOS' : 'VIDEO'}\n                  </h4>\n                  <SearchPostBar searching={loadingVideo} tab={tab} handleSearch={this.handleFilterSearch.bind(this)} handleViewGrid={(val) => this.setState({ isGrid: val })} />\n                </div>\n                <div className=\"main-container\">\n                  <ScrollListVideo\n                    items={videos}\n                    loading={loadingVideo}\n                    canLoadmore={videos && videos.length < totalVideos}\n                    loadMore={this.loadMoreItem.bind(this)}\n                  />\n                </div>\n              </TabPane>\n              <TabPane tab={<PictureOutlined />} key=\"photo\">\n                <div className=\"heading-tab\">\n                  <h4>\n                    {totalGalleries > 0 && totalGalleries}\n                    {' '}\n                    {totalGalleries > 1 ? 'GALLERIES' : 'GALLERY'}\n                  </h4>\n                  <SearchPostBar searching={loadingGallery} tab={tab} handleSearch={this.handleFilterSearch.bind(this)} handleViewGrid={(val) => this.setState({ isGrid: val })} />\n                </div>\n                <div className=\"main-container\">\n                  <ScrollListGallery\n                    items={galleries}\n                    loading={loadingGallery}\n                    canLoadmore={galleries && galleries.length < totalGalleries}\n                    loadMore={this.loadMoreItem.bind(this)}\n                  />\n                </div>\n              </TabPane>\n              <TabPane tab={<ShoppingOutlined />} key=\"store\">\n                <div className=\"heading-tab\">\n                  <h4>\n                    {totalProducts > 0 && totalProducts}\n                    {' '}\n                    {totalProducts > 1 ? 'PRODUCTS' : 'PRODUCT'}\n                  </h4>\n                  <SearchPostBar searching={loadingPrd} tab={tab} handleSearch={this.handleFilterSearch.bind(this)} />\n                </div>\n                <ScrollListProduct\n                  items={products}\n                  loading={loadingPrd}\n                  canLoadmore={products && products.length < totalProducts}\n                  loadMore={this.loadMoreItem.bind(this)}\n                />\n              </TabPane>\n            </Tabs>\n          </div>\n        </div>\n        {performer\n          && performer?.welcomeVideoPath\n          && performer?.activateWelcomeVideo\n          && (\n            <Modal\n              key=\"welcome-video\"\n              className=\"welcome-video\"\n              destroyOnClose\n              closable={false}\n              maskClosable={false}\n              width={767}\n              visible={showWelcomVideo}\n              title={null}\n              centered\n              onCancel={() => this.setState({ showWelcomVideo: false })}\n              footer={[\n                <Button\n                  key=\"close\"\n                  className=\"secondary\"\n                  onClick={() => this.setState({ showWelcomVideo: false })}\n                >\n                  Close\n                </Button>,\n                <Button\n                  key=\"not-show\"\n                  className=\"primary\"\n                  onClick={this.handleViewWelcomeVideo.bind(this)}\n                >\n                  Don&apos;t show this again\n                </Button>\n              ]}\n            >\n              <VideoPlayer {...{\n                key: `${performer._id}`,\n                controls: true,\n                playsinline: true,\n                sources: [\n                  {\n                    src: performer?.welcomeVideoPath,\n                    type: 'video/mp4'\n                  }\n                ]\n              }}\n              />\n            </Modal>\n          )}\n        <Modal\n          key=\"tip_performer\"\n          className=\"subscription-modal\"\n          visible={openTipModal}\n          centered\n          onOk={() => this.setState({ openTipModal: false })}\n          footer={null}\n          width={600}\n          title={null}\n          onCancel={() => this.setState({ openTipModal: false })}\n        >\n          <TipPerformerForm\n            performer={performer}\n            submiting={submiting}\n            onFinish={this.sendTip.bind(this)}\n          />\n        </Modal>\n        <Modal\n          key=\"subscribe_performer\"\n          className=\"subscription-modal\"\n          width={600}\n          centered\n          title={null}\n          visible={openSubscriptionModal}\n          footer={null}\n          onCancel={() => this.setState({ openSubscriptionModal: false })}\n          destroyOnClose\n        >\n          <ConfirmSubscriptionPerformerForm\n            type={subscriptionType || 'monthly'}\n            performer={performer}\n            submiting={submiting}\n            onFinish={this.subscribe.bind(this)}\n          />\n        </Modal>\n        {submiting && <Loader customText=\"We are processing your payment, please do not reload this page until it's done.\" />}\n      </Layout>\n    );\n  }\n}\n\nconst mapStates = (state: any) => ({\n  ui: { ...state.ui },\n  videoState: { ...state.video.videos },\n  feedState: { ...state.feed.feeds },\n  productState: { ...state.product.products },\n  galleryState: { ...state.gallery.galleries },\n  user: { ...state.user.current },\n  settings: { ...state.settings }\n});\n\nconst mapDispatch = {\n  getFeeds,\n  moreFeeds,\n  getVideos,\n  moreVideo,\n  listProducts,\n  moreProduct,\n  getGalleries,\n  moreGalleries,\n  removeFeedSuccess,\n  updateBalance\n};\nexport default connect(mapStates, mapDispatch)(PerformerProfile);\n"]},"metadata":{},"sourceType":"module"}